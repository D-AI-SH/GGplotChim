/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,n,t)=>{t.r(n),t.d(n,{parseRCodeToBlocksWithAST:()=>p,parseRCodeWithWebR:()=>o,validateParsedBlocks:()=>f});var r=t(998);function a(e){let n=Object.keys(e.params).filter(n=>{const t=e.params[n];return null!=t&&""!==t}).length;0===n&&(n=1);let t=0;switch(e.blockType){case r._.GGPLOT_INIT:t=30;break;case r._.GEOM_BAR:case r._.GEOM_POINT:case r._.GEOM_LINE:case r._.GEOM_BOXPLOT:case r._.GEOM_HISTOGRAM:t=20;break;case r._.THEME:case r._.THEME_MINIMAL:case r._.THEME_CLASSIC:t=15}return n>5&&(t+=10*(n-5)),130+45*n+30+t}async function o(e,n){try{console.log("[AST] ÂºÄÂßãËß£ÊûêR‰ª£Á†Å...");const t=await n.evalR(`\n      tryCatch({\n        # Â§ßÂπÖÂ¢ûÂä†ÈÄíÂΩíÊ∑±Â∫¶ÈôêÂà∂ÔºåÁ°Æ‰øùËÉΩÂ§ÑÁêÜÂ§çÊùÇ‰ª£Á†Å\n        old_options <- options(\n          expressions = 50000,  # ‰ªéÈªòËÆ§5000Â¢ûÂä†Âà∞50000\n          nwarnings = 10000\n        )\n        on.exit(options(old_options), add = TRUE)\n        \n        # Ëß£Êûê‰ª£Á†Å\n        parsed <- parse(text = ${JSON.stringify(e)})\n        \n        # ÂÆåÊï¥ÁöÑASTËΩ¨Êç¢ - ‰ΩøÁî®Â∞æÈÄíÂΩí‰ºòÂåñ\n        # üîß ÂÖ≥ÈîÆÊîπËøõÔºö‰∏∫ÊØè‰∏™ËäÇÁÇπÊ∑ªÂä† deparse Â≠óÊÆµ‰Ωú‰∏∫Â§áÁî®\n        ast_to_list <- function(expr) {\n          if (is.null(expr)) {\n            return(NULL)\n          }\n          \n          # üîß ‰∏∫ÊâÄÊúâË°®ËææÂºèÁîüÊàê deparse Â§áÁî®\n          deparse_str <- tryCatch(\n            paste(deparse(expr, width.cutoff = 500L), collapse = " "),\n            error = function(e) NULL\n          )\n          \n          # Âü∫Á°ÄÁ±ªÂûã\n          if (is.atomic(expr)) {\n            if (length(expr) == 1) {\n              return(list(\n                type = "literal",\n                value = as.character(expr),\n                class = class(expr)[1],\n                deparse = deparse_str\n              ))\n            } else {\n              # ÂêëÈáè\n              return(list(\n                type = "vector",\n                values = as.character(expr),\n                class = class(expr)[1],\n                length = length(expr),\n                deparse = deparse_str\n              ))\n            }\n          }\n          \n          # Á¨¶Âè∑/ÂèòÈáèÂêç\n          if (is.symbol(expr)) {\n            return(list(\n              type = "symbol",\n              name = as.character(expr),\n              deparse = deparse_str\n            ))\n          }\n          \n          # Ë∞ÉÁî®Ë°®ËææÂºè\n          if (is.call(expr)) {\n            func_name <- tryCatch(\n              as.character(expr[[1]]),\n              error = function(e) "unknown"\n            )\n            \n            args_list <- list()\n            arg_names <- names(expr)\n            \n            # ÊèêÂèñÊâÄÊúâÂèÇÊï∞\n            if (length(expr) > 1) {\n              for (i in 2:length(expr)) {\n                arg_name <- if (!is.null(arg_names) && i <= length(arg_names) && !is.na(arg_names[i]) && arg_names[i] != "") {\n                  arg_names[i]\n                } else {\n                  paste0("_pos_", i - 1)\n                }\n                \n                # ÈÄíÂΩíÂ§ÑÁêÜÂèÇÊï∞\n                args_list[[arg_name]] <- ast_to_list(expr[[i]])\n              }\n            }\n            \n            return(list(\n              type = "call",\n              function_name = func_name,\n              arguments = args_list,\n              deparse = deparse_str\n            ))\n          }\n          \n          # Pairlist (Áî®‰∫éÂáΩÊï∞ÂèÇÊï∞)\n          if (is.pairlist(expr)) {\n            return(list(\n              type = "pairlist",\n              items = lapply(as.list(expr), ast_to_list),\n              deparse = deparse_str\n            ))\n          }\n          \n          # ÂÖ∂‰ªñË°®ËææÂºèÁ±ªÂûã\n          return(list(\n            type = "expression",\n            class = paste(class(expr), collapse = ","),\n            deparse = deparse_str\n          ))\n        }\n        \n        # ËΩ¨Êç¢ÊâÄÊúâË°®ËææÂºè\n        result <- lapply(parsed, ast_to_list)\n        \n        # ËøîÂõûJSON\n        jsonlite::toJSON(result, auto_unbox = TRUE, pretty = TRUE)\n      }, error = function(e) {\n        # ËøîÂõûÈîôËØØ‰ø°ÊÅØ\n        jsonlite::toJSON(list(\n          error = TRUE,\n          message = as.character(e$message)\n        ), auto_unbox = TRUE)\n      })\n    `),r=await t.toJs(),a=JSON.parse(r.values[0]);return console.log("[AST] ËØ≠Ê≥ïÊ†ëÁªìÊûÑ:"),console.log(JSON.stringify(a,null,2)),console.log("\n[AST] ËäÇÁÇπÂàóË°®:"),a.forEach((e,n)=>{console.log(`${n+1}. ${e.function_name||e.type}: ${e.deparse?.substring(0,80)}...`)}),a}catch(e){throw console.error("[AST] Ëß£ÊûêÈîôËØØ:",e),e}}function i(e){return!(!e||"call"!==e.type)&&("+"!==e.function_name?["ggplot","aes","labs","xlab","ylab","ggtitle","geom_point","geom_line","geom_bar","geom_col","geom_histogram","geom_boxplot","geom_violin","geom_area","geom_ribbon","geom_polygon","geom_path","geom_segment","geom_tile","geom_raster","geom_text","geom_label","geom_smooth","geom_density","geom_density2d","geom_hex","geom_bin2d","geom_contour","geom_contour_filled","scale_x_continuous","scale_y_continuous","scale_x_discrete","scale_y_discrete","scale_x_log10","scale_y_log10","scale_x_sqrt","scale_y_sqrt","scale_x_reverse","scale_y_reverse","scale_x_date","scale_y_date","scale_x_datetime","scale_y_datetime","scale_color_manual","scale_fill_manual","scale_color_gradient","scale_fill_gradient","scale_color_gradient2","scale_fill_gradient2","scale_color_gradientn","scale_fill_gradientn","scale_color_brewer","scale_fill_brewer","scale_color_viridis","scale_fill_viridis","scale_color_viridis_d","scale_fill_viridis_d","scale_color_viridis_c","scale_fill_viridis_c","theme","theme_gray","theme_bw","theme_linedraw","theme_light","theme_dark","theme_minimal","theme_classic","theme_void","coord_cartesian","coord_fixed","coord_flip","coord_polar","coord_trans","coord_map","coord_quickmap","facet_wrap","facet_grid","guides","guide_legend","guide_colorbar","annotate","xlim","ylim","lims","expand_limits"].includes(e.function_name):i(e.arguments?._pos_1))}function l(e,n){if(!e||"call"!==e.type)return[];if("+"!==e.function_name){const t=c(e,n);return t?[t]:[]}return[...l(e.arguments._pos_1,n),...l(e.arguments._pos_2,n)]}function s(e,n){if(!e)return[];if("call"===e.type&&"for"===e.function_name){const t=c(e,n);if(!t)return[];t.children={body:[]};const r=[t],a=e.arguments?._pos_3;if(a){const e=s(a,n);for(const n of e)n.parentId||(n.parentId=t.id,n.slotName="body",t.children.body.push(n.id));r.push(...e)}return r}if("call"===e.type&&"if"===e.function_name){const t=c(e,n);if(!t)return[];t.children={then:[],else:[]};const r=[t],a=e.arguments?._pos_2;if(a){const e=s(a,n);for(const n of e)n.parentId||(n.parentId=t.id,n.slotName="then",t.children.then.push(n.id));r.push(...e)}const o=e.arguments?._pos_3;if(o){const e=s(o,n);for(const n of e)n.parentId||(n.parentId=t.id,n.slotName="else",t.children.else.push(n.id));r.push(...e)}return r}if("call"!==e.type||"{"!==e.function_name){const t=c(e,n);return t?[t]:[]}const t=[],r=e.arguments||{};let a=1;for(;r[`_pos_${a}`];){const e=s(r[`_pos_${a}`],n);t.push(...e),a++}return t}function c(e,n){if(!e||e.error)return null;if("call"===e.type){let a=e.function_name;const o=e.arguments||{};if(Array.isArray(a)&&3===a.length&&"::"===a[0]?a=`${a[1]}::${a[2]}`:Array.isArray(a)&&(a=String(a)),"+"===a)return null;if("<-"===a||"="===a||"[<-"===a||"[[<-"===a||"$<-"===a){if("[<-"===a||"[[<-"===a||"$<-"===a){if(e.deparse)return{id:"block-"+n.value++,blockType:r._.CUSTOM_CODE,position:{x:100,y:100},params:{code:e.deparse},connections:{input:null,output:null},order:0};const t=u(o._pos_1),i=u(o._pos_3);let l=t;"[<-"===a&&o._pos_2?l=`${t}[${u(o._pos_2)}]`:"[[<-"===a&&o._pos_2?l=`${t}[[${u(o._pos_2)}]]`:"$<-"===a&&o._pos_2&&(l=`${t}$${u(o._pos_2)}`);const s=`${l} <- ${i}`;return{id:"block-"+n.value++,blockType:r._.CUSTOM_CODE,position:{x:100,y:100},params:{code:s},connections:{input:null,output:null},order:0}}const t=u(o._pos_1),i=u(o._pos_2);return i.includes("<UNPARSEABLE_EXPRESSION>")&&e.deparse?{id:"block-"+n.value++,blockType:r._.CUSTOM_CODE,position:{x:100,y:100},params:{code:e.deparse},connections:{input:null,output:null},order:0}:"data"===t?{id:"block-"+n.value++,blockType:r._.DATA_IMPORT,position:{x:100,y:100},params:{source:i},connections:{input:null,output:null},order:0}:{id:"block-"+n.value++,blockType:r._.ASSIGN,position:{x:100,y:100},params:{variable:t,value:i},connections:{input:null,output:null},order:0}}if("for"===a){const e=u(o._pos_1),t=u(o._pos_2);return{id:"block-"+n.value++,blockType:r._.FOR_LOOP,position:{x:100,y:100},params:{var:e,range:t},connections:{input:null,output:null},order:0}}if("if"===a){const e=u(o._pos_1);return{id:"block-"+n.value++,blockType:r._.IF_STATEMENT,position:{x:100,y:100},params:{condition:e},connections:{input:null,output:null},order:0}}const i=(t=a,{library:r._.LIBRARY,print:r._.PRINT,ggplot:r._.GGPLOT_INIT,aes:r._.AES,geom_point:r._.GEOM_POINT,geom_line:r._.GEOM_LINE,geom_bar:r._.GEOM_BAR,geom_col:r._.GEOM_COL,geom_histogram:r._.GEOM_HISTOGRAM,geom_boxplot:r._.GEOM_BOXPLOT,geom_smooth:r._.GEOM_SMOOTH,geom_text:r._.GEOM_TEXT,geom_area:r._.GEOM_AREA,geom_segment:r._.GEOM_SEGMENT,scale_x_continuous:r._.SCALE_X_CONTINUOUS,scale_y_continuous:r._.SCALE_Y_CONTINUOUS,scale_color_manual:r._.SCALE_COLOR_MANUAL,scale_fill_manual:r._.SCALE_FILL_MANUAL,scale_color_brewer:r._.SCALE_COLOR_BREWER,scale_fill_gradient:r._.SCALE_FILL_GRADIENT,scale_fill_viridis:r._.SCALE_FILL_VIRIDIS,coord_flip:r._.COORD_FLIP,coord_cartesian:r._.COORD_CARTESIAN,coord_polar:r._.COORD_POLAR,ylim:r._.YLIM,facet_wrap:r._.FACET_WRAP,facet_grid:r._.FACET_GRID,stat_summary:r._.STAT_SUMMARY,stat_smooth:r._.STAT_SMOOTH,labs:r._.LABS,ggtitle:r._.GGTITLE,xlab:r._.XLAB,ylab:r._.YLAB,theme_minimal:r._.THEME_MINIMAL,theme_classic:r._.THEME_CLASSIC,theme_bw:r._.THEME_BW,theme_gray:r._.THEME_GRAY,theme_light:r._.THEME_LIGHT,theme_dark:r._.THEME_DARK,theme_void:r._.THEME_VOID,theme:r._.THEME,ggsave:r._.GGSAVE,annotate:r._.ANNOTATE,"ggplot2::annotate":r._.ANNOTATE,gather:r._.GATHER,arrange:r._.ARRANGE,mutate:r._.MUTATE,summarize:r._.SUMMARIZE,group_by:r._.GROUP_BY,rowwise:r._.ROWWISE,unit:r._.UNIT,element_blank:r._.ELEMENT_BLANK,c:r._.C_VECTOR,seq:r._.SEQ,rep:r._.REP,paste:r._.PASTE,factor:r._.FACTOR,"as.factor":r._.AS_FACTOR,ifelse:r._.IFELSE,"data.frame":r._.DATA_FRAME,matrix:r._.MATRIX,rbind:r._.RBIND,cbind:r._.CBIND,nrow:r._.NROW,ncol:r._.NCOL,colnames:r._.COLNAMES,rownames:r._.ROWNAMES,levels:r._.LEVELS,nlevels:r._.NLEVELS,sum:r._.SUM,mean:r._.MEAN,min:r._.MIN,max:r._.MAX,median:r._.MEDIAN,sd:r._.SD,var:r._.VAR,length:r._.LENGTH,sample:r._.SAMPLE}[t]||null);if(!i){const e=[];for(const[n,t]of Object.entries(o)){const r=u(t);n.startsWith("_pos_")?e.push(r):e.push(`${n} = ${r}`)}const t=e.join(", ");return{id:"block-"+n.value++,blockType:r._.FUNCTION_CALL,position:{x:100,y:100},params:{function_name:a,args:t},connections:{input:null,output:null},order:0}}const l=function(e,n){const t={};if(e===r._.THEME||e===r._.THEME_MINIMAL||e===r._.THEME_CLASSIC||e===r._.THEME_BW||e===r._.THEME_GRAY||e===r._.THEME_LIGHT||e===r._.THEME_DARK||e===r._.THEME_VOID){const a=[];for(const[e,t]of Object.entries(n)){if(!t)continue;const n=u(t);e.startsWith("_pos_")?a.push(n):a.push(`${e} = ${n}`)}return e===r._.THEME?t.custom=a.join(", "):t.args=a.join(", "),t}if(e===r._.PASTE){const e=[];let r;for(const[t,a]of Object.entries(n)){if(!a)continue;const n=u(a);"sep"===t?r=n:t.startsWith("_pos_")?e.push(n):e.push(`${t} = ${n}`)}return t.elements=e.join(", "),r&&(t.sep=r),t}if(e===r._.C_VECTOR){const e=[];for(const[t,r]of Object.entries(n)){if(!r)continue;const n=u(r);t.startsWith("_pos_")&&e.push(n)}return t.elements=e.join(", "),t}if(e===r._.DATA_FRAME){const e=[];for(const[t,r]of Object.entries(n)){if(!r)continue;const n=u(r);t.startsWith("_pos_")?e.push(n):e.push(`${t} = ${n}`)}return t.columns=e.join(", "),t}if(e===r._.RBIND||e===r._.CBIND){const e=[];for(const[t,r]of Object.entries(n)){if(!r)continue;const n=u(r);t.startsWith("_pos_")&&e.push(n)}return t.objects=e.join(", "),t}if([r._.SUM,r._.MEAN,r._.MIN,r._.MAX,r._.MEDIAN,r._.SD,r._.VAR].includes(e)){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.x=n:"na.rm"!==e&&"na_rm"!==e||(t.na_rm="TRUE"===n)}return t}if([r._.NROW,r._.NCOL,r._.COLNAMES,r._.ROWNAMES,r._.LEVELS,r._.NLEVELS,r._.LENGTH,r._.AS_FACTOR].includes(e)){for(const[e,r]of Object.entries(n))r&&"_pos_1"===e&&(t.x=u(r));return t}if(e===r._.SEQ){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.from=n:"_pos_2"===e?t.to=n:"by"===e?t.by=n:"length.out"!==e&&"length_out"!==e||(t.length_out=n)}return t}if(e===r._.REP){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.x=n:"_pos_2"===e||"times"===e?t.times=n:"each"===e&&(t.each=n)}return t}if(e===r._.FACTOR){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.x=n:"levels"===e?t.levels=n:"labels"===e&&(t.labels=n)}return t}if(e===r._.IFELSE){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.test=n:"_pos_2"===e?t.yes=n:"_pos_3"===e&&(t.no=n)}return t}if(e===r._.MATRIX){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.data=n:"_pos_2"===e?t.nrow=n:"_pos_3"===e?t.ncol=n:"nrow"===e?t.nrow=n:"ncol"===e&&(t.ncol=n)}return t}if(e===r._.SAMPLE){for(const[e,r]of Object.entries(n)){if(!r)continue;const n=u(r);"_pos_1"===e?t.x=n:"_pos_2"===e||"size"===e?t.size=n:"replace"===e&&(t.replace="TRUE"===n)}return t}for(const[a,o]of Object.entries(n)){if(!o)continue;const n=o;if(a.startsWith("_pos_")){const o=parseInt(a.replace("_pos_",""));if(e===r._.LIBRARY&&1===o)t.package=u(n);else if(e===r._.GGPLOT_INIT)1===o?t.data=u(n):2===o&&(t.mapping=u(n));else if(e===r._.PRINT&&1===o)t.value=u(n);else if(1!==o&&2!==o||e!==r._.GEOM_POINT&&e!==r._.GEOM_LINE&&e!==r._.GEOM_BAR&&e!==r._.GEOM_COL&&e!==r._.GEOM_HISTOGRAM&&e!==r._.GEOM_BOXPLOT&&e!==r._.GEOM_SMOOTH&&e!==r._.GEOM_TEXT&&e!==r._.GEOM_AREA&&e!==r._.GEOM_SEGMENT)if(e===r._.ANNOTATE&&1===o)t.geom=u(n);else if(e===r._.GGSAVE)if(1===o){const e=u(n);"Symbol"===n.type||"string"==typeof e&&!e.startsWith('"')&&!e.startsWith("'")?t.plot=e:t.file=e}else 2===o&&(t.file=u(n));else e===r._.YLIM?1===o?t.min=u(n):2===o&&(t.max=u(n)):e===r._.GATHER?1===o?t.key=u(n):2===o&&(t.value=u(n)):e===r._.UNIT&&(1===o?t.values=u(n):2===o&&(t.units=u(n)));else"call"===n.type&&"aes"===n.function_name?t.mapping=u(n):t.data=u(n)}else t[{"inherit.aes":"inherit_aes","na.rm":"na_rm","length.out":"length_out"}[a]||a]=u(n)}return t}(i,o);return{id:"block-"+n.value++,blockType:i,position:{x:100,y:100},params:l,connections:{input:null,output:null},order:0}}var t;return null}function d(e){return!/^[a-zA-Z.][a-zA-Z0-9._]*$/.test(e)}function u(e){if(!e)return"";if("literal"===e.type){const n=e.value||"",t=e.class;return"NA"===n||"NA_integer_"===n||"NA_real_"===n||"NA_character_"===n||"NA_complex_"===n?"NA"!==n&&n?n:"NA":"character"===t?!n||n.startsWith('"')||n.startsWith("'")?n||'""':`"${n}"`:"logical"===t?n||"NA":"NULL"===n||"NaN"===n||"Inf"===n||"-Inf"===n?n:n||"logical"!==t?n||"0":"NA"}if("symbol"===e.type){const n=e.name||"";return n&&(n.includes(" ")||n.includes("[")||n.includes("]")||/^[0-9]/.test(n)||/[^a-zA-Z0-9_.]/.test(n))?`\`${n}\``:n}if("call"===e.type){const n=e.function_name||"",t=e.arguments||{},r=[":","+","-","*","/","^","%%","%/%","==","!=","<",">","<=",">=","&","|","&&","||","%>%","%in%","%*%","$","[","[[","::",":::","@","(",")"];if(r.includes(n)&&e.deparse&&"string"==typeof e.deparse&&"$"!==n&&"["!==n&&"[["!==n&&"::"!==n&&":::"!==n)return e.deparse;if(r.includes(n)){const e=[];for(const[n,r]of Object.entries(t))n.startsWith("_pos_")&&e.push(u(r));if("$"===n&&2===e.length)return`${e[0]}$${e[1]}`;if("@"===n&&2===e.length)return`${e[0]}@${e[1]}`;if("["===n&&e.length>=2)return`${e[0]}[${e.slice(1).join(", ")}]`;if("[["===n&&e.length>=2)return`${e[0]}[[${e.slice(1).join(", ")}]]`;if(2===e.length){const t=e[0],r=e[1];return":"===n||"::"===n||":::"===n?`${t}${n}${r}`:`${t} ${n} ${r}`}if(1===e.length&&("+"===n||"-"===n))return`${n}${e[0]}`}const a=[];for(const[e,n]of Object.entries(t)){const t=u(n);if(e.startsWith("_pos_"))a.push(t);else{const n=d(e)?`"${e}"`:e;a.push(`${n} = ${t}`)}}return`${n}(${a.join(", ")})`}return"expression"===e.type&&e.deparse||e.deparse&&"string"==typeof e.deparse&&e.deparse.trim()?e.deparse:void 0!==e.value&&null!==e.value?String(e.value):"<UNPARSEABLE_EXPRESSION>"}async function p(e,n){const t=[],d={value:1};try{const u=await n.evalR('require("jsonlite", quietly = TRUE)');await u.toBoolean()||(await n.installPackages(["jsonlite"]),await n.evalR("library(jsonlite)"));const p=await o(e,n);if(p.error)return t;if(!Array.isArray(p))return t;const f={id:"block-"+d.value++,blockType:r._.START,position:{x:100,y:100},params:{},connections:{input:null,output:null},order:0};t.push(f);const g=100,m=600,h=100,b=40;let y=h+a(f)+b,v=h;for(let e=0;e<p.length;e++){const n=p[e];let r,o=null;if("call"===n.type&&"<-"===n.function_name&&n.arguments?._pos_2){const e=n.arguments._pos_2;if("call"===e.type&&"+"===e.function_name&&i(e)){o=e;const t=n.arguments._pos_1;t&&"symbol"===t.type&&(r=t.name||t.value)}}else"call"===n.type&&"+"===n.function_name&&i(n)&&(o=n);if(o){const e=l(o,d);if(e.length>0){const n=e[0];console.log(`üìç [ASTËß£ÊûêÂô®] Á¨¨‰∏Ä‰∏™ÁßØÊú®: ${n.id}, Á±ªÂûã: ${n.blockType}`),n.position.x=g,n.position.y=y,n.order=0,r?(n.assignedTo=r,console.log(`üìù [ASTËß£ÊûêÂô®] ggplot ÈìæËµãÂÄºÁªôÂèòÈáè: ${r}, Â∑≤ËÆæÁΩÆÂà∞ÁßØÊú® ${n.id}`),console.log(`üîç [ASTËß£ÊûêÂô®] È™åËØÅÁßØÊú®Â±ûÊÄß: assignedTo = ${n.assignedTo}`)):console.log("‚ö†Ô∏è [ASTËß£ÊûêÂô®] Ê≤°ÊúâÊ£ÄÊµãÂà∞ÂèòÈáèËµãÂÄº"),e.length>1&&(n.ggplotConnections=e.slice(1).map(e=>e.id),console.log(`üîó [AST] ggplot ‰∏ªÁßØÊú® ${n.id} (${n.blockType}) ËÆæÁΩÆËôöÁ∫øËøûÊé•Âà∞:`,n.ggplotConnections)),t.push(n);const o=a(n);if(y+=o+b,console.log(`  üìè ggplot ‰∏ªÁßØÊú® ${n.id} Âú®Â∑¶ÂàóÔºå‰ΩçÁΩÆ: (${n.position.x}, ${n.position.y}), È´òÂ∫¶: ${o}px`),e.length>1){let r=Math.max(v,n.position.y);for(let n=1;n<e.length;n++){const o=e[n];o.position.x=m,o.position.y=r,o.order=n,t.push(o);const i=a(o);r+=i+b,console.log(`  üìè ÂõæÂ±ÇÁßØÊú® ${o.id} (${o.blockType}) Âú®Âè≥ÂàóÔºå‰ΩçÁΩÆ: (${o.position.x}, ${o.position.y}), È´òÂ∫¶: ${i}px`)}v=r+30,console.log(`‚úÖ [ASTËß£ÊûêÂô®] ÈìæÂºèË∞ÉÁî®Ëß£ÊûêÂÆåÊàêÔºöggplotÂú®Â∑¶ÂàóÔºå${e.length-1}‰∏™ÂõæÂ±ÇÂú®Âè≥ÂàóÔºåÂè≥Âàó‰∏ã‰∏Ä‰∏™‰ΩçÁΩÆ: ${v}px`)}}}else if("call"===n.type&&"for"===n.function_name){console.log("üîÑ [ASTËß£ÊûêÂô®] Ê£ÄÊµãÂà∞ for Âæ™ÁéØÔºåÂ±ïÂºÄÂæ™ÁéØ‰Ωì");const e=c(n,d);if(e){e.position.x=g,e.position.y=y,e.children={body:[]},t.push(e);const r=a(e);y+=r+b,console.log(`  üìè for Âæ™ÁéØÁßØÊú® ${e.id} ‰ΩçÁΩÆ: (${e.position.x}, ${e.position.y}), È´òÂ∫¶: ${r}px`);const o=n.arguments?._pos_3;if(o){console.log("  üì¶ [ASTËß£ÊûêÂô®] ÂºÄÂßãÂ±ïÂºÄ for Âæ™ÁéØ‰Ωì");const n=s(o,d);console.log(`  üì¶ [ASTËß£ÊûêÂô®] Âæ™ÁéØ‰ΩìÂåÖÂê´ ${n.length} ‰∏™ÁßØÊú®`);for(const r of n){r.parentId||(r.parentId=e.id,r.slotName="body",e.children.body.push(r.id)),r.position.x=g+30,r.position.y=y,t.push(r);const n=a(r);y+=n+b,console.log(`  üìè Âæ™ÁéØ‰ΩìÁßØÊú® ${r.id} (${r.blockType}) ‰ΩçÁΩÆ: (${r.position.x}, ${r.position.y}), È´òÂ∫¶: ${n}px, Áà∂ÁßØÊú®: ${r.parentId||"Êó†"}`)}console.log(`‚úÖ [ASTËß£ÊûêÂô®] for Âæ™ÁéØ ${e.id} ÂåÖÂê´ ${e.children.body.length} ‰∏™Áõ¥Êé•Â≠êÁßØÊú®ÔºàÂÖ± ${n.length} ‰∏™ÁßØÊú®Âê´Â≠ôÁßØÊú®Ôºâ:`,e.children.body)}}}else if("call"===n.type&&"if"===n.function_name){console.log("‚ùì [ASTËß£ÊûêÂô®] Ê£ÄÊµãÂà∞ if ËØ≠Âè•ÔºåÂ±ïÂºÄ then/else ÂàÜÊîØ");const e=c(n,d);if(e){e.position.x=g,e.position.y=y,e.children={then:[],else:[]},t.push(e);const r=a(e);y+=r+b,console.log(`  üìè if ËØ≠Âè•ÁßØÊú® ${e.id} ‰ΩçÁΩÆ: (${e.position.x}, ${e.position.y}), È´òÂ∫¶: ${r}px`);const o=n.arguments?._pos_2;if(o){console.log("  ‚úÖ [ASTËß£ÊûêÂô®] ÂºÄÂßãÂ±ïÂºÄ if-then ÂàÜÊîØ");const n=s(o,d);console.log(`  ‚úÖ [ASTËß£ÊûêÂô®] then ÂàÜÊîØÂåÖÂê´ ${n.length} ‰∏™ÁßØÊú®`);for(const r of n){r.parentId||(r.parentId=e.id,r.slotName="then",e.children.then.push(r.id)),r.position.x=g+30,r.position.y=y,t.push(r);const n=a(r);y+=n+b,console.log(`  üìè then ÂàÜÊîØÁßØÊú® ${r.id} (${r.blockType}) ‰ΩçÁΩÆ: (${r.position.x}, ${r.position.y}), È´òÂ∫¶: ${n}px, Áà∂ÁßØÊú®: ${r.parentId||"Êó†"}`)}console.log(`‚úÖ [ASTËß£ÊûêÂô®] if-then ÂàÜÊîØ ${e.id} ÂåÖÂê´ ${e.children.then.length} ‰∏™Áõ¥Êé•Â≠êÁßØÊú®ÔºàÂÖ± ${n.length} ‰∏™ÁßØÊú®Âê´Â≠ôÁßØÊú®Ôºâ:`,e.children.then)}const i=n.arguments?._pos_3;if(i){console.log("  ‚ùé [ASTËß£ÊûêÂô®] ÂºÄÂßãÂ±ïÂºÄ if-else ÂàÜÊîØ");const n=s(i,d);console.log(`  ‚ùé [ASTËß£ÊûêÂô®] else ÂàÜÊîØÂåÖÂê´ ${n.length} ‰∏™ÁßØÊú®`);for(const r of n){r.parentId||(r.parentId=e.id,r.slotName="else",e.children.else.push(r.id)),r.position.x=g+30,r.position.y=y,t.push(r);const n=a(r);y+=n+b,console.log(`  üìè else ÂàÜÊîØÁßØÊú® ${r.id} (${r.blockType}) ‰ΩçÁΩÆ: (${r.position.x}, ${r.position.y}), È´òÂ∫¶: ${n}px, Áà∂ÁßØÊú®: ${r.parentId||"Êó†"}`)}console.log(`‚úÖ [ASTËß£ÊûêÂô®] if-else ÂàÜÊîØ ${e.id} ÂåÖÂê´ ${e.children.else.length} ‰∏™Áõ¥Êé•Â≠êÁßØÊú®ÔºàÂÖ± ${n.length} ‰∏™ÁßØÊú®Âê´Â≠ôÁßØÊú®Ôºâ:`,e.children.else)}}}else{const r=c(n,d);if(r){r.position.x=g,r.position.y=y,t.push(r),console.log("‚úÖ [ASTËß£ÊûêÂô®] ÊàêÂäüÂàõÂª∫ÁßØÊú®:",r.blockType,"ÂèÇÊï∞:",r.params);const e=a(r);y+=e+b,console.log(`  üìè ÁßØÊú® ${r.id} ‰ΩçÁΩÆ: (${r.position.x}, ${r.position.y}), È´òÂ∫¶: ${e}px, Â∑¶Âàó‰∏ã‰∏Ä‰∏™‰ΩçÁΩÆ: ${y}px`)}else console.warn(`‚ö†Ô∏è [ASTËß£ÊûêÂô®] ËäÇÁÇπ ${e+1} Êó†Ê≥ïËΩ¨Êç¢‰∏∫ÁßØÊú®`)}}console.log("\nüîó [ASTËß£ÊûêÂô®] ËÆæÁΩÆÂÆûÁ∫øËøûÊé•ÔºàÊâßË°åÈ°∫Â∫èÔºâ...");const x=new Set,w=new Set;t.forEach(e=>{e.ggplotConnections&&e.ggplotConnections.length>0&&(w.add(e.id),x.add(e.id),e.ggplotConnections.forEach(e=>{x.add(e)}))}),console.log(`  üìç ggplotÈìæÁöÑÁ¨¨‰∏Ä‰∏™ÁßØÊú®: [${Array.from(w).join(", ")}]`),console.log(`  üìç ggplotÈìæÁöÑÊâÄÊúâÁßØÊú®: [${Array.from(x).join(", ")}]`);let k=null;for(let e=0;e<t.length;e++){const n=t[e];if(void 0!==n.parentId){console.log(`  ‚è≠Ô∏è Ë∑≥ËøáÂ≠êÁßØÊú®: ${n.id} (${n.blockType})ÔºåÁà∂ÁßØÊú®: ${n.parentId}`);continue}const r=w.has(n.id);x.has(n.id)&&!r?console.log(`  ‚è≠Ô∏è Ë∑≥ËøáÈìæ‰∏≠ÁßØÊú®: ${n.id} (${n.blockType})`):(k&&(n.connections.input=k.id,k.connections.output=n.id,console.log(`  ‚û°Ô∏è ÂÆûÁ∫øËøûÊé•ÔºàÊâßË°åÈ°∫Â∫èÔºâ: ${k.id} (${k.blockType}) -> ${n.id} (${n.blockType})`)),k=n)}return console.log("\nüé® [ASTËß£ÊûêÂô®] Ë∞ÉÊï¥Â∏ÉÂ±Ä‰ª•ÈÅøÂÖçÈáçÂè†..."),function(e){const n=[...e].sort((e,n)=>e.position.y-n.position.y);for(let e=1;e<n.length;e++){const t=n[e],r=n[e-1];if(Math.abs(t.position.x-r.position.x)<50){const e=a(r),n=r.position.y+e+40;t.position.y<n&&(t.position.y=n)}}}(t),console.log(`\nüéâ [ASTËß£ÊûêÂô®] Ëß£ÊûêÂÆåÊàêÔºÅÂÖ±ÂàõÂª∫ ${t.length} ‰∏™ÁßØÊú®Âùó`),t}catch(e){return console.error("‚ùå [ASTËß£ÊûêÂô®] Ëß£ÊûêÂ§±Ë¥•:",e),console.error("‚ùå [ASTËß£ÊûêÂô®] ÈîôËØØÂ†ÜÊ†à:",e instanceof Error?e.stack:""),t}}function f(e){const n=[];if(0===e.length)return{valid:!0,errors:[]};const t=new Set;return e.forEach(e=>{t.has(e.id)&&n.push(`ÈáçÂ§çÁöÑÁßØÊú®ID: ${e.id}`),t.add(e.id)}),e.forEach(t=>{t.connections.input&&(e.find(e=>e.id===t.connections.input)||n.push(`ÁßØÊú® ${t.id} ÁöÑËæìÂÖ•ËøûÊé•Êó†Êïà`)),t.connections.output&&(e.find(e=>e.id===t.connections.output)||n.push(`ÁßØÊú® ${t.id} ÁöÑËæìÂá∫ËøûÊé•Êó†Êïà`))}),{valid:0===n.length,errors:n}}},20:(e,n,t)=>{var r=t(540),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,o={},c=null,d=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,r)&&!s.hasOwnProperty(r)&&(o[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===o[r]&&(o[r]=n[r]);return{$$typeof:a,type:e,key:c,ref:d,props:o,_owner:l.current}}n.Fragment=o,n.jsx=c,n.jsxs=c},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},i=[],l=0;l<e.length;l++){var s=e[l],c=r.base?s[0]+r.base:s[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var p=t(u),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(f);else{var g=a(f,r);r.byIndex=l,n.splice(l,0,{identifier:u,updater:g,references:1})}i.push(u)}return i}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var l=t(o[i]);n[l].references--}for(var s=r(e,a),c=0;c<o.length;c++){var d=t(o[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=s}}},92:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== Â∑•ÂÖ∑Á±ªÊ†∑Âºè ========== */\n\n/* ÊåâÈíÆÂü∫Á°ÄÊ†∑Âºè */\n.btn {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm) var(--spacing-md);\n  background: var(--bg-white);\n  border: var(--border-width) solid var(--border-color);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  font-size: var(--font-sm);\n  transition: var(--transition-all);\n}\n\n.btn:hover {\n  background: var(--color-gray-100);\n  border-color: var(--border-color-light);\n}\n\n/* ÊåâÈíÆÂèò‰Ωì - ‰∏ªË¶ÅÊåâÈíÆ */\n.btn-primary {\n  background: var(--color-primary);\n  color: var(--bg-white);\n  border-color: var(--color-primary);\n  font-weight: var(--font-semibold);\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-hover);\n}\n\n.btn-primary:disabled {\n  background: var(--color-gray-400);\n  cursor: not-allowed;\n}\n\n/* ÊåâÈíÆÂèò‰Ωì - ÈÄèÊòéÊåâÈíÆ */\n.btn-transparent {\n  background: rgba(255, 255, 255, 0.2);\n  border: var(--border-width) solid rgba(255, 255, 255, 0.3);\n  color: var(--bg-white);\n}\n\n.btn-transparent:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: translateY(-1px);\n}\n\n/* ÊåâÈíÆÂèò‰Ωì - Âç±Èô©ÊåâÈíÆ */\n.btn-danger:hover {\n  background: rgba(239, 68, 68, 0.8);\n  border-color: var(--color-danger);\n}\n\n/* Ê†áÁ≠æÈ°µÂü∫Á°ÄÊ†∑Âºè */\n.tab {\n  padding: var(--spacing-md) var(--spacing-lg);\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-md);\n  text-align: left;\n  cursor: pointer;\n  font-size: var(--font-base);\n  transition: var(--transition-all);\n  color: var(--color-gray-600);\n}\n\n.tab:hover {\n  background: var(--color-gray-100);\n}\n\n.tab.active {\n  background: var(--color-primary-bg);\n  color: var(--color-primary);\n  font-weight: var(--font-semibold);\n}\n\n/* Èù¢ÊùøÂ§¥ÈÉ®Ê†∑Âºè */\n.panel-header {\n  padding: var(--spacing-lg);\n  border-bottom: var(--border-width) solid var(--border-color);\n}\n\n.panel-header h2 {\n  font-size: var(--font-lg);\n  font-weight: var(--font-semibold);\n  color: var(--color-gray-800);\n}\n\n/* ÂèØ‰∫§‰∫íÂÖÉÁ¥†ÁöÑ hover ÊèêÂçáÊïàÊûú */\n.hover-lift {\n  transition: var(--transition-all);\n}\n\n.hover-lift:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-lg);\n}\n\n/* ÂèØÊäìÂèñÊïàÊûú */\n.grabbable {\n  cursor: grab;\n}\n\n.grabbable:active {\n  cursor: grabbing;\n}\n\n/* Á¶ÅÊ≠¢ÈÄâÊã©ÊñáÊú¨ */\n.no-select {\n  user-select: none;\n}\n\n/* Á¶ÅÊ≠¢ÊåáÈíà‰∫ã‰ª∂ */\n.no-pointer {\n  pointer-events: none;\n}\n\n/* ÂÖÅËÆ∏ÊåáÈíà‰∫ã‰ª∂ÔºàÁî®‰∫éË¶ÜÁõñÔºâ */\n.pointer-all {\n  pointer-events: all;\n}\n\n",""]);const l=i},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},118:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== ÁßØÊú®Èù¢ÊùøÊ†∑Âºè ========== */\n.block-palette {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.palette-header {\n  padding: var(--spacing-lg);\n  border-bottom: var(--border-width) solid var(--border-color);\n}\n\n.palette-header h2 {\n  font-size: var(--font-lg);\n  font-weight: var(--font-semibold);\n  color: var(--color-gray-800);\n}\n\n/* ========== ÂàÜÁ±ªÊ†áÁ≠æ ========== */\n.category-tabs {\n  display: flex;\n  flex-direction: column;\n  padding: var(--spacing-sm);\n  gap: var(--spacing-xs);\n  border-bottom: var(--border-width) solid var(--border-color);\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.category-tab {\n  padding: var(--spacing-md);\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-md);\n  text-align: left;\n  cursor: pointer;\n  font-size: var(--font-base);\n  transition: var(--transition-all);\n  color: var(--color-gray-600);\n}\n\n.category-tab:hover {\n  background: var(--color-gray-100);\n}\n\n.category-tab.active {\n  background: var(--color-primary-bg);\n  color: var(--color-primary);\n  font-weight: var(--font-semibold);\n}\n\n/* ========== ÁßØÊú®ÂàóË°® ========== */\n.blocks-list {\n  flex: 1;\n  padding: var(--spacing-sm);\n  overflow-y: auto;\n}\n\n.block-item {\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-md);  /* Â¢ûÂä†ÁßØÊú®‰πãÈó¥ÁöÑÈó¥Ë∑ù */\n  background: var(--bg-white);\n  border: var(--border-width) solid var(--border-color);\n  border-left: 4px solid #3b82f6;\n  border-radius: var(--radius-md);\n  cursor: grab;\n  transition: var(--transition-all);\n}\n\n.block-item:hover {\n  transform: translateX(4px);\n  box-shadow: var(--shadow-md);\n}\n\n.block-item:active {\n  cursor: grabbing;\n}\n\n.block-header {\n  margin-bottom: 0.3rem;\n}\n\n.block-label {\n  font-weight: var(--font-semibold);\n  font-size: var(--font-base);\n  color: var(--color-gray-800);\n}\n\n.block-description {\n  font-size: 0.8rem;\n  color: var(--color-gray-500);\n}\n\n",""]);const l=i},159:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},162:(e,n,t)=>{var r=t(540),a=t(888),o="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},i=a.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,d=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,a){var u=l(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==a&&p.hasValue){var n=p.value;if(a(n,e))return l=n}return l=e}if(n=l,o(i,e))return n;var t=r(e);return void 0!==a&&a(n,t)?(i=e,n):(i=e,l=t)}var i,l,s=!1,c=void 0===t?null:t;return[function(){return e(n())},null===c?void 0:function(){return e(c())}]},[n,t,r,a]);var f=i(e,u[0],u[1]);return s(function(){p.hasValue=!0,p.value=f},[f]),d(f),f}},227:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== ÈÄöÁî®Âä®ÁîªÊïàÊûú ========== */\n\n/* ËÑâÂä®ÊïàÊûú */\n@keyframes pulse {\n  0%, 100% {\n    opacity: 0.6;\n  }\n  50% {\n    opacity: 1;\n  }\n}\n\n/* ÈÄâ‰∏≠ÂèëÂÖâÊïàÊûú */\n@keyframes selected-glow {\n  0%, 100% {\n    box-shadow: var(--shadow-primary);\n  }\n  50% {\n    box-shadow: var(--shadow-primary-lg);\n  }\n}\n\n/* Ê°ÜÈÄâËÑâÂä®ÊïàÊûú */\n@keyframes selection-pulse {\n  0%, 100% {\n    border-color: var(--color-primary);\n    background-color: rgba(79, 70, 229, 0.1);\n  }\n  50% {\n    border-color: var(--color-primary-light);\n    background-color: rgba(79, 70, 229, 0.15);\n  }\n}\n\n/* Âê∏ÈôÑÈ¢ÑËßàËÑâÂä® */\n@keyframes snap-pulse {\n  0%, 100% {\n    opacity: 0.6;\n  }\n  50% {\n    opacity: 1;\n  }\n}\n\n/* Âú®ËøûÊé•Á∫ø‰∏äÊªëÂä®ÁöÑÂä®Áîª */\n@keyframes snap-slide {\n  0% {\n    offset-distance: 0%;\n    opacity: 0.4;\n    r: 8;\n  }\n  50% {\n    offset-distance: 100%;\n    opacity: 1;\n    r: 12;\n  }\n  100% {\n    offset-distance: 0%;\n    opacity: 0.4;\n    r: 8;\n  }\n}\n\n/* ÊîæÁΩÆÊåáÁ§∫Âô®ËÑâÂä® */\n@keyframes drop-indicator-pulse {\n  0%, 100% {\n    opacity: 0.6;\n    transform: scaleY(0.8);\n  }\n  50% {\n    opacity: 1;\n    transform: scaleY(1.2);\n  }\n}\n\n",""]);const l=i},242:(e,n,t)=>{e.exports=t(162)},249:(e,n,t)=>{t.d(n,{A:()=>y});var r=t(601),a=t.n(r),o=t(314),i=t.n(o),l=t(759),s=t(944),c=t(754),d=t(227),u=t(92),p=t(275),f=t(118),g=t(714),m=t(947),h=t(324),b=i()(a());b.i(l.A),b.i(s.A),b.i(c.A),b.i(d.A),b.i(u.A),b.i(p.A),b.i(f.A),b.i(g.A),b.i(m.A),b.i(h.A),b.push([e.id,"/* ========== ÂºïÂÖ•Âü∫Á°ÄÊ†∑Âºè ========== */\n\n/* ========== ÂÖ®Â±ÄÊ†∑Âºè ========== */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background: #f5f5f5;\n  color: var(--color-gray-800);\n  overflow: hidden;\n}\n\n#root {\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n\n/* ========== Â∫îÁî®Â∏ÉÂ±Ä ========== */\n.app {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n/* ========== WebR Âä†ËΩΩÈÅÆÁΩ©Â±Ç ========== */\n.webr-loading-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.85);\n  backdrop-filter: blur(10px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn 0.3s ease-in-out;\n}\n\n.webr-loading-content {\n  text-align: center;\n  color: var(--bg-white);\n  padding: var(--spacing-2xl);\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: var(--radius-lg);\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  max-width: 500px;\n}\n\n.webr-loading-content h2 {\n  font-size: var(--font-2xl);\n  font-weight: var(--font-bold);\n  margin-bottom: var(--spacing-lg);\n  color: var(--bg-white);\n}\n\n.webr-loading-content p {\n  font-size: var(--font-base);\n  color: rgba(255, 255, 255, 0.8);\n  margin-bottom: var(--spacing-md);\n}\n\n.webr-loading-progress {\n  font-size: var(--font-lg) !important;\n  color: var(--color-primary) !important;\n  font-weight: var(--font-semibold) !important;\n  margin: var(--spacing-lg) 0 !important;\n  padding: var(--spacing-md);\n  background: rgba(139, 92, 246, 0.15);\n  border-radius: var(--radius-md);\n  border: 1px solid rgba(139, 92, 246, 0.3);\n}\n\n.webr-loading-tips {\n  margin-top: var(--spacing-xl);\n  padding: var(--spacing-md);\n  background: rgba(139, 92, 246, 0.1);\n  border-radius: var(--radius-md);\n  border: 1px solid rgba(139, 92, 246, 0.2);\n  font-size: var(--font-sm);\n}\n\n.webr-loading-spinner {\n  width: 60px;\n  height: 60px;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  border-top-color: var(--color-primary);\n  border-radius: 50%;\n  margin: 0 auto var(--spacing-xl);\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* ========== Â§¥ÈÉ® ========== */\n.app-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg) var(--spacing-2xl);\n  background: var(--gradient-purple);\n  color: var(--bg-white);\n  box-shadow: var(--shadow-sm);\n}\n\n.header-left {\n  display: flex;\n  align-items: baseline;\n  gap: var(--spacing-lg);\n}\n\n.app-title {\n  font-size: var(--font-2xl);\n  font-weight: var(--font-bold);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.logo {\n  font-size: 2rem;\n}\n\n.app-subtitle {\n  font-size: var(--font-base);\n  opacity: 0.9;\n}\n\n.header-actions {\n  display: flex;\n  gap: var(--spacing-sm);\n}\n\n/* Â§¥ÈÉ®ÊåâÈíÆ - Âü∫‰∫é Ant Design Ê†∑Âºè */\n.header-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--ant-spacing-xs);\n  padding: 4px 15px;\n  height: 32px;\n  font-size: var(--ant-font-size-base);\n  font-weight: 400;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: var(--ant-border-radius-base);\n  background: rgba(255, 255, 255, 0.15);\n  color: var(--ant-gray-1);\n  cursor: pointer;\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  user-select: none;\n  white-space: nowrap;\n  backdrop-filter: blur(8px);\n}\n\n.header-btn:hover {\n  background: rgba(255, 255, 255, 0.25);\n  border-color: rgba(255, 255, 255, 0.5);\n  transform: translateY(-1px);\n  box-shadow: var(--ant-shadow-2);\n}\n\n.header-btn:active {\n  transform: translateY(0);\n}\n\n.header-btn.danger:hover {\n  background: var(--ant-error-6);\n  border-color: var(--ant-error-6);\n  box-shadow: 0 2px 8px rgba(245, 34, 45, 0.3);\n}\n\n.header-btn.developer-active {\n  background: rgba(82, 196, 26, 0.2);\n  border-color: var(--ant-success-5);\n  color: var(--ant-gray-1);\n  box-shadow: 0 0 0 2px rgba(82, 196, 26, 0.1);\n}\n\n.header-btn.developer-active:hover {\n  background: rgba(82, 196, 26, 0.3);\n  border-color: var(--ant-success-6);\n}\n\n.header-btn.package-btn {\n  background: linear-gradient(135deg, rgba(82, 196, 26, 0.2) 0%, rgba(56, 158, 13, 0.2) 100%);\n  border-color: rgba(82, 196, 26, 0.5);\n}\n\n.header-btn.package-btn:hover {\n  background: linear-gradient(135deg, rgba(82, 196, 26, 0.3) 0%, rgba(56, 158, 13, 0.3) 100%);\n  border-color: var(--ant-success-5);\n  box-shadow: 0 2px 8px rgba(82, 196, 26, 0.3);\n}\n\n.header-btn.font-btn {\n  background: linear-gradient(135deg, rgba(250, 140, 22, 0.2) 0%, rgba(217, 119, 6, 0.2) 100%);\n  border-color: rgba(250, 140, 22, 0.5);\n}\n\n.header-btn.font-btn:hover {\n  background: linear-gradient(135deg, rgba(250, 140, 22, 0.3) 0%, rgba(217, 119, 6, 0.3) 100%);\n  border-color: var(--ant-warning-5);\n  box-shadow: 0 2px 8px rgba(250, 140, 22, 0.3);\n}\n\n.header-btn.template-btn {\n  background: linear-gradient(135deg, rgba(22, 119, 255, 0.2) 0%, rgba(9, 88, 217, 0.2) 100%);\n  border-color: rgba(22, 119, 255, 0.5);\n}\n\n.header-btn.template-btn:hover {\n  background: linear-gradient(135deg, rgba(22, 119, 255, 0.3) 0%, rgba(9, 88, 217, 0.3) 100%);\n  border-color: var(--ant-primary-5);\n  box-shadow: 0 2px 8px rgba(22, 119, 255, 0.3);\n}\n\n/* ========== ‰∏ª‰ΩìÂå∫Âüü ========== */\n.app-main {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n}\n\n.main-left {\n  width: 280px;\n  background: var(--bg-white);\n  border-right: var(--border-width) solid var(--border-color);\n  overflow: hidden;\n}\n\n.main-center {\n  flex: 1;\n  background: var(--color-gray-50);\n  overflow: hidden;\n}\n\n.main-right {\n  width: 640px;\n  background: var(--bg-white);\n  border-left: var(--border-width) solid var(--border-color);\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n  padding: 0 16px 16px 16px;\n}\n\n/* ÂºÄÂèëËÄÖÈù¢ÊùøÂÆπÂô® - Âè≥‰æßÁ∫µÂêëÊ†è */\n.main-developer {\n  width: 450px;\n  background: var(--bg-white);\n  border-left: 2px solid var(--border-color);\n  overflow: hidden;\n  box-shadow: -4px 0 12px rgba(0, 0, 0, 0.08);\n  display: flex;\n  flex-direction: column;\n}\n\n/* ========== Â∫ïÈÉ® ========== */\n.app-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-md) var(--spacing-2xl);\n  background: var(--bg-white);\n  border-top: var(--border-width) solid var(--border-color);\n  font-size: var(--font-sm);\n  color: var(--color-gray-500);\n}\n\n.footer-info {\n  font-size: 0.8rem;\n}\n\n/* ========== ÊªöÂä®Êù°Ê†∑Âºè ========== */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: var(--radius-sm);\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #a1a1a1;\n}\n\n/* ========== ÂºÄÂèëËÄÖÊ®°ÂºèÊ†∑Âºè ========== */\n.developer-key-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn 0.2s ease-out;\n}\n\n.developer-key-modal {\n  background: var(--bg-white);\n  border-radius: var(--radius-lg);\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  width: 400px;\n  max-width: 90vw;\n  overflow: hidden;\n  animation: slideIn 0.3s ease-out;\n}\n\n.developer-key-modal-header {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-lg) var(--spacing-xl);\n  background: var(--gradient-purple);\n  color: var(--bg-white);\n}\n\n.developer-key-modal-header h3 {\n  margin: 0;\n  font-size: var(--font-lg);\n  font-weight: var(--font-semibold);\n}\n\n.developer-key-modal-content {\n  padding: var(--spacing-xl);\n}\n\n.developer-key-modal-content p {\n  margin: 0 0 var(--spacing-lg) 0;\n  color: var(--color-gray-600);\n  font-size: var(--font-base);\n}\n\n.developer-key-input-group {\n  margin-bottom: var(--spacing-lg);\n}\n\n.developer-key-input {\n  width: 100%;\n  padding: 4px 11px;\n  height: 32px;\n  border: 1px solid var(--ant-gray-5);\n  border-radius: var(--ant-border-radius-base);\n  font-size: var(--ant-font-size-base);\n  line-height: var(--ant-line-height-base);\n  color: var(--ant-gray-13);\n  background: var(--ant-gray-1);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.developer-key-input:hover {\n  border-color: var(--ant-primary-5);\n}\n\n.developer-key-input:focus {\n  outline: none;\n  border-color: var(--ant-primary-6);\n  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1);\n}\n\n.developer-key-error {\n  margin-top: var(--spacing-sm);\n  color: var(--color-danger);\n  font-size: var(--font-sm);\n  font-weight: var(--font-medium);\n}\n\n.developer-key-modal-actions {\n  display: flex;\n  gap: var(--spacing-sm);\n  padding: 0 var(--spacing-xl) var(--spacing-xl);\n  justify-content: flex-end;\n}\n\n.developer-key-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 15px;\n  height: 32px;\n  border: 1px solid transparent;\n  border-radius: var(--ant-border-radius-base);\n  font-size: var(--ant-font-size-base);\n  font-weight: 400;\n  cursor: pointer;\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  min-width: 80px;\n  user-select: none;\n  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.02);\n}\n\n.developer-key-btn.primary {\n  background: var(--ant-primary-6);\n  color: var(--ant-gray-1);\n  border-color: var(--ant-primary-6);\n}\n\n.developer-key-btn.primary:hover:not(:disabled) {\n  background: var(--ant-primary-5);\n  border-color: var(--ant-primary-5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(22, 119, 255, 0.3);\n}\n\n.developer-key-btn.primary:disabled {\n  background: var(--ant-gray-5);\n  border-color: var(--ant-gray-5);\n  cursor: not-allowed;\n  opacity: 0.4;\n  transform: none;\n}\n\n.developer-key-btn.secondary {\n  background: var(--ant-gray-1);\n  color: var(--ant-gray-13);\n  border-color: var(--ant-gray-5);\n}\n\n.developer-key-btn.secondary:hover {\n  color: var(--ant-primary-6);\n  border-color: var(--ant-primary-6);\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n/* ========== ÂºÄÂèëËÄÖÈù¢ÊùøÊ†∑Âºè ========== */\n\n/* ÂºÄÂèëËÄÖÈù¢Êùø‰∏ª‰Ωì */\n.developer-panel {\n  height: 100%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  animation: slideInRight 0.3s ease;\n}\n\n@keyframes slideInRight {\n  from {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* Èù¢ÊùøÊ†áÈ¢òÊ†è */\n.developer-panel-header {\n  padding: 16px 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 12px 12px 0 0;\n}\n\n.developer-panel-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n/* Ê†áÁ≠æÈ°µÂØºËà™ - ‰ΩøÁî® Ant Design Ê†∑Âºè */\n.developer-panel-tabs {\n  display: flex;\n  background: var(--ant-gray-1);\n  border-bottom: 1px solid var(--ant-gray-4);\n  padding: 0 var(--ant-spacing-sm);\n}\n\n.developer-tab {\n  padding: var(--ant-spacing-sm) var(--ant-spacing-md);\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid transparent;\n  color: var(--ant-gray-8);\n  cursor: pointer;\n  font-size: var(--ant-font-size-base);\n  font-weight: 400;\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  display: flex;\n  align-items: center;\n  gap: var(--ant-spacing-xs);\n  position: relative;\n}\n\n.developer-tab:hover {\n  color: var(--ant-primary-6);\n}\n\n.developer-tab.active {\n  color: var(--ant-primary-6);\n  border-bottom-color: var(--ant-primary-6);\n  font-weight: 500;\n}\n\n/* Èù¢ÊùøÂÜÖÂÆπÂå∫ */\n.developer-panel-content {\n  padding: 20px;\n  overflow-y: auto;\n  flex: 1;\n  background: white;\n}\n\n.developer-tab-content {\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n/* ‰ø°ÊÅØÊ°Ü - ‰ΩøÁî® Ant Design Ê†∑Âºè */\n.developer-info-box {\n  background: var(--ant-info-1);\n  padding: var(--ant-spacing-md);\n  border-radius: var(--ant-border-radius-base);\n  margin-bottom: var(--ant-spacing-lg);\n  border: 1px solid var(--ant-info-3);\n  border-left: 4px solid var(--ant-info-6);\n}\n\n.developer-info-box h4 {\n  margin: 0 0 var(--ant-spacing-xs) 0;\n  font-size: var(--ant-font-size-lg);\n  font-weight: 500;\n  color: var(--ant-info-7);\n}\n\n.developer-info-box p {\n  margin: 0;\n  font-size: var(--ant-font-size-base);\n  color: var(--ant-info-8);\n  line-height: var(--ant-line-height-base);\n}\n\n/* ÂàÜÁªÑÂå∫Âüü */\n.developer-section {\n  margin-bottom: 24px;\n}\n\n.developer-section h4 {\n  margin: 0 0 12px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--color-gray-800);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n/* ÊµãËØïÁªÑ */\n.developer-test-group {\n  margin-bottom: 16px;\n  padding: 16px;\n  background: var(--color-gray-50);\n  border-radius: 10px;\n  border: 1px solid var(--border-color);\n}\n\n.developer-test-group label {\n  display: block;\n  margin-bottom: 10px;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--color-gray-700);\n}\n\n/* ÂºÄÂèëËÄÖÈù¢ÊùøÊåâÈíÆ - ‰ΩøÁî® Ant Design Ê†∑Âºè */\n.developer-btn {\n  width: 100%;\n  padding: 6.4px 15px;\n  height: 40px;\n  border: 1px solid transparent;\n  border-radius: var(--ant-border-radius-base);\n  cursor: pointer;\n  font-weight: 400;\n  font-size: var(--ant-font-size-base);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--ant-spacing-xs);\n  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.02);\n}\n\n.developer-btn:disabled {\n  cursor: not-allowed;\n  opacity: 0.4;\n}\n\n.developer-btn.primary {\n  background: var(--ant-success-6);\n  border-color: var(--ant-success-6);\n  color: var(--ant-gray-1);\n}\n\n.developer-btn.primary:hover:not(:disabled) {\n  background: var(--ant-success-5);\n  border-color: var(--ant-success-5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(82, 196, 26, 0.3);\n}\n\n.developer-btn.secondary {\n  background: var(--ant-primary-6);\n  border-color: var(--ant-primary-6);\n  color: var(--ant-gray-1);\n}\n\n.developer-btn.secondary:hover:not(:disabled) {\n  background: var(--ant-primary-5);\n  border-color: var(--ant-primary-5);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(22, 119, 255, 0.3);\n}\n\n/* ‰∏ãÊãâÈÄâÊã© - ‰ΩøÁî® Ant Design Ê†∑Âºè */\n.developer-select {\n  width: 100%;\n  padding: 4px 11px;\n  height: 32px;\n  margin-bottom: var(--ant-spacing-sm);\n  border: 1px solid var(--ant-gray-5);\n  border-radius: var(--ant-border-radius-base);\n  font-size: var(--ant-font-size-base);\n  line-height: var(--ant-line-height-base);\n  background: var(--ant-gray-1);\n  color: var(--ant-gray-13);\n  cursor: pointer;\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.developer-select:hover {\n  border-color: var(--ant-primary-5);\n}\n\n.developer-select:focus {\n  outline: none;\n  border-color: var(--ant-primary-6);\n  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1);\n}\n\n/* ÊèêÁ§∫ÊñáÂ≠ó */\n.developer-hint {\n  margin: 8px 0 0 0;\n  font-size: 12px;\n  color: var(--color-gray-500);\n  font-style: italic;\n}\n\n/* ÁªìÊûúÊ°Ü - ‰ΩøÁî® Ant Design Alert Ê†∑Âºè */\n.developer-result-box {\n  padding: var(--ant-spacing-sm) var(--ant-spacing-md);\n  border-radius: var(--ant-border-radius-base);\n  margin-bottom: var(--ant-spacing-md);\n  font-size: var(--ant-font-size-base);\n  border: 1px solid transparent;\n}\n\n.developer-result-box.success {\n  background: var(--ant-success-1);\n  border-color: var(--ant-success-3);\n  color: var(--ant-success-7);\n}\n\n.developer-result-box.failure {\n  background: var(--ant-error-1);\n  border-color: var(--ant-error-3);\n  color: var(--ant-error-7);\n}\n\n/* ‰ª£Á†ÅÂùó */\n.developer-code-block {\n  margin-bottom: 16px;\n}\n\n.developer-code-block h5 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-gray-700);\n}\n\n.developer-code-block pre {\n  padding: 12px;\n  background: var(--color-gray-100);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  font-size: 12px;\n  font-family: 'Courier New', monospace;\n  overflow: auto;\n  max-height: 200px;\n  margin: 0;\n  line-height: 1.5;\n}\n\n.developer-code-block.diff pre {\n  background: #fef3c7;\n  border-color: #fbbf24;\n  color: #92400e;\n}\n\n/* ‰ø°ÊÅØÈ°π */\n.developer-info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 12px;\n  background: var(--color-gray-50);\n  border-radius: 6px;\n  margin-bottom: 8px;\n}\n\n.developer-info-item .label {\n  font-size: 14px;\n  color: var(--color-gray-600);\n  font-weight: 500;\n}\n\n.developer-info-item .value {\n  font-size: 14px;\n  color: var(--color-gray-900);\n  font-weight: 600;\n  font-family: 'Courier New', monospace;\n}\n\n.developer-info-item .value.status-enabled {\n  color: #10b981;\n}\n\n.developer-info-item .value.status-disabled {\n  color: #ef4444;\n}\n\n/* ÂºÄÂÖ≥ÊåâÈíÆÈ°π */\n.developer-toggle-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: var(--color-gray-50);\n  border-radius: 8px;\n  margin-bottom: 12px;\n  border: 1px solid var(--border-color);\n}\n\n.developer-toggle-item .toggle-info {\n  flex: 1;\n  margin-right: 16px;\n}\n\n.developer-toggle-item .toggle-info .label {\n  font-size: 14px;\n  color: var(--color-gray-900);\n  font-weight: 600;\n  display: block;\n  margin-bottom: 4px;\n}\n\n.developer-toggle-item .toggle-description {\n  font-size: 12px;\n  color: var(--color-gray-600);\n  margin: 0;\n  line-height: 1.5;\n}\n\n/* ÂàáÊç¢ÂºÄÂÖ≥ - ‰ΩøÁî® Ant Design Ê†∑Âºè */\n.toggle-switch {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 22px;\n  flex-shrink: 0;\n}\n\n.toggle-switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.toggle-slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: var(--ant-gray-6);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  border-radius: var(--ant-border-radius-round);\n}\n\n.toggle-slider:before {\n  position: absolute;\n  content: \"\";\n  height: 18px;\n  width: 18px;\n  left: 2px;\n  bottom: 2px;\n  background: var(--ant-gray-1);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-out-back);\n  border-radius: var(--ant-border-radius-circle);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.toggle-switch input:checked + .toggle-slider {\n  background: var(--ant-primary-6);\n}\n\n.toggle-switch input:checked + .toggle-slider:before {\n  transform: translateX(22px);\n}\n\n.toggle-switch:hover .toggle-slider {\n  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.1);\n}\n\n/* ÊèêÁ§∫ÂàóË°® */\n.developer-tips {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.developer-tips li {\n  margin-bottom: 8px;\n  font-size: 14px;\n  color: var(--color-gray-600);\n  line-height: 1.5;\n}\n\n/* ========== ÂºïÂÖ•Ê®°ÂùóÂåñÊ†∑Âºè ========== */\n",""]);const y=b},275:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* Ê®°ÊùøÈÄâÊã©Âô®Ê†∑Âºè */\n\n.template-selector-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  animation: fadeIn 0.2s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.template-selector-modal {\n  background: white;\n  border-radius: 12px;\n  width: 90%;\n  max-width: 1200px;\n  height: 85vh;\n  max-height: 800px;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: slideUp 0.3s ease-out;\n}\n\n@keyframes slideUp {\n  from {\n    transform: translateY(30px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.template-selector-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 24px 28px;\n  border-bottom: 2px solid #e5e7eb;\n}\n\n.template-selector-header h2 {\n  margin: 0;\n  font-size: 1.5rem;\n  color: #1f2937;\n}\n\n.template-selector-subtitle {\n  margin: 4px 0 0;\n  font-size: 0.9rem;\n  color: #6b7280;\n}\n\n.template-close-btn {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 8px;\n  color: #6b7280;\n  border-radius: 6px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.template-close-btn:hover {\n  background: #f3f4f6;\n  color: #1f2937;\n}\n\n.template-selector-content {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n}\n\n/* Â∑¶‰æßÊ®°ÊùøÂàóË°® */\n.template-list {\n  width: 380px;\n  border-right: 2px solid #e5e7eb;\n  overflow-y: auto;\n  padding: 16px;\n  background: #f9fafb;\n}\n\n.template-category {\n  margin-bottom: 24px;\n}\n\n.template-category-title {\n  font-size: 0.85rem;\n  font-weight: 600;\n  color: #6b7280;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin: 0 0 12px 8px;\n}\n\n.template-item {\n  display: flex;\n  gap: 12px;\n  padding: 14px;\n  background: white;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  margin-bottom: 10px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.template-item:hover {\n  border-color: #3b82f6;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);\n}\n\n.template-item.selected {\n  border-color: #3b82f6;\n  background: #eff6ff;\n  box-shadow: 0 2px 12px rgba(59, 130, 246, 0.2);\n}\n\n.template-item-icon {\n  flex-shrink: 0;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #dbeafe;\n  border-radius: 8px;\n  color: #3b82f6;\n}\n\n.template-item.selected .template-item-icon {\n  background: #3b82f6;\n  color: white;\n}\n\n.template-item-content {\n  flex: 1;\n  min-width: 0;\n}\n\n.template-item-name {\n  margin: 0 0 4px;\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #1f2937;\n}\n\n.template-item-description {\n  margin: 0 0 8px;\n  font-size: 0.8rem;\n  color: #6b7280;\n  line-height: 1.4;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.template-packages-status {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.packages-status-ready,\n.packages-status-missing {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  padding: 3px 8px;\n  border-radius: 4px;\n  font-weight: 500;\n}\n\n.packages-status-ready {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.packages-status-missing {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.template-empty {\n  text-align: center;\n  padding: 40px 20px;\n  color: #9ca3af;\n}\n\n/* Âè≥‰æßÊ®°ÊùøËØ¶ÊÉÖ */\n.template-detail {\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 28px;\n}\n\n.template-detail-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n\n.template-detail-header h3 {\n  margin: 0;\n  font-size: 1.4rem;\n  color: #1f2937;\n}\n\n.template-detail-category {\n  display: inline-block;\n  padding: 4px 12px;\n  background: #dbeafe;\n  color: #1e40af;\n  border-radius: 6px;\n  font-size: 0.85rem;\n  font-weight: 500;\n}\n\n.template-detail-description {\n  margin: 0 0 24px;\n  font-size: 1rem;\n  color: #4b5563;\n  line-height: 1.6;\n}\n\n.template-detail-packages {\n  margin-bottom: 24px;\n  padding: 16px;\n  background: #f9fafb;\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n}\n\n.template-detail-packages h4 {\n  margin: 0 0 12px;\n  font-size: 0.95rem;\n  color: #1f2937;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.template-packages-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.template-package-badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 5px 10px;\n  border-radius: 6px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;\n}\n\n.template-package-badge.installed {\n  background: #d1fae5;\n  color: #065f46;\n  border: 1px solid #a7f3d0;\n}\n\n.template-package-badge.missing {\n  background: #fee2e2;\n  color: #991b1b;\n  border: 1px solid #fecaca;\n}\n\n.template-detail-code {\n  margin-bottom: 24px;\n}\n\n.template-detail-code h4 {\n  margin: 0 0 12px;\n  font-size: 0.95rem;\n  color: #1f2937;\n}\n\n.template-code-preview {\n  margin: 0;\n  padding: 16px;\n  background: #1e293b;\n  border-radius: 8px;\n  font-size: 0.85rem;\n  line-height: 1.6;\n  max-height: 300px;\n  overflow-y: auto;\n  border: 1px solid #334155;\n}\n\n.template-code-preview code {\n  color: #e2e8f0;\n  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;\n}\n\n.template-detail-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #9ca3af;\n  gap: 16px;\n}\n\n.template-detail-empty p {\n  margin: 0;\n  font-size: 1rem;\n}\n\n.template-detail-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  padding-top: 16px;\n  border-top: 2px solid #e5e7eb;\n}\n\n.template-load-btn {\n  padding: 12px 24px;\n  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n\n.template-load-btn:hover:not(:disabled) {\n  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\n  transform: translateY(-1px);\n}\n\n.template-load-btn:active:not(:disabled) {\n  transform: translateY(0);\n}\n\n.template-load-btn:disabled {\n  background: #9ca3af;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n.template-warning {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 0;\n  padding: 10px 12px;\n  background: #fef3c7;\n  border: 1px solid #fbbf24;\n  border-radius: 6px;\n  font-size: 0.85rem;\n  color: #92400e;\n}\n\n/* ÊªöÂä®Êù°Ê†∑Âºè */\n.template-list::-webkit-scrollbar,\n.template-detail::-webkit-scrollbar,\n.template-code-preview::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.template-list::-webkit-scrollbar-track,\n.template-detail::-webkit-scrollbar-track,\n.template-code-preview::-webkit-scrollbar-track {\n  background: #f1f5f9;\n}\n\n.template-list::-webkit-scrollbar-thumb,\n.template-detail::-webkit-scrollbar-thumb,\n.template-code-preview::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 4px;\n}\n\n.template-list::-webkit-scrollbar-thumb:hover,\n.template-detail::-webkit-scrollbar-thumb:hover,\n.template-code-preview::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n",""]);const l=i},287:(e,n)=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,h={};function b(e,n,t){this.props=e,this.context=n,this.refs=h,this.updater=t||g}function y(){}function v(e,n,t){this.props=e,this.context=n,this.refs=h,this.updater=t||g}b.prototype.isReactComponent={},b.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=v.prototype=new y;x.constructor=v,m(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,n,r){var a,o={},i=null,l=null;if(null!=n)for(a in void 0!==n.ref&&(l=n.ref),void 0!==n.key&&(i=""+n.key),n)k.call(n,a)&&!S.hasOwnProperty(a)&&(o[a]=n[a]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===o[a]&&(o[a]=s[a]);return{$$typeof:t,type:e,key:i,ref:l,props:o,_owner:_.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var C=/\/+/g;function T(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function N(e,n,a,o,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case t:case r:s=!0}}if(s)return i=i(s=e),e=""===o?"."+T(s,0):o,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),N(i,n,a,"",function(e){return e})):null!=i&&(j(i)&&(i=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),n.push(i)),1;if(s=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var d=o+T(l=e[c],c);s+=N(l,n,a,d,i)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)s+=N(l=l.value,n,a,d=o+T(l,c++),i);else if("object"===l)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,n,t){if(null==e)return e;var r=[],a=0;return N(e,r,"","",function(e){return n.call(t,e,a++)}),r}function R(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},I={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:_};function z(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:A,forEach:function(e,n,t){A(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return A(e,function(){n++}),n},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=b,n.Fragment=a,n.Profiler=i,n.PureComponent=v,n.StrictMode=o,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,n.act=z,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,l=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,l=_.current),void 0!==n.key&&(o=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in n)k.call(n,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===n[c]&&void 0!==s?s[c]:n[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){s=Array(c);for(var d=0;d<c;d++)s[d]=arguments[d+2];a.children=s}return{$$typeof:t,type:e.type,key:o,ref:i,props:a,_owner:l}},n.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},n.createElement=E,n.createFactory=function(e){var n=E.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=j,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=M.transition;M.transition={};try{e()}finally{M.transition=n}},n.unstable_act=z,n.useCallback=function(e,n){return O.current.useCallback(e,n)},n.useContext=function(e){return O.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return O.current.useDeferredValue(e)},n.useEffect=function(e,n){return O.current.useEffect(e,n)},n.useId=function(){return O.current.useId()},n.useImperativeHandle=function(e,n,t){return O.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return O.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return O.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return O.current.useMemo(e,n)},n.useReducer=function(e,n,t){return O.current.useReducer(e,n,t)},n.useRef=function(e){return O.current.useRef(e)},n.useState=function(e){return O.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return O.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return O.current.useTransition()},n.version="18.3.1"},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),n.push(d))}},n}},324:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== È¢ÑËßàÈù¢ÊùøÊ†∑Âºè ========== */\n.preview-panel {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  flex-shrink: 0;\n  border-radius: 12px;\n  box-shadow: var(--shadow-md);\n  background: white;\n  margin-top: 16px;\n  overflow: hidden;\n}\n\n.preview-header {\n  padding: var(--spacing-lg);\n  border-bottom: var(--border-width) solid var(--border-color);\n}\n\n.preview-tabs {\n  display: flex;\n  gap: var(--spacing-sm);\n}\n\n.preview-tab {\n  flex: 1;\n  padding: var(--spacing-md) var(--spacing-lg);\n  background: transparent;\n  border: var(--border-width) solid var(--border-color);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  font-size: var(--font-base);\n  transition: var(--transition-all);\n  color: var(--color-gray-600);\n}\n\n.preview-tab:hover {\n  background: var(--color-gray-100);\n}\n\n.preview-tab.active {\n  background: var(--color-primary);\n  color: var(--bg-white);\n  border-color: var(--color-primary);\n  font-weight: var(--font-semibold);\n}\n\n.preview-content {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n/* ========== ‰ª£Á†ÅÈ¢ÑËßà ========== */\n.code-preview {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.code-actions {\n  display: flex;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n  background: var(--color-gray-50);\n  border-bottom: var(--border-width) solid var(--border-color);\n}\n\n.action-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.3rem;\n  min-height: 32px;\n  padding: 0 var(--spacing-md);\n  background: var(--bg-white);\n  border: var(--border-width) solid var(--border-color);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  font-size: var(--font-sm);\n  font-weight: var(--font-normal);\n  line-height: 1;\n  white-space: nowrap;\n  box-sizing: border-box;\n  transition: background-color var(--transition-base), \n              border-color var(--transition-base), \n              color var(--transition-base);\n}\n\n.action-btn:hover {\n  background: var(--color-gray-100);\n  border-color: var(--border-color-light);\n}\n\n.action-btn.active {\n  background: var(--color-primary);\n  color: var(--bg-white);\n  border-color: var(--color-primary);\n  font-weight: var(--font-normal);\n}\n\n.action-btn.active:hover {\n  background: var(--color-primary-dark);\n  border-color: var(--color-primary-dark);\n}\n\n.action-btn.sync-btn {\n  background: var(--color-success-bg);\n  border-color: var(--color-success);\n  color: var(--color-success);\n}\n\n.action-btn.sync-btn:hover {\n  background: var(--color-success);\n  color: var(--bg-white);\n}\n\n.code-editor {\n  flex: 1;\n  overflow: hidden;\n}\n\n.code-sync-hint {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md);\n  background: #f0f9ff;\n  border-top: var(--border-width) solid #0ea5e9;\n  font-size: var(--font-sm);\n  color: #0c4a6e;\n}\n\n.code-sync-hint .hint-icon {\n  font-size: var(--font-lg);\n}\n\n/* ========== ÂõæË°®È¢ÑËßà ========== */\n.plot-preview {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100%;\n  padding: var(--spacing-2xl);\n  overflow-y: auto;\n  padding-top: 60px;\n}\n\n.plot-empty {\n  text-align: center;\n  color: var(--color-gray-500);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 600px;\n  width: 100%;\n}\n\n.empty-icon {\n  margin-bottom: var(--spacing-lg);\n  color: var(--color-gray-400);\n}\n\n.plot-empty h3 {\n  font-size: var(--font-xl);\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-gray-700);\n}\n\n.plot-empty p {\n  margin-bottom: var(--spacing-xl);\n  font-size: var(--font-md);\n}\n\n.run-button {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-md) var(--spacing-xl);\n  background: var(--color-primary);\n  color: var(--bg-white);\n  border: none;\n  border-radius: var(--radius-lg);\n  font-size: var(--font-md);\n  font-weight: var(--font-semibold);\n  cursor: pointer;\n  transition: var(--transition-all);\n  margin-bottom: var(--spacing-xl);\n  flex-shrink: 0;\n}\n\n.run-button:hover:not(:disabled) {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-hover);\n}\n\n.run-button:disabled {\n  background: var(--color-gray-400);\n  cursor: not-allowed;\n}\n\n.info-box {\n  margin-top: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: var(--color-info-bg);\n  border: var(--border-width) solid var(--color-info-border);\n  border-radius: var(--radius-lg);\n  text-align: left;\n  font-size: var(--font-sm);\n  color: var(--color-info);\n}\n\n.info-box strong {\n  display: block;\n  margin-bottom: var(--spacing-sm);\n  color: #075985;\n}\n\n.info-box ul {\n  margin-top: var(--spacing-sm);\n  padding-left: var(--spacing-xl);\n}\n\n.info-box li {\n  margin-bottom: 0.3rem;\n}\n\n.plot-display {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.plot-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  gap: var(--spacing-sm);\n  margin-bottom: var(--spacing-md);\n}\n\n.plot-actions .action-left {\n  display: flex;\n  align-items: center;\n}\n\n.plot-actions .action-right {\n  display: flex;\n  gap: var(--spacing-sm);\n}\n\n.plot-info {\n  font-size: var(--font-sm);\n  color: var(--color-gray-600);\n  padding: 0 var(--spacing-md);\n}\n\n.plot-display img {\n  max-width: 100%;\n  max-height: calc(100% - 60px);\n  object-fit: contain;\n  border-radius: var(--radius-md);\n  box-shadow: var(--shadow-md);\n}\n\n/* ========== Âä†ËΩΩÁä∂ÊÄÅ ========== */\n.plot-loading {\n  text-align: center;\n  color: var(--color-gray-600);\n}\n\n.plot-loading h3 {\n  font-size: var(--font-xl);\n  margin-top: var(--spacing-lg);\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-gray-700);\n}\n\n.plot-loading p {\n  font-size: var(--font-md);\n  color: var(--color-gray-500);\n}\n\n.spinner {\n  animation: spin 1s linear infinite;\n  color: var(--color-primary);\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* ========== ÈîôËØØÁä∂ÊÄÅ ========== */\n.plot-error {\n  text-align: center;\n  max-width: 600px;\n}\n\n.error-icon {\n  margin-bottom: var(--spacing-lg);\n}\n\n.plot-error h3 {\n  font-size: var(--font-xl);\n  margin-bottom: var(--spacing-md);\n  color: var(--color-danger);\n}\n\n.error-message {\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n  background: #fef2f2;\n  border: var(--border-width) solid #fecaca;\n  border-radius: var(--radius-md);\n  text-align: left;\n}\n\n.error-message pre {\n  font-family: 'Courier New', monospace;\n  font-size: var(--font-sm);\n  color: #991b1b;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  margin: 0;\n}\n\n/* ========== ËÆæÁΩÆÈù¢Êùø ========== */\n.settings-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n\n.settings-panel {\n  background: white;\n  border-radius: var(--radius-lg);\n  box-shadow: var(--shadow-xl);\n  padding: var(--spacing-2xl);\n  max-width: 500px;\n  width: 90%;\n  max-height: 90vh;\n  overflow-y: auto;\n}\n\n.settings-panel h3 {\n  font-size: var(--font-2xl);\n  margin-bottom: var(--spacing-xl);\n  color: var(--color-gray-900);\n}\n\n.setting-group {\n  margin-bottom: var(--spacing-lg);\n}\n\n.setting-group label {\n  display: flex;\n  flex-direction: column;\n  font-size: var(--font-md);\n  font-weight: var(--font-medium);\n  color: var(--color-gray-700);\n}\n\n.setting-group input {\n  margin-top: var(--spacing-sm);\n  padding: var(--spacing-md);\n  border: var(--border-width) solid var(--border-color);\n  border-radius: var(--radius-md);\n  font-size: var(--font-md);\n  transition: var(--transition-all);\n}\n\n.setting-group input:focus {\n  outline: none;\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\n}\n\n.settings-info {\n  margin: var(--spacing-xl) 0;\n  padding: var(--spacing-lg);\n  background: var(--color-gray-50);\n  border-radius: var(--radius-md);\n}\n\n.settings-info .info-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-sm);\n  font-size: var(--font-md);\n}\n\n.settings-info .info-row:last-child {\n  margin-bottom: 0;\n}\n\n.settings-info .info-row span {\n  color: var(--color-gray-600);\n}\n\n.settings-info .info-row strong {\n  color: var(--color-gray-900);\n}\n\n.settings-info .info-row strong.warning {\n  color: var(--color-warning);\n}\n\n.settings-info .warning-message {\n  margin-top: var(--spacing-md);\n  padding: var(--spacing-md);\n  background: #fff7ed;\n  border: var(--border-width) solid #fed7aa;\n  border-radius: var(--radius-sm);\n  font-size: var(--font-sm);\n  color: #9a3412;\n}\n\n.settings-presets {\n  margin: var(--spacing-xl) 0;\n}\n\n.settings-presets h4 {\n  font-size: var(--font-md);\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-gray-700);\n}\n\n.settings-presets button {\n  display: block;\n  width: 100%;\n  padding: var(--spacing-md);\n  margin-bottom: var(--spacing-sm);\n  background: var(--bg-white);\n  border: var(--border-width) solid var(--border-color);\n  border-radius: var(--radius-md);\n  font-size: var(--font-sm);\n  cursor: pointer;\n  transition: var(--transition-all);\n  text-align: left;\n}\n\n.settings-presets button:hover {\n  background: var(--color-gray-100);\n  border-color: var(--color-primary);\n}\n\n.settings-actions {\n  display: flex;\n  gap: var(--spacing-md);\n  margin-top: var(--spacing-xl);\n}\n\n.settings-actions button {\n  flex: 1;\n  padding: var(--spacing-md);\n  border: var(--border-width) solid var(--border-color);\n  border-radius: var(--radius-md);\n  font-size: var(--font-md);\n  font-weight: var(--font-medium);\n  cursor: pointer;\n  transition: var(--transition-all);\n}\n\n.settings-actions .btn-secondary {\n  background: var(--bg-white);\n  color: var(--color-gray-700);\n}\n\n.settings-actions .btn-secondary:hover {\n  background: var(--color-gray-100);\n}\n\n.settings-actions .btn-primary {\n  background: var(--color-primary);\n  color: var(--bg-white);\n  border-color: var(--color-primary);\n}\n\n.settings-actions .btn-primary:hover {\n  background: var(--color-primary-dark);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-hover);\n}\n\n",""]);const l=i},338:(e,n,t)=>{var r=t(961);n.createRoot=r.createRoot,n.hydrateRoot=r.hydrateRoot},357:(e,n,t)=>{t.r(n),t.d(n,{useBlockStore:()=>u});const r=e=>{let n;const t=new Set,r=(e,r)=>{const a="function"==typeof e?e(n):e;if(!Object.is(a,n)){const e=n;n=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},n,a),t.forEach(t=>t(n,e))}},a=()=>n,o={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},i=n=e(r,a,o);return o};var a=t(540),o=t(242);const{useDebugValue:i}=a,{useSyncExternalStoreWithSelector:l}=o;let s=!1;const c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n="function"==typeof e?(e=>e?r(e):r)(e):e,t=(e,t)=>function(e,n=c,t){t&&!s&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),s=!0);const r=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,t);return i(r),r}(n,e,t);return Object.assign(t,n),t},u=(p=(e,n)=>({blocks:[],currentDataset:null,generatedCode:"",plotUrl:null,selectedBlockId:null,selectedBlockIds:[],isRunning:!1,runError:null,isWebRInitialized:!1,isWebRReady:!1,webRInitProgress:"ÂáÜÂ§áÂàùÂßãÂåñ...",syncSource:null,isDeveloperMode:!1,enableCodeNormalization:!0,plotWidth:20,plotHeight:20,plotDPI:720,exportFormat:"png",selectedPackages:["ggplot2"],installedPackages:[],isInstallingPackages:!1,fontConfig:(()=>{try{const e=localStorage.getItem("ggplotchim_font_config");if(e){const n=JSON.parse(e);return console.log("‚úÖ ‰ªéÁºìÂ≠òÂä†ËΩΩÂ≠ó‰ΩìÈÖçÁΩÆ:",n),n}}catch(e){console.warn("‚ö†Ô∏è Âä†ËΩΩÂ≠ó‰ΩìÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº:",e)}return{chineseFont:"SimSun",englishFont:"Times New Roman"}})(),addBlock:n=>e(e=>({blocks:[...e.blocks,n]})),removeBlock:n=>e(e=>({blocks:e.blocks.filter(e=>e.id!==n),selectedBlockIds:e.selectedBlockIds.filter(e=>e!==n)})),updateBlock:(n,t)=>e(e=>({blocks:e.blocks.map(e=>e.id===n?{...e,...t}:e)})),updateBlocks:n=>e({blocks:n}),updateBlockParams:(n,t)=>e(e=>({blocks:e.blocks.map(e=>e.id===n?{...e,params:{...e.params,...t}}:e)})),setSelectedBlock:n=>e({selectedBlockId:n,selectedBlockIds:n?[n]:[]}),setSelectedBlocks:n=>e({selectedBlockIds:n,selectedBlockId:1===n.length?n[0]:null}),toggleBlockSelection:n=>e(e=>{const t=e.selectedBlockIds.includes(n)?e.selectedBlockIds.filter(e=>e!==n):[...e.selectedBlockIds,n];return{selectedBlockIds:t,selectedBlockId:1===t.length?t[0]:null}}),clearSelection:()=>e({selectedBlockIds:[],selectedBlockId:null}),setDataset:n=>e({currentDataset:n}),setGeneratedCode:n=>e({generatedCode:n}),updateCodeAndSync:async r=>{console.log("\nüîÑ [Store] updateCodeAndSync Ë¢´Ë∞ÉÁî®"),console.log("üìù [Store] Áî®Êà∑ÁºñËæëÁöÑ‰ª£Á†ÅÈïøÂ∫¶:",r.length),console.log("üìù [Store] Áî®Êà∑ÁºñËæëÁöÑ‰ª£Á†ÅÂâç200Â≠óÁ¨¶:",r.substring(0,200));const a=r,o=n();if(console.log("üîç [Store] ÂΩìÂâçÂêåÊ≠•Ê∫ê:",o.syncSource),console.log("üîç [Store] ÂΩìÂâçÁßØÊú®Êï∞Èáè:",o.blocks.length),"blocks"===o.syncSource)return console.log("‚è≠Ô∏è [Store] ÂêåÊ≠•Ê∫êÊòØÁßØÊú®ÔºåË∑≥Ëøá‰ª£Á†ÅÂà∞ÁßØÊú®ÁöÑÂêåÊ≠•"),void e({syncSource:null});const{parseRCodeToBlocksWithAST:i}=t(4),{webRRunner:l}=t(762);if(!l.isReady())return void console.warn("‚ö†Ô∏è [Store] WebR Â∞öÊú™Â∞±Áª™ÔºåÊó†Ê≥ïËß£Êûê‰ª£Á†ÅÂà∞ÁßØÊú®");const s=l.getWebR();if(s){console.log("üöÄ [Store] ÂºÄÂßãÂºÇÊ≠•Ëß£Êûê‰ª£Á†Å...");try{const o=await i(r,s);console.log("\n‚úÖ [Store] ASTËß£ÊûêÂô®ËøîÂõûÁªìÊûúÔºåÂÖ±",o.length,"‰∏™ÁßØÊú®Âùó"),console.log("üìä [Store] Ëß£ÊûêÁöÑÁßØÊú®Âùó:",o.map(e=>({type:e.blockType,params:e.params})));const l=n();if("blocks"===l.syncSource)return void console.log("‚è≠Ô∏è [Store] Ë∑≥ËøáÊõ¥Êñ∞ÔºöÁî®Êà∑Âú®ÂºÇÊ≠•ÊúüÈó¥Â∑≤‰øÆÊîπÁßØÊú®");console.log("üîÄ [Store] ÂºÄÂßãÂêàÂπ∂ÁßØÊú®...");const c=l.blocks;console.log("üì¶ [Store] Áé∞ÊúâÁßØÊú®Êï∞Èáè:",c.length);const d=[],u=new Set,p=new Map;o.forEach((e,n)=>{let t,r=0;c.forEach(a=>{if(u.has(a.id))return;let o=0;if(a.blockType===e.blockType){o+=100,JSON.stringify(a.params)===JSON.stringify(e.params)?o+=50:Object.keys(e.params).forEach(n=>{a.params[n]===e.params[n]&&(o+=5)});const t=c.indexOf(a),r=Math.abs(t-n);o-=r}o>r&&(r=o,t=a)}),t&&r>=100?(console.log(`  ‚úÖ [Store] ÁßØÊú® ${n} ÊâæÂà∞ÂåπÈÖç:`,t.id,"ÂàÜÊï∞:",r),u.add(t.id),p.set(e.id,t.id),d.push({...t,params:{...t.params,...e.params}})):(console.log(`  üÜï [Store] ÁßØÊú® ${n} Êó†ÂåπÈÖçÔºåÂàõÂª∫Êñ∞ÁßØÊú®:`,e.blockType),d.push(e))}),console.log("üîó [Store] Êõ¥Êñ∞ËøûÊé•‰∏≠ÁöÑ ID Êò†Â∞Ñ..."),d.forEach((e,n)=>{const t=o[n];if(!t)return;const r={...t.connections};if(r.input){const e=p.get(r.input);e&&(console.log(`    üîÑ [Store] Êò†Â∞Ñ input: ${r.input} -> ${e}`),r.input=e)}if(r.output){const e=p.get(r.output);e&&(console.log(`    üîÑ [Store] Êò†Â∞Ñ output: ${r.output} -> ${e}`),r.output=e)}if(t.ggplotConnections&&t.ggplotConnections.length>0){const n=t.ggplotConnections.map(e=>{const n=p.get(e);return n?(console.log(`    üîÑ [Store] Êò†Â∞Ñ ggplotConnections: ${e} -> ${n}`),n):e});e.ggplotConnections=n}e.connections=r}),console.log("üéØ [Store] ÂêàÂπ∂ÂÆåÊàêÔºåÊúÄÁªàÁßØÊú®Êï∞Èáè:",d.length);const f=n().enableCodeNormalization;if(console.log("üîß [Store] ‰ª£Á†ÅËßÑËåÉÂåñÂºÄÂÖ≥:",f?"‚úÖ Â∑≤ÂêØÁî®":"‚ùå Â∑≤Á¶ÅÁî®"),f){const{generateRCode:n}=t(704),r=n(d);console.log("üé® [Store] ‰ªéÁßØÊú®ÂùóÈáçÊñ∞ÁîüÊàêËßÑËåÉÂåñ‰ª£Á†Å"),console.log("üìù [Store] ÈáçÊñ∞ÁîüÊàêÁöÑ‰ª£Á†ÅÈïøÂ∫¶:",r.length),console.log("üìù [Store] ÈáçÊñ∞ÁîüÊàêÁöÑ‰ª£Á†ÅÂâç200Â≠óÁ¨¶:",r.substring(0,200)),e({blocks:d,generatedCode:r,syncSource:"code"}),console.log("‚úÖ [Store] ÁßØÊú®ÂùóÂíåËßÑËåÉÂåñ‰ª£Á†ÅÂ∑≤Êõ¥Êñ∞Âà∞store\n")}else console.log("‚è≠Ô∏è [Store] Ë∑≥Ëøá‰ª£Á†ÅËßÑËåÉÂåñÔºå‰øùÊåÅÁî®Êà∑ÁºñËæëÁöÑ‰ª£Á†Å"),e({blocks:d,generatedCode:a,syncSource:"code"}),console.log("‚úÖ [Store] ÁßØÊú®ÂùóÂ∑≤Êõ¥Êñ∞Âà∞storeÔºà‰øùÊåÅÂéü‰ª£Á†ÅÔºâ\n")}catch(e){console.error("‚ùå [Store] ASTËß£ÊûêÂ§±Ë¥•:",e),console.error("‚ùå [Store] ÈîôËØØËØ¶ÊÉÖ:",e instanceof Error?e.message:String(e))}}else console.warn("‚ö†Ô∏è [Store] Êó†Ê≥ïËé∑Âèñ WebR ÂÆû‰æã")},setSyncSource:n=>e({syncSource:n}),setPlotUrl:n=>e({plotUrl:n}),setIsRunning:n=>e({isRunning:n}),setRunError:n=>e({runError:n}),setIsWebRInitialized:n=>e({isWebRInitialized:n}),setIsWebRReady:n=>e({isWebRReady:n}),setWebRInitProgress:n=>e({webRInitProgress:n}),setIsDeveloperMode:n=>e({isDeveloperMode:n}),setEnableCodeNormalization:n=>e({enableCodeNormalization:n}),setPlotSettings:(n,t,r)=>e({plotWidth:n,plotHeight:t,plotDPI:r}),setExportFormat:n=>e({exportFormat:n}),setSelectedPackages:n=>e({selectedPackages:n}),setInstalledPackages:n=>e({installedPackages:n}),setIsInstallingPackages:n=>e({isInstallingPackages:n}),setFontConfig:n=>{try{localStorage.setItem("ggplotchim_font_config",JSON.stringify(n)),console.log("‚úÖ Â≠ó‰ΩìÈÖçÁΩÆÂ∑≤‰øùÂ≠òÂà∞ÁºìÂ≠ò:",n)}catch(e){console.error("‚ùå ‰øùÂ≠òÂ≠ó‰ΩìÈÖçÁΩÆÂ§±Ë¥•:",e)}e({fontConfig:n})},clearAll:()=>e({blocks:[],currentDataset:null,generatedCode:"",plotUrl:null,selectedBlockId:null,selectedBlockIds:[],isRunning:!1,runError:null})}),p?d(p):d);var p},380:(e,n,t)=>{t.d(n,{e:()=>a,k:()=>o});var r=t(998);const a=[{id:"start",type:r._.START,category:r.C.BASE,label:"üöÄ ÂºÄÂßã",description:"Á®ãÂ∫èÂºÄÂßãÔºà‰∏ªÁ®ãÂ∫èÂÖ•Âè£Ôºâ",color:"#22c55e",params:[],rTemplate:""},{id:"library",type:r._.LIBRARY,category:r.C.BASE,label:"library()",description:"Âä†ËΩΩRÂåÖ",color:"#ef4444",params:[{name:"package",type:"text",label:"ÂåÖÂêç",defaultValue:"ggplot2",required:!0}],rTemplate:"library({{package}})"},{id:"print",type:r._.PRINT,category:r.C.BASE,label:"print()",description:"ÊâìÂç∞ËæìÂá∫",color:"#ef4444",params:[{name:"value",type:"text",label:"ËæìÂá∫ÂÜÖÂÆπ",defaultValue:"data",required:!0}],rTemplate:"print({{value}})"},{id:"assign",type:r._.ASSIGN,category:r.C.BASE,label:"<- ËµãÂÄº",description:"ÂèòÈáèËµãÂÄº",color:"#ef4444",params:[{name:"variable",type:"text",label:"ÂèòÈáèÂêç",defaultValue:"x",required:!0},{name:"value",type:"text",label:"ËµãÂÄºÂÜÖÂÆπ",defaultValue:"10",required:!0}],rTemplate:"{{#if variable}}{{variable}} <- {{/if}}{{value}}"},{id:"for_loop",type:r._.FOR_LOOP,category:r.C.BASE,label:"forÂæ™ÁéØ",description:"forÂæ™ÁéØËØ≠Âè•ÔºàCÂûãÂÆπÂô®Ôºâ",color:"#ef4444",isContainer:!0,params:[{name:"var",type:"text",label:"Âæ™ÁéØÂèòÈáè",defaultValue:"i",required:!0},{name:"range",type:"text",label:"ÈÅçÂéÜ",defaultValue:"1:10",required:!0}],slots:[{name:"body",label:"Âæ™ÁéØÊâßË°å",allowMultiple:!0}],rTemplate:"for ({{var}} in {{range}}) {\n{{#each children.body}}{{this}}{{/each}}\n}"},{id:"if_statement",type:r._.IF_STATEMENT,category:r.C.BASE,label:"ifËØ≠Âè•",description:"Êù°‰ª∂Âà§Êñ≠ËØ≠Âè•ÔºàCÂûãÂÆπÂô®Ôºâ",color:"#ef4444",isContainer:!0,params:[{name:"condition",type:"text",label:"Â¶ÇÊûú",defaultValue:"x > 0",required:!0}],slots:[{name:"then",label:"ÈÇ£‰πàÊâßË°å",allowMultiple:!0},{name:"else",label:"Âê¶ÂàôÊâßË°å",allowMultiple:!0}],rTemplate:"if ({{condition}}) {\n{{#each children.then}}{{this}}{{/each}}{{#if children.else.length}}\n} else {\n{{#each children.else}}{{this}}{{/each}}{{/if}}\n}"},{id:"function_call",type:r._.FUNCTION_CALL,category:r.C.BASE,label:"ÂáΩÊï∞Ë∞ÉÁî®",description:"Ë∞ÉÁî®RÂáΩÊï∞",color:"#ef4444",params:[{name:"function_name",type:"text",label:"ÂáΩÊï∞Âêç",defaultValue:"mean",required:!0},{name:"args",type:"text",label:"ÂáΩÊï∞ÂèÇÊï∞",defaultValue:"data$column",required:!1}],rTemplate:"{{function_name}}({{#if args}}{{args}}{{/if}})"},{id:"comment",type:r._.COMMENT,category:r.C.BASE,label:"# Ê≥®Èáä",description:"‰ª£Á†ÅÊ≥®Èáä",color:"#ef4444",params:[{name:"text",type:"text",label:"Ê≥®ÈáäÂÜÖÂÆπ",defaultValue:"ËøôÊòØ‰∏ÄË°åÊ≥®Èáä",required:!0}],rTemplate:"# {{text}}"},{id:"custom_code",type:r._.CUSTOM_CODE,category:r.C.BASE,label:"Ëá™ÂÆö‰πâ‰ª£Á†Å",description:"Ëá™ÂÆö‰πâR‰ª£Á†ÅÁâáÊÆµ",color:"#94a3b8",params:[{name:"code",type:"text",label:"‰ª£Á†ÅÂÜÖÂÆπ",defaultValue:"",required:!0}],rTemplate:"{{code}}"},{id:"c_vector",type:r._.C_VECTOR,category:r.C.BASE,label:"c()",description:"ÂàõÂª∫ÂêëÈáè",color:"#f59e0b",params:[{name:"elements",type:"text",label:"ÂÖÉÁ¥†",defaultValue:"1, 2, 3",required:!0}],rTemplate:"c({{elements}})"},{id:"seq",type:r._.SEQ,category:r.C.BASE,label:"seq()",description:"ÁîüÊàêÂ∫èÂàó",color:"#f59e0b",params:[{name:"from",type:"number",label:"‰ªé",defaultValue:1,required:!1},{name:"to",type:"number",label:"Âà∞",defaultValue:10,required:!1},{name:"by",type:"number",label:"Ê≠•Èïø",required:!1},{name:"length_out",type:"number",label:"ÈïøÂ∫¶",required:!1}],rTemplate:"seq({{#if from}}{{from}}{{/if}}{{#if to}}, {{to}}{{/if}}{{#if by}}, by={{by}}{{/if}}{{#if length_out}}, length.out={{length_out}}{{/if}})"},{id:"rep",type:r._.REP,category:r.C.BASE,label:"rep()",description:"ÈáçÂ§çÂÖÉÁ¥†",color:"#f59e0b",params:[{name:"x",type:"text",label:"ÂÖÉÁ¥†",defaultValue:"x",required:!0},{name:"times",type:"number",label:"ÈáçÂ§çÊ¨°Êï∞",required:!1},{name:"each",type:"number",label:"ÊØè‰∏™ÈáçÂ§ç",required:!1}],rTemplate:"rep({{x}}{{#if times}}, {{times}}{{/if}}{{#if each}}, each={{each}}{{/if}})"},{id:"paste",type:r._.PASTE,category:r.C.BASE,label:"paste()",description:"Â≠óÁ¨¶‰∏≤ËøûÊé•",color:"#f59e0b",params:[{name:"elements",type:"text",label:"ÂÖÉÁ¥†",defaultValue:'"Hello", "World"',required:!0},{name:"sep",type:"text",label:"ÂàÜÈöîÁ¨¶",defaultValue:" ",required:!1}],rTemplate:"paste({{elements}}{{#if sep}}, sep={{sep}}{{/if}})"},{id:"factor",type:r._.FACTOR,category:r.C.BASE,label:"factor()",description:"ÂàõÂª∫Âõ†Â≠ê",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"levels",type:"text",label:"Ê∞¥Âπ≥",required:!1},{name:"labels",type:"text",label:"Ê†áÁ≠æ",required:!1}],rTemplate:"factor({{x}}{{#if levels}}, levels={{levels}}{{/if}}{{#if labels}}, labels={{labels}}{{/if}})"},{id:"as_factor",type:r._.AS_FACTOR,category:r.C.BASE,label:"as.factor()",description:"ËΩ¨Êç¢‰∏∫Âõ†Â≠ê",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0}],rTemplate:"as.factor({{x}})"},{id:"ifelse",type:r._.IFELSE,category:r.C.BASE,label:"ifelse()",description:"Êù°‰ª∂Ë°®ËææÂºè",color:"#f59e0b",params:[{name:"test",type:"text",label:"Êù°‰ª∂",defaultValue:"x > 0",required:!0},{name:"yes",type:"text",label:"ÁúüÂÄº",defaultValue:"1",required:!0},{name:"no",type:"text",label:"ÂÅáÂÄº",defaultValue:"0",required:!0}],rTemplate:"ifelse({{test}}, {{yes}}, {{no}})"},{id:"data_frame",type:r._.DATA_FRAME,category:r.C.BASE,label:"data.frame()",description:"ÂàõÂª∫Êï∞ÊçÆÊ°Ü",color:"#f59e0b",params:[{name:"columns",type:"text",label:"ÂàóÂÆö‰πâ",defaultValue:"x=1:10, y=rnorm(10)",required:!0}],rTemplate:"data.frame({{columns}})"},{id:"matrix",type:r._.MATRIX,category:r.C.BASE,label:"matrix()",description:"ÂàõÂª∫Áü©Èòµ",color:"#f59e0b",params:[{name:"data",type:"text",label:"Êï∞ÊçÆ",defaultValue:"NA",required:!0},{name:"nrow",type:"number",label:"Ë°åÊï∞",required:!1},{name:"ncol",type:"number",label:"ÂàóÊï∞",required:!0}],rTemplate:"matrix({{data}}{{#if nrow}}, {{nrow}}{{/if}}, {{ncol}})"},{id:"rbind",type:r._.RBIND,category:r.C.BASE,label:"rbind()",description:"ÊåâË°åÂêàÂπ∂",color:"#f59e0b",params:[{name:"objects",type:"text",label:"ÂØπË±°",defaultValue:"df1, df2",required:!0}],rTemplate:"rbind({{objects}})"},{id:"cbind",type:r._.CBIND,category:r.C.BASE,label:"cbind()",description:"ÊåâÂàóÂêàÂπ∂",color:"#f59e0b",params:[{name:"objects",type:"text",label:"ÂØπË±°",defaultValue:"vec1, vec2",required:!0}],rTemplate:"cbind({{objects}})"},{id:"nrow",type:r._.NROW,category:r.C.BASE,label:"nrow()",description:"Ëé∑ÂèñË°åÊï∞",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"data",required:!0}],rTemplate:"nrow({{x}})"},{id:"ncol",type:r._.NCOL,category:r.C.BASE,label:"ncol()",description:"Ëé∑ÂèñÂàóÊï∞",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"data",required:!0}],rTemplate:"ncol({{x}})"},{id:"colnames",type:r._.COLNAMES,category:r.C.BASE,label:"colnames()",description:"Ëé∑Âèñ/ËÆæÁΩÆÂàóÂêç",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"data",required:!0}],rTemplate:"colnames({{x}})"},{id:"rownames",type:r._.ROWNAMES,category:r.C.BASE,label:"rownames()",description:"Ëé∑Âèñ/ËÆæÁΩÆË°åÂêç",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"data",required:!0}],rTemplate:"rownames({{x}})"},{id:"levels",type:r._.LEVELS,category:r.C.BASE,label:"levels()",description:"Ëé∑ÂèñÂõ†Â≠êÊ∞¥Âπ≥",color:"#f59e0b",params:[{name:"x",type:"text",label:"Âõ†Â≠ê",defaultValue:"data$group",required:!0}],rTemplate:"levels({{x}})"},{id:"nlevels",type:r._.NLEVELS,category:r.C.BASE,label:"nlevels()",description:"Ëé∑ÂèñÂõ†Â≠êÊ∞¥Âπ≥Êï∞",color:"#f59e0b",params:[{name:"x",type:"text",label:"Âõ†Â≠ê",defaultValue:"data$group",required:!0}],rTemplate:"nlevels({{x}})"},{id:"sum",type:r._.SUM,category:r.C.BASE,label:"sum()",description:"Ê±ÇÂíå",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"sum({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"mean",type:r._.MEAN,category:r.C.BASE,label:"mean()",description:"Âπ≥ÂùáÂÄº",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"mean({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"min",type:r._.MIN,category:r.C.BASE,label:"min()",description:"ÊúÄÂ∞èÂÄº",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"min({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"max",type:r._.MAX,category:r.C.BASE,label:"max()",description:"ÊúÄÂ§ßÂÄº",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"max({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"median",type:r._.MEDIAN,category:r.C.BASE,label:"median()",description:"‰∏≠‰ΩçÊï∞",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"median({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"sd",type:r._.SD,category:r.C.BASE,label:"sd()",description:"Ê†áÂáÜÂ∑Æ",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"sd({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"var",type:r._.VAR,category:r.C.BASE,label:"var()",description:"ÊñπÂ∑Æ",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0},{name:"na_rm",type:"boolean",label:"ÁßªÈô§NA",defaultValue:!1,required:!1}],rTemplate:"var({{x}}{{#if na_rm}}, na.rm=TRUE{{/if}})"},{id:"length",type:r._.LENGTH,category:r.C.BASE,label:"length()",description:"ÈïøÂ∫¶",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"x",required:!0}],rTemplate:"length({{x}})"},{id:"sample",type:r._.SAMPLE,category:r.C.BASE,label:"sample()",description:"ÈöèÊú∫ÊäΩÊ†∑",color:"#f59e0b",params:[{name:"x",type:"text",label:"Êï∞ÊçÆ",defaultValue:"1:10",required:!0},{name:"size",type:"number",label:"Ê†∑Êú¨Èáè",required:!0},{name:"replace",type:"boolean",label:"ÊúâÊîæÂõû",defaultValue:!1,required:!1}],rTemplate:"sample({{x}}, {{size}}{{#if replace}}, replace=TRUE{{/if}})"},{id:"data_import",type:r._.DATA_IMPORT,category:r.C.DATA,label:"data <-",description:"Êï∞ÊçÆËµãÂÄºËØ≠Âè•",color:"#3b82f6",params:[{name:"source",type:"select",label:"Êï∞ÊçÆÊ∫ê",options:[{label:"irisÔºàÈ∏¢Â∞æËä±Êï∞ÊçÆÈõÜÔºâ",value:"iris"},{label:"mtcarsÔºàÊ±ΩËΩ¶ÊÄßËÉΩÊï∞ÊçÆÔºâ",value:"mtcars"},{label:"diamondsÔºàÈíªÁü≥Êï∞ÊçÆÈõÜÔºâ",value:"diamonds"},{label:"mpgÔºàÊ±ΩËΩ¶ÁáÉÊ≤πÊï∞ÊçÆÔºâ",value:"mpg"},{label:"economicsÔºàÁªèÊµéÊï∞ÊçÆÔºâ",value:"economics"},{label:"faithfulÔºàÈó¥Ê≠áÊ≥âÊï∞ÊçÆÔºâ",value:"faithful"}],defaultValue:"iris",required:!0}],rTemplate:"data <- {{source}}"},{id:"ggplot_init",type:r._.GGPLOT_INIT,category:r.C.DATA,label:"ggplot()",description:"ÂàõÂª∫ ggplot ÂØπË±°",color:"#8b5cf6",params:[{name:"data",type:"text",label:"Êï∞ÊçÆÈõÜÂêçÁß∞",defaultValue:"data",required:!0},{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1}],rTemplate:"ggplot({{data}}{{#if mapping}}, {{mapping}}{{/if}})"},{id:"aes",type:r._.AES,category:r.C.AES,label:"aes()",description:"ÁæéÂ≠¶Êò†Â∞ÑËØ≠Âè•",color:"#f59e0b",params:[{name:"x",type:"text",label:"x",required:!1},{name:"y",type:"text",label:"y",required:!1},{name:"color",type:"text",label:"color",required:!1},{name:"fill",type:"text",label:"fill",required:!1},{name:"size",type:"text",label:"size",required:!1},{name:"alpha",type:"text",label:"alpha",required:!1},{name:"shape",type:"text",label:"shape",required:!1},{name:"linetype",type:"text",label:"linetype",required:!1}],rTemplate:"aes({{#if x}}x = {{x}}{{/if}}{{#if y}}{{#if x}}, {{/if}}y = {{y}}{{/if}}{{#if color}}, color = {{color}}{{/if}}{{#if fill}}, fill = {{fill}}{{/if}}{{#if size}}, size = {{size}}{{/if}}{{#if alpha}}, alpha = {{alpha}}{{/if}}{{#if shape}}, shape = {{shape}}{{/if}}{{#if linetype}}, linetype = {{linetype}}{{/if}})"},{id:"geom_point",type:r._.GEOM_POINT,category:r.C.GEOM,label:"geom_point()",description:"ÁÇπÂá†‰ΩïÂØπË±°",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"size",type:"text",label:"size",required:!1},{name:"alpha",type:"text",label:"alpha",required:!1},{name:"color",type:"text",label:"color",required:!1},{name:"shape",type:"text",label:"shape",required:!1}],rTemplate:"geom_point({{#if mapping}}mapping = {{mapping}}, {{/if}}{{#if size}}size = {{size}}, {{/if}}{{#if alpha}}alpha = {{alpha}}, {{/if}}{{#if color}}color = {{color}}, {{/if}}{{#if shape}}shape = {{shape}}, {{/if}})"},{id:"geom_line",type:r._.GEOM_LINE,category:r.C.GEOM,label:"geom_line()",description:"Á∫øÂá†‰ΩïÂØπË±°",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"linewidth",type:"text",label:"linewidth",required:!1},{name:"linetype",type:"text",label:"linetype",required:!1},{name:"color",type:"text",label:"color",required:!1}],rTemplate:"geom_line({{#if mapping}}mapping = {{mapping}}{{/if}}{{#if linewidth}}{{#if mapping}}, {{/if}}linewidth = {{linewidth}}{{/if}}{{#if linetype}}, linetype = {{linetype}}{{/if}}{{#if color}}, color = {{color}}{{/if}})"},{id:"geom_bar",type:r._.GEOM_BAR,category:r.C.GEOM,label:"geom_bar()",description:"Êü±Áä∂Âá†‰ΩïÂØπË±°",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"stat",type:"text",label:"stat",defaultValue:"count",required:!1},{name:"position",type:"text",label:"position",required:!1},{name:"alpha",type:"text",label:"alpha",required:!1},{name:"width",type:"text",label:"width",required:!1}],rTemplate:"geom_bar({{#if mapping}}mapping = {{mapping}}{{/if}}{{#if stat}}{{#if mapping}}, {{/if}}stat = {{stat}}{{/if}}{{#if position}}, position = {{position}}{{/if}}{{#if alpha}}, alpha = {{alpha}}{{/if}}{{#if width}}, width = {{width}}{{/if}})"},{id:"geom_col",type:r._.GEOM_COL,category:r.C.GEOM,label:"geom_col()",description:"Êü±ÂΩ¢Âõæ (ÈúÄË¶Å y ÂÄº)",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"position",type:"text",label:"position",required:!1},{name:"width",type:"text",label:"width",required:!1}],rTemplate:"geom_col({{#if mapping}}mapping = {{mapping}}{{/if}}{{#if position}}{{#if mapping}}, {{/if}}position = {{position}}{{/if}}{{#if width}}, width = {{width}}{{/if}})"},{id:"geom_histogram",type:r._.GEOM_HISTOGRAM,category:r.C.GEOM,label:"geom_histogram()",description:"Áõ¥ÊñπÂõæ",color:"#ec4899",params:[{name:"bins",type:"text",label:"bins",required:!1},{name:"binwidth",type:"text",label:"binwidth",required:!1},{name:"fill",type:"text",label:"fill",required:!1}],rTemplate:"geom_histogram({{#if bins}}bins = {{bins}}{{/if}}{{#if binwidth}}{{#if bins}}, {{/if}}binwidth = {{binwidth}}{{/if}}{{#if fill}}, fill = {{fill}}{{/if}})"},{id:"geom_boxplot",type:r._.GEOM_BOXPLOT,category:r.C.GEOM,label:"geom_boxplot()",description:"ÁÆ±Á∫øÂõæ",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"width",type:"text",label:"width",required:!1},{name:"outlier_color",type:"text",label:"outlier.color",required:!1}],rTemplate:"geom_boxplot({{#if mapping}}mapping = {{mapping}}{{/if}}{{#if width}}{{#if mapping}}, {{/if}}width = {{width}}{{/if}}{{#if outlier_color}}, outlier.color = {{outlier_color}}{{/if}})"},{id:"geom_smooth",type:r._.GEOM_SMOOTH,category:r.C.GEOM,label:"geom_smooth()",description:"Âπ≥ÊªëË∂ãÂäøÁ∫ø",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"method",type:"text",label:"method",required:!1},{name:"se",type:"text",label:"se",defaultValue:"TRUE",required:!1},{name:"level",type:"text",label:"level",required:!1}],rTemplate:"geom_smooth({{#if mapping}}mapping = {{mapping}}, {{/if}}{{#if method}}method = {{method}}, {{/if}}{{#if se}}se = {{se}}, {{/if}}{{#if level}}level = {{level}}, {{/if}})"},{id:"geom_text",type:r._.GEOM_TEXT,category:r.C.GEOM,label:"geom_text()",description:"ÊñáÊú¨Ê†áÁ≠æ",color:"#ec4899",params:[{name:"data",type:"text",label:"data",required:!1},{name:"mapping",type:"text",label:"mapping",required:!1},{name:"color",type:"text",label:"color",required:!1},{name:"fontface",type:"text",label:"fontface",required:!1},{name:"alpha",type:"text",label:"alpha",required:!1},{name:"size",type:"text",label:"size",required:!1},{name:"angle",type:"text",label:"angle",required:!1},{name:"vjust",type:"text",label:"vjust",required:!1},{name:"hjust",type:"text",label:"hjust",required:!1},{name:"inherit_aes",type:"text",label:"inherit.aes",required:!1},{name:"stat",type:"text",label:"stat",required:!1}],rTemplate:"geom_text({{#if stat}}stat = {{stat}}{{/if}}{{#if data}}{{#if stat}}, {{/if}}data = {{data}}{{/if}}{{#if mapping}}{{#if data}}, {{/if}}{{#if stat}}, {{/if}}mapping = {{mapping}}{{/if}}{{#if color}}, color = {{color}}{{/if}}{{#if fontface}}, fontface = {{fontface}}{{/if}}{{#if alpha}}, alpha = {{alpha}}{{/if}}{{#if size}}, size = {{size}}{{/if}}{{#if angle}}, angle = {{angle}}{{/if}}{{#if vjust}}, vjust = {{vjust}}{{/if}}{{#if hjust}}, hjust = {{hjust}}{{/if}}{{#if inherit_aes}}, inherit.aes = {{inherit_aes}}{{/if}})"},{id:"geom_area",type:r._.GEOM_AREA,category:r.C.GEOM,label:"geom_area()",description:"Èù¢ÁßØÂõæ",color:"#ec4899",params:[{name:"mapping",type:"text",label:"mapping (ÂèØÈÄâ)",required:!1},{name:"alpha",type:"text",label:"alpha",required:!1},{name:"fill",type:"text",label:"fill",required:!1}],rTemplate:"geom_area({{#if mapping}}mapping = {{mapping}}{{/if}}{{#if alpha}}{{#if mapping}}, {{/if}}alpha = {{alpha}}{{/if}}{{#if fill}}, fill = {{fill}}{{/if}})"},{id:"scale_x_continuous",type:r._.SCALE_X_CONTINUOUS,category:r.C.SCALE,label:"scale_x_continuous()",description:"X ËΩ¥ËøûÁª≠Ê†áÂ∫¶",color:"#06b6d4",params:[{name:"name",type:"text",label:"name",required:!1},{name:"limits",type:"text",label:"limits",required:!1},{name:"breaks",type:"text",label:"breaks",required:!1}],rTemplate:"scale_x_continuous({{#if name}}name = {{name}}{{/if}}{{#if limits}}, limits = {{limits}}{{/if}}{{#if breaks}}, breaks = {{breaks}}{{/if}})"},{id:"scale_y_continuous",type:r._.SCALE_Y_CONTINUOUS,category:r.C.SCALE,label:"scale_y_continuous()",description:"Y ËΩ¥ËøûÁª≠Ê†áÂ∫¶",color:"#06b6d4",params:[{name:"name",type:"text",label:"name",required:!1},{name:"limits",type:"text",label:"limits",required:!1},{name:"breaks",type:"text",label:"breaks",required:!1}],rTemplate:"scale_y_continuous({{#if name}}name = {{name}}{{/if}}{{#if limits}}, limits = {{limits}}{{/if}}{{#if breaks}}, breaks = {{breaks}}{{/if}})"},{id:"scale_color_manual",type:r._.SCALE_COLOR_MANUAL,category:r.C.SCALE,label:"scale_color_manual()",description:"ÊâãÂä®ËÆæÁΩÆÈ¢úËâ≤",color:"#06b6d4",params:[{name:"values",type:"text",label:"values",required:!1},{name:"name",type:"text",label:"name",required:!1}],rTemplate:"scale_color_manual({{#if values}}values = {{values}}{{/if}}{{#if name}}, name = {{name}}{{/if}})"},{id:"scale_fill_manual",type:r._.SCALE_FILL_MANUAL,category:r.C.SCALE,label:"scale_fill_manual()",description:"ÊâãÂä®ËÆæÁΩÆÂ°´ÂÖÖËâ≤",color:"#06b6d4",params:[{name:"values",type:"text",label:"values",required:!1},{name:"name",type:"text",label:"name",required:!1},{name:"guide",type:"text",label:"guide",required:!1}],rTemplate:"scale_fill_manual({{#if values}}values = {{values}}{{/if}}{{#if name}}, name = {{name}}{{/if}}{{#if guide}}, guide = {{guide}}{{/if}})"},{id:"scale_color_brewer",type:r._.SCALE_COLOR_BREWER,category:r.C.SCALE,label:"scale_color_brewer()",description:"ColorBrewer Ë∞ÉËâ≤Êùø",color:"#06b6d4",params:[{name:"palette",type:"text",label:"palette",required:!1},{name:"direction",type:"text",label:"direction",required:!1},{name:"name",type:"text",label:"name",required:!1}],rTemplate:"scale_color_brewer({{#if palette}}palette = {{palette}}{{/if}}{{#if direction}}, direction = {{direction}}{{/if}}{{#if name}}, name = {{name}}{{/if}})"},{id:"scale_fill_brewer",type:r._.SCALE_FILL_BREWER,category:r.C.SCALE,label:"scale_fill_brewer()",description:"ColorBrewer Â°´ÂÖÖË∞ÉËâ≤Êùø",color:"#06b6d4",params:[{name:"palette",type:"text",label:"palette",required:!1},{name:"direction",type:"text",label:"direction",required:!1},{name:"name",type:"text",label:"name",required:!1}],rTemplate:"scale_fill_brewer({{#if palette}}palette = {{palette}}{{/if}}{{#if direction}}, direction = {{direction}}{{/if}}{{#if name}}, name = {{name}}{{/if}})"},{id:"scale_fill_gradient",type:r._.SCALE_FILL_GRADIENT,category:r.C.SCALE,label:"scale_fill_gradient()",description:"ÂèåËâ≤Ê∏êÂèò",color:"#06b6d4",params:[{name:"low",type:"text",label:"low",required:!1},{name:"high",type:"text",label:"high",required:!1}],rTemplate:"scale_fill_gradient({{#if low}}low = {{low}}{{/if}}{{#if high}}, high = {{high}}{{/if}})"},{id:"coord_flip",type:r._.COORD_FLIP,category:r.C.COORD,label:"coord_flip()",description:"ÁøªËΩ¨ÂùêÊ†áËΩ¥",color:"#6366f1",params:[],rTemplate:"coord_flip()"},{id:"coord_cartesian",type:r._.COORD_CARTESIAN,category:r.C.COORD,label:"coord_cartesian()",description:"Á¨õÂç°Â∞îÂùêÊ†áÁ≥ª",color:"#6366f1",params:[{name:"xlim",type:"text",label:"xlim",required:!1},{name:"ylim",type:"text",label:"ylim",required:!1}],rTemplate:"coord_cartesian({{#if xlim}}xlim = {{xlim}}{{/if}}{{#if ylim}}, ylim = {{ylim}}{{/if}})"},{id:"coord_polar",type:r._.COORD_POLAR,category:r.C.COORD,label:"coord_polar()",description:"ÊûÅÂùêÊ†áÁ≥ª",color:"#6366f1",params:[{name:"theta",type:"text",label:"theta",defaultValue:"x",required:!1}],rTemplate:"coord_polar({{#if theta}}theta = {{theta}}{{/if}})"},{id:"facet_wrap",type:r._.FACET_WRAP,category:r.C.FACET,label:"facet_wrap()",description:"ÂçïÂèòÈáèÂàÜÈù¢",color:"#8b5cf6",params:[{name:"facets",type:"text",label:"facets (Â¶Ç ~Species)",required:!1},{name:"ncol",type:"text",label:"ncol",required:!1},{name:"nrow",type:"text",label:"nrow",required:!1}],rTemplate:"facet_wrap({{#if facets}}{{facets}}{{/if}}{{#if ncol}}, ncol = {{ncol}}{{/if}}{{#if nrow}}, nrow = {{nrow}}{{/if}})"},{id:"facet_grid",type:r._.FACET_GRID,category:r.C.FACET,label:"facet_grid()",description:"ÂèåÂèòÈáèÂàÜÈù¢",color:"#8b5cf6",params:[{name:"rows",type:"text",label:"rows",required:!1},{name:"cols",type:"text",label:"cols",required:!1},{name:"scales",type:"text",label:"scales",required:!1}],rTemplate:"facet_grid({{#if rows}}rows = vars({{rows}}){{/if}}{{#if cols}}{{#if rows}}, {{/if}}cols = vars({{cols}}){{/if}}{{#if scales}}, scales = {{scales}}{{/if}})"},{id:"stat_summary",type:r._.STAT_SUMMARY,category:r.C.STAT,label:"stat_summary()",description:"ÁªüËÆ°Ê±áÊÄª",color:"#14b8a6",params:[{name:"fun",type:"text",label:"fun",required:!1},{name:"geom",type:"text",label:"geom",required:!1}],rTemplate:"stat_summary({{#if fun}}fun = {{fun}}{{/if}}{{#if geom}}, geom = {{geom}}{{/if}})"},{id:"stat_smooth",type:r._.STAT_SMOOTH,category:r.C.STAT,label:"stat_smooth()",description:"Âπ≥ÊªëÁªüËÆ°",color:"#14b8a6",params:[{name:"method",type:"text",label:"method",required:!1},{name:"formula",type:"text",label:"formula",required:!1}],rTemplate:"stat_smooth({{#if method}}method = {{method}}{{/if}}{{#if formula}}, formula = {{formula}}{{/if}})"},{id:"labs",type:r._.LABS,category:r.C.LABS,label:"labs()",description:"ÂõæË°®Ê†áÁ≠æ",color:"#f59e0b",params:[{name:"title",type:"text",label:"title",required:!1},{name:"subtitle",type:"text",label:"subtitle",required:!1},{name:"x",type:"text",label:"x",required:!1},{name:"y",type:"text",label:"y",required:!1},{name:"fill",type:"text",label:"fill",required:!1},{name:"color",type:"text",label:"color",required:!1},{name:"caption",type:"text",label:"caption",required:!1}],rTemplate:"labs({{#if title}}title = {{title}}{{/if}}{{#if subtitle}}, subtitle = {{subtitle}}{{/if}}{{#if x}}, x = {{x}}{{/if}}{{#if y}}, y = {{y}}{{/if}}{{#if fill}}, fill = {{fill}}{{/if}}{{#if color}}, color = {{color}}{{/if}}{{#if caption}}, caption = {{caption}}{{/if}})"},{id:"ggtitle",type:r._.GGTITLE,category:r.C.LABS,label:"ggtitle()",description:"ÂõæË°®Ê†áÈ¢ò",color:"#f59e0b",params:[{name:"label",type:"text",label:"label",required:!1},{name:"subtitle",type:"text",label:"subtitle",required:!1}],rTemplate:"ggtitle({{#if label}}{{label}}{{/if}}{{#if subtitle}}, subtitle = {{subtitle}}{{/if}})"},{id:"xlab",type:r._.XLAB,category:r.C.LABS,label:"xlab()",description:"X ËΩ¥Ê†áÁ≠æ",color:"#f59e0b",params:[{name:"label",type:"text",label:"label",required:!1}],rTemplate:"xlab({{#if label}}{{label}}{{/if}})"},{id:"ylab",type:r._.YLAB,category:r.C.LABS,label:"ylab()",description:"Y ËΩ¥Ê†áÁ≠æ",color:"#f59e0b",params:[{name:"label",type:"text",label:"label",required:!1}],rTemplate:"ylab({{#if label}}{{label}}{{/if}})"},{id:"theme_minimal",type:r._.THEME_MINIMAL,category:r.C.THEME,label:"theme_minimal()",description:"ÊûÅÁÆÄ‰∏ªÈ¢ò",color:"#10b981",params:[{name:"args",type:"text",label:"ÂèÇÊï∞",required:!1}],rTemplate:"theme_minimal({{#if args}}{{args}}{{/if}})"},{id:"theme_classic",type:r._.THEME_CLASSIC,category:r.C.THEME,label:"theme_classic()",description:"ÁªèÂÖ∏‰∏ªÈ¢ò",color:"#10b981",params:[],rTemplate:"theme_classic()"},{id:"theme_bw",type:r._.THEME_BW,category:r.C.THEME,label:"theme_bw()",description:"ÈªëÁôΩ‰∏ªÈ¢ò",color:"#10b981",params:[],rTemplate:"theme_bw()"},{id:"theme_gray",type:r._.THEME_GRAY,category:r.C.THEME,label:"theme_gray()",description:"ÁÅ∞Ëâ≤‰∏ªÈ¢òÔºàÈªòËÆ§Ôºâ",color:"#10b981",params:[],rTemplate:"theme_gray()"},{id:"theme_light",type:r._.THEME_LIGHT,category:r.C.THEME,label:"theme_light()",description:"ÊµÖËâ≤‰∏ªÈ¢ò",color:"#10b981",params:[],rTemplate:"theme_light()"},{id:"theme_dark",type:r._.THEME_DARK,category:r.C.THEME,label:"theme_dark()",description:"Ê∑±Ëâ≤‰∏ªÈ¢ò",color:"#10b981",params:[],rTemplate:"theme_dark()"},{id:"theme_void",type:r._.THEME_VOID,category:r.C.THEME,label:"theme_void()",description:"Á©∫ÁôΩ‰∏ªÈ¢ò",color:"#10b981",params:[],rTemplate:"theme_void()"},{id:"theme",type:r._.THEME,category:r.C.THEME,label:"theme()",description:"Ëá™ÂÆö‰πâ‰∏ªÈ¢ò",color:"#10b981",params:[{name:"custom",type:"text",label:"Ëá™ÂÆö‰πâÂèÇÊï∞",required:!1}],rTemplate:"theme({{#if custom}}{{custom}}{{/if}})"},{id:"geom_segment",type:r._.GEOM_SEGMENT,category:r.C.GEOM,label:"geom_segment()",description:"Á∫øÊÆµÂá†‰ΩïÂØπË±°",color:"#ec4899",params:[{name:"data",type:"text",label:"data",required:!1},{name:"mapping",type:"text",label:"mapping",required:!1},{name:"colour",type:"text",label:"colour",required:!1},{name:"alpha",type:"text",label:"alpha",required:!1},{name:"linewidth",type:"text",label:"linewidth",required:!1},{name:"size",type:"text",label:"size",required:!1},{name:"inherit_aes",type:"text",label:"inherit.aes",required:!1}],rTemplate:"geom_segment({{#if data}}data = {{data}}{{/if}}{{#if mapping}}{{#if data}}, {{/if}}mapping = {{mapping}}{{/if}}{{#if colour}}, colour = {{colour}}{{/if}}{{#if alpha}}, alpha = {{alpha}}{{/if}}{{#if linewidth}}, linewidth = {{linewidth}}{{/if}}{{#if size}}, size = {{size}}{{/if}}{{#if inherit_aes}}, inherit.aes = {{inherit_aes}}{{/if}})"},{id:"scale_fill_viridis",type:r._.SCALE_FILL_VIRIDIS,category:r.C.SCALE,label:"scale_fill_viridis()",description:"Viridis Ë∞ÉËâ≤Êùø",color:"#06b6d4",params:[{name:"name",type:"text",label:"name",required:!1},{name:"discrete",type:"text",label:"discrete",required:!1},{name:"option",type:"text",label:"option",required:!1}],rTemplate:"scale_fill_viridis({{#if name}}name = {{name}}{{/if}}{{#if discrete}}{{#if name}}, {{/if}}discrete = {{discrete}}{{/if}}{{#if option}}{{#if name}}, {{else}}{{#if discrete}}, {{/if}}{{/if}}option = {{option}}{{/if}})"},{id:"ylim",type:r._.YLIM,category:r.C.COORD,label:"ylim()",description:"YËΩ¥ÈôêÂà∂",color:"#6366f1",params:[{name:"min",type:"text",label:"min",required:!1},{name:"max",type:"text",label:"max",required:!1}],rTemplate:"ylim({{#if min}}{{min}}{{/if}}{{#if max}}, {{max}}{{/if}})"},{id:"annotate",type:r._.ANNOTATE,category:r.C.GEOM,label:"annotate()",description:"Ê∑ªÂä†Ê≥®Èáä",color:"#ec4899",params:[{name:"geom",type:"text",label:"geom",required:!1},{name:"x",type:"text",label:"x",required:!1},{name:"y",type:"text",label:"y",required:!1},{name:"label",type:"text",label:"label",required:!1},{name:"color",type:"text",label:"color",required:!1},{name:"size",type:"text",label:"size",required:!1},{name:"angle",type:"text",label:"angle",required:!1},{name:"fontface",type:"text",label:"fontface",required:!1},{name:"hjust",type:"text",label:"hjust",required:!1}],rTemplate:"annotate({{#if geom}}{{geom}}{{/if}}{{#if x}}, x = {{x}}{{/if}}{{#if y}}, y = {{y}}{{/if}}{{#if label}}, label = {{label}}{{/if}}{{#if color}}, color = {{color}}{{/if}}{{#if size}}, size = {{size}}{{/if}}{{#if angle}}, angle = {{angle}}{{/if}}{{#if fontface}}, fontface = {{fontface}}{{/if}}{{#if hjust}}, hjust = {{hjust}}{{/if}})"},{id:"ggsave",type:r._.GGSAVE,category:r.C.BASE,label:"ggsave()",description:"‰øùÂ≠òÂõæË°®",color:"#ef4444",params:[{name:"plot",type:"text",label:"plot",required:!1},{name:"file",type:"text",label:"file",required:!1},{name:"width",type:"text",label:"width",required:!1},{name:"height",type:"text",label:"height",required:!1},{name:"dpi",type:"text",label:"dpi",required:!1}],rTemplate:"ggsave({{#if plot}}plot = {{plot}}{{/if}}{{#if file}}{{#if plot}}, {{/if}}file = {{file}}{{/if}}{{#if width}}, width = {{width}}{{/if}}{{#if height}}, height = {{height}}{{/if}}{{#if dpi}}, dpi = {{dpi}}{{/if}})"},{id:"gather",type:r._.GATHER,category:r.C.DATA,label:"gather()",description:"ÂÆΩËΩ¨ÈïøÔºàÊï∞ÊçÆÈáçÂ°ëÔºâ",color:"#3b82f6",params:[{name:"key",type:"text",label:"key",required:!1},{name:"value",type:"text",label:"value",required:!1},{name:"exclude",type:"text",label:"ÊéíÈô§Âàó",required:!1}],rTemplate:"gather({{#if key}}key = {{key}}{{/if}}{{#if value}}, value = {{value}}{{/if}}{{#if exclude}}, {{exclude}}{{/if}})"},{id:"arrange",type:r._.ARRANGE,category:r.C.DATA,label:"arrange()",description:"ÊéíÂ∫è",color:"#3b82f6",params:[{name:"columns",type:"text",label:"ÊéíÂ∫èÂàó",required:!1}],rTemplate:"arrange({{#if columns}}{{columns}}{{/if}})"},{id:"mutate",type:r._.MUTATE,category:r.C.DATA,label:"mutate()",description:"Ê∑ªÂä†Êàñ‰øÆÊîπÂàó",color:"#3b82f6",params:[{name:"expressions",type:"text",label:"Ë°®ËææÂºè",required:!1}],rTemplate:"mutate({{#if expressions}}{{expressions}}{{/if}})"},{id:"summarize",type:r._.SUMMARIZE,category:r.C.DATA,label:"summarize()",description:"Ê±áÊÄª",color:"#3b82f6",params:[{name:"expressions",type:"text",label:"Ê±áÊÄªË°®ËææÂºè",required:!1}],rTemplate:"summarize({{#if expressions}}{{expressions}}{{/if}})"},{id:"group_by",type:r._.GROUP_BY,category:r.C.DATA,label:"group_by()",description:"ÂàÜÁªÑ",color:"#3b82f6",params:[{name:"columns",type:"text",label:"ÂàÜÁªÑÂàó",required:!1}],rTemplate:"group_by({{#if columns}}{{columns}}{{/if}})"},{id:"rowwise",type:r._.ROWWISE,category:r.C.DATA,label:"rowwise()",description:"ÊåâË°åÊìç‰Ωú",color:"#3b82f6",params:[],rTemplate:"rowwise()"},{id:"unit",type:r._.UNIT,category:r.C.THEME,label:"unit()",description:"Âçï‰Ωç",color:"#10b981",params:[{name:"values",type:"text",label:"ÂÄº",required:!1},{name:"units",type:"text",label:"Âçï‰Ωç",required:!1}],rTemplate:"unit({{#if values}}{{values}}{{/if}}{{#if units}}, {{units}}{{/if}})"},{id:"element_blank",type:r._.ELEMENT_BLANK,category:r.C.THEME,label:"element_blank()",description:"Á©∫ÁôΩÂÖÉÁ¥†",color:"#10b981",params:[],rTemplate:"element_blank()"},{id:"pipe_operator",type:r._.PIPE_OPERATOR,category:r.C.BASE,label:"ÁÆ°ÈÅìÊìç‰ΩúÁ¨¶ %>%",description:"tidyverseÁÆ°ÈÅìÊìç‰ΩúÁ¨¶ÔºåÂ∞ÜÂ∑¶‰æßÁªìÊûú‰º†ÈÄíÁªôÂè≥‰æßÂáΩÊï∞",color:"#8b5cf6",params:[{name:"left",type:"text",label:"Â∑¶‰æßË°®ËææÂºè",required:!0},{name:"right",type:"text",label:"Âè≥‰æßÂáΩÊï∞",required:!0}],rTemplate:"{{left}} %>% {{right}}"},{id:"index_access",type:r._.INDEX_ACCESS,category:r.C.BASE,label:"Á¥¢ÂºïËÆøÈóÆ $",description:"ËÆøÈóÆÊï∞ÊçÆÊ°ÜÊàñÂàóË°®ÁöÑÂàó/ÂÖÉÁ¥† (data$column)",color:"#8b5cf6",params:[{name:"object",type:"text",label:"ÂØπË±°ÂêçÁß∞",required:!0},{name:"field",type:"text",label:"Â≠óÊÆµÂêçÁß∞",required:!0}],rTemplate:"{{object}}${{field}}"},{id:"arithmetic_expr",type:r._.ARITHMETIC_EXPR,category:r.C.BASE,label:"ÁÆóÊúØË°®ËææÂºè",description:"Êï∞Â≠¶ËøêÁÆóË°®ËææÂºè (ÊîØÊåÅ +, -, *, /, Êã¨Âè∑Á≠â)",color:"#8b5cf6",params:[{name:"expression",type:"text",label:"Ë°®ËææÂºè",required:!0,defaultValue:"a + b"}],rTemplate:"{{expression}}"},{id:"subset_access",type:r._.SUBSET_ACCESS,category:r.C.BASE,label:"Êï∞ÁªÑÂ≠êÈõÜ []",description:"ËÆøÈóÆÂêëÈáè„ÄÅÁü©ÈòµÊàñÊï∞ÊçÆÊ°ÜÁöÑÂ≠êÈõÜ (data[rows, cols])",color:"#8b5cf6",params:[{name:"object",type:"text",label:"ÂØπË±°ÂêçÁß∞",required:!0},{name:"rows",type:"text",label:"Ë°åÁ¥¢Âºï",defaultValue:""},{name:"cols",type:"text",label:"ÂàóÁ¥¢Âºï",defaultValue:""}],rTemplate:"{{object}}[{{rows}}{{#if cols}}, {{cols}}{{/if}}]"},{id:"negative_index",type:r._.NEGATIVE_INDEX,category:r.C.BASE,label:"Ë¥üÁ¥¢Âºï",description:"ÊéíÈô§ÊåáÂÆöÁöÑÂàóÊàñÂÖÉÁ¥† (-c(1, 2))",color:"#8b5cf6",params:[{name:"indices",type:"text",label:"Ë¶ÅÊéíÈô§ÁöÑÁ¥¢Âºï",required:!0,defaultValue:"1, 2"}],rTemplate:"-c({{indices}})"},{id:"namespace_call",type:r._.NAMESPACE_CALL,category:r.C.BASE,label:"ÂëΩÂêçÁ©∫Èó¥Ë∞ÉÁî®",description:"‰ΩøÁî®ÂÆåÂÖ®ÈôêÂÆöÂêçË∞ÉÁî®ÂáΩÊï∞ (package::function)",color:"#8b5cf6",params:[{name:"package",type:"text",label:"ÂåÖÂêç",required:!0},{name:"function",type:"text",label:"ÂáΩÊï∞Âêç",required:!0},{name:"args",type:"text",label:"ÂèÇÊï∞",defaultValue:""}],rTemplate:"{{package}}::{{function}}({{args}})"}],o=a.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{})},463:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,a=e[r];if(!(0<o(a,n)))break e;e[r]=n,e[t]=a,t=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,s=e[l],c=l+1,d=e[c];if(0>o(s,t))c<a&&0>o(d,s)?(e[r]=d,e[c]=t,r=c):(e[r]=s,e[l]=t,r=l);else{if(!(c<a&&0>o(d,t)))break e;e[r]=d,e[c]=t,r=c}}}return n}function o(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var c=[],d=[],u=1,p=null,f=3,g=!1,m=!1,h=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var n=r(d);null!==n;){if(null===n.callback)a(d);else{if(!(n.startTime<=e))break;a(d),n.sortIndex=n.expirationTime,t(c,n)}n=r(d)}}function w(e){if(h=!1,x(e),!m)if(null!==r(c))m=!0,M(k);else{var n=r(d);null!==n&&I(w,n.startTime-e)}}function k(e,t){m=!1,h&&(h=!1,y(j),j=-1),g=!0;var o=f;try{for(x(t),p=r(c);null!==p&&(!(p.expirationTime>t)||e&&!N());){var i=p.callback;if("function"==typeof i){p.callback=null,f=p.priorityLevel;var l=i(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof l?p.callback=l:p===r(c)&&a(c),x(t)}else a(c);p=r(c)}if(null!==p)var s=!0;else{var u=r(d);null!==u&&I(w,u.startTime-t),s=!1}return s}finally{p=null,f=o,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,j=-1,C=5,T=-1;function N(){return!(n.unstable_now()-T<C)}function A(){if(null!==E){var e=n.unstable_now();T=e;var t=!0;try{t=E(!0,e)}finally{t?_():(S=!1,E=null)}}else S=!1}if("function"==typeof v)_=function(){v(A)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){b(A,0)};function M(e){E=e,S||(S=!0,_())}function I(e,t){j=b(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){m||g||(m=!0,M(k))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var t=f;f=n;try{return e()}finally{f=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=f;f=e;try{return n()}finally{f=t}},n.unstable_scheduleCallback=function(e,a,o){var i=n.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?i+o:i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(e.sortIndex=o,t(d,e),null===r(c)&&e===r(d)&&(h?(y(j),j=-1):h=!0,I(w,o-i))):(e.sortIndex=l,t(c,e),m||g||(m=!0,M(k))),e},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(e){var n=f;return function(){var t=f;f=n;try{return e.apply(this,arguments)}finally{f=t}}}},493:(e,n,t)=>{var r=t(540),a="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},o=r.useState,i=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function c(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!a(e,t)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=o({inst:{value:t,getSnapshot:n}}),a=r[0].inst,d=r[1];return l(function(){a.value=t,a.getSnapshot=n,c(a)&&d({inst:a})},[e,t,n]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),s(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},540:(e,n,t)=>{e.exports=t(287)},551:(e,n,t)=>{var r=t(540),a=t(982);function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(l[e]=n,e=0;e<n.length;e++)i.add(n[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function m(e,n,t,r,a,o,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=o,this.removeEmptyString=i}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];h[n]=new m(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,n,t,r){var a=h.hasOwnProperty(n)?h[n]:null;(null!==a?0!==a.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null==n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,a,r)&&(t=null),r||null===a?function(e){return!!u.call(g,e)||!u.call(f,e)&&(p.test(e)?g[e]=!0:(f[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(n=a.attributeName,r=a.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(b,y);h[n]=new m(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(b,y);h[n]=new m(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(b,y);h[n]=new m(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var P,L=Object.assign;function D(e){if(void 0===P)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);P=n&&n[1]||""}return"\n"+P+e}var $=!1;function U(e,n){if(!e||$)return"";$=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(n){if(n&&r&&"string"==typeof n.stack){for(var a=n.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==o[l]){var s="\n"+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{$=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?D(e):""}function B(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case T:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(n=e.displayName||null)?n:F(e.type)||"Memo";case O:n=e._payload,e=e._init;try{return F(e(n))}catch(e){}}return null}function q(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(n);case 8:return n===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function G(e){e._valueTracker||(e._valueTracker=function(e){var n=V(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var a=t.get,o=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function H(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Y(e,n){var t=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Q(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=W(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function K(e,n){null!=(n=n.checked)&&v(e,"checked",n,!1)}function J(e,n){K(e,n);var t=W(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,W(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Z(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&X(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var a=0;a<t.length;a++)n["$"+t[a]]=!0;for(t=0;t<e.length;t++)a=n.hasOwnProperty("$"+e[t].value),e[t].selected!==a&&(e[t].selected=a),a&&r&&(e[t].defaultSelected=!0)}else{for(t=""+W(t),n=null,a=0;a<e.length;a++){if(e[a].value===t)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==n||e[a].disabled||(n=e[a])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(o(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(o(92));if(ne(t)){if(1<t.length)throw Error(o(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:W(t)}}function oe(e,n){var t=W(n.value),r=W(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?le(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction(function(){return de(e,n)})}:de);function pe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,n,t){return null==n||"boolean"==typeof n||""===n?"":t||"number"!=typeof n||0===n||fe.hasOwnProperty(e)&&fe[e]?(""+n).trim():n+"px"}function he(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),a=me(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,a):e[t]=a}}Object.keys(fe).forEach(function(e){ge.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fe[n]=fe[e]})});var be=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,n){if(n){if(be[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(o(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(o(62))}}function ve(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Se=null;function Ee(e){if(e=va(e)){if("function"!=typeof ke)throw Error(o(280));var n=e.stateNode;n&&(n=wa(n),ke(e.stateNode,e.type,n))}}function je(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,n=Se;if(Se=_e=null,Ee(e),n)for(e=0;e<n.length;e++)Ee(n[e])}}function Te(e,n){return e(n)}function Ne(){}var Ae=!1;function Re(e,n,t){if(Ae)return e(n,t);Ae=!0;try{return Te(e,n,t)}finally{Ae=!1,(null!==_e||null!==Se)&&(Ne(),Ce())}}function Oe(e,n){var t=e.stateNode;if(null===t)return null;var r=wa(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(o(231,n,typeof t));return t}var Me=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Me=!1}function ze(e,n,t,r,a,o,i,l,s){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(e){this.onError(e)}}var Pe=!1,Le=null,De=!1,$e=null,Ue={onError:function(e){Pe=!0,Le=e}};function Be(e,n,t,r,a,o,i,l,s){Pe=!1,Le=null,ze.apply(Ue,arguments)}function Fe(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function qe(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function We(e){if(Fe(e)!==e)throw Error(o(188))}function Ve(e){return e=function(e){var n=e.alternate;if(!n){if(null===(n=Fe(e)))throw Error(o(188));return n!==e?null:e}for(var t=e,r=n;;){var a=t.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){t=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===t)return We(a),e;if(i===r)return We(a),n;i=i.sibling}throw Error(o(188))}if(t.return!==r.return)t=a,r=i;else{for(var l=!1,s=a.child;s;){if(s===t){l=!0,t=a,r=i;break}if(s===r){l=!0,r=a,t=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===t){l=!0,t=i,r=a;break}if(s===r){l=!0,r=i,t=a;break}s=s.sibling}if(!l)throw Error(o(189))}}if(t.alternate!==r)throw Error(o(190))}if(3!==t.tag)throw Error(o(188));return t.stateNode.current===t?e:n}(e),null!==e?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Ge(e);if(null!==n)return n;e=e.sibling}return null}var He=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ke=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,en=a.unstable_UserBlockingPriority,nn=a.unstable_NormalPriority,tn=a.unstable_LowPriority,rn=a.unstable_IdlePriority,an=null,on=null,ln=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(sn(e)/cn|0)|0},sn=Math.log,cn=Math.LN2,dn=64,un=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&t;if(0!==i){var l=i&~a;0!==l?r=pn(l):0!==(o&=i)&&(r=pn(o))}else 0!==(i=t&~a)?r=pn(i):0!==o&&(r=pn(o));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(o=n&-n)||16===a&&4194240&o))return n;if(4&r&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)a=1<<(t=31-ln(n)),r|=e[t],n&=~a;return r}function gn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function mn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function hn(){var e=dn;return!(4194240&(dn<<=1))&&(dn=64),e}function bn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function yn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-ln(n)]=t}function vn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ln(t),a=1<<r;a&n|e[r]&n&&(e[r]|=n),t&=~a}}var xn=0;function wn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kn,_n,Sn,En,jn,Cn=!1,Tn=[],Nn=null,An=null,Rn=null,On=new Map,Mn=new Map,In=[],zn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pn(e,n){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":On.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(n.pointerId)}}function Ln(e,n,t,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==n&&null!==(n=va(n))&&_n(n),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==a&&-1===n.indexOf(a)&&n.push(a),e)}function Dn(e){var n=ya(e.target);if(null!==n){var t=Fe(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=qe(t)))return e.blockedOn=n,void jn(e.priority,function(){Sn(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function $n(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Qn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=va(t))&&_n(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);xe=r,t.target.dispatchEvent(r),xe=null,n.shift()}return!0}function Un(e,n,t){$n(e)&&t.delete(n)}function Bn(){Cn=!1,null!==Nn&&$n(Nn)&&(Nn=null),null!==An&&$n(An)&&(An=null),null!==Rn&&$n(Rn)&&(Rn=null),On.forEach(Un),Mn.forEach(Un)}function Fn(e,n){e.blockedOn===n&&(e.blockedOn=null,Cn||(Cn=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bn)))}function qn(e){function n(n){return Fn(n,e)}if(0<Tn.length){Fn(Tn[0],e);for(var t=1;t<Tn.length;t++){var r=Tn[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nn&&Fn(Nn,e),null!==An&&Fn(An,e),null!==Rn&&Fn(Rn,e),On.forEach(n),Mn.forEach(n),t=0;t<In.length;t++)(r=In[t]).blockedOn===e&&(r.blockedOn=null);for(;0<In.length&&null===(t=In[0]).blockedOn;)Dn(t),null===t.blockedOn&&In.shift()}var Wn=x.ReactCurrentBatchConfig,Vn=!0;function Gn(e,n,t,r){var a=xn,o=Wn.transition;Wn.transition=null;try{xn=1,Xn(e,n,t,r)}finally{xn=a,Wn.transition=o}}function Hn(e,n,t,r){var a=xn,o=Wn.transition;Wn.transition=null;try{xn=4,Xn(e,n,t,r)}finally{xn=a,Wn.transition=o}}function Xn(e,n,t,r){if(Vn){var a=Qn(e,n,t,r);if(null===a)Wr(e,n,r,Yn,t),Pn(e,r);else if(function(e,n,t,r,a){switch(n){case"focusin":return Nn=Ln(Nn,e,n,t,r,a),!0;case"dragenter":return An=Ln(An,e,n,t,r,a),!0;case"mouseover":return Rn=Ln(Rn,e,n,t,r,a),!0;case"pointerover":var o=a.pointerId;return On.set(o,Ln(On.get(o)||null,e,n,t,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Mn.set(o,Ln(Mn.get(o)||null,e,n,t,r,a)),!0}return!1}(a,e,n,t,r))r.stopPropagation();else if(Pn(e,r),4&n&&-1<zn.indexOf(e)){for(;null!==a;){var o=va(a);if(null!==o&&kn(o),null===(o=Qn(e,n,t,r))&&Wr(e,n,r,Yn,t),o===a)break;a=o}null!==a&&r.stopPropagation()}else Wr(e,n,r,null,t)}}var Yn=null;function Qn(e,n,t,r){if(Yn=null,null!==(e=ya(e=we(r))))if(null===(n=Fe(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=qe(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yn=e,null}function Kn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Jn=null,Zn=null,et=null;function nt(){if(et)return et;var e,n,t=Zn,r=t.length,a="value"in Jn?Jn.value:Jn.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return et=a.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function at(){return!1}function ot(e){function n(n,t,r,a,o){for(var i in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rt:at,this.isPropagationStopped=at,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var it,lt,st,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dt=ot(ct),ut=L({},ct,{view:0,detail:0}),pt=ot(ut),ft=L({},ut,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Et,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==st&&(st&&"mousemove"===e.type?(it=e.screenX-st.screenX,lt=e.screenY-st.screenY):lt=it=0,st=e),it)},movementY:function(e){return"movementY"in e?e.movementY:lt}}),gt=ot(ft),mt=ot(L({},ft,{dataTransfer:0})),ht=ot(L({},ut,{relatedTarget:0})),bt=ot(L({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),yt=L({},ct,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vt=ot(yt),xt=ot(L({},ct,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function St(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=_t[e])&&!!n[e]}function Et(){return St}var jt=L({},ut,{key:function(e){if(e.key){var n=wt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Et,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ct=ot(jt),Tt=ot(L({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nt=ot(L({},ut,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Et})),At=ot(L({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rt=L({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=ot(Rt),Mt=[9,13,27,32],It=d&&"CompositionEvent"in window,zt=null;d&&"documentMode"in document&&(zt=document.documentMode);var Pt=d&&"TextEvent"in window&&!zt,Lt=d&&(!It||zt&&8<zt&&11>=zt),Dt=String.fromCharCode(32),$t=!1;function Ut(e,n){switch(e){case"keyup":return-1!==Mt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ft=!1,qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!qt[e.type]:"textarea"===n}function Vt(e,n,t,r){je(r),0<(n=Gr(n,"onChange")).length&&(t=new dt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Gt=null,Ht=null;function Xt(e){Dr(e,0)}function Yt(e){if(H(xa(e)))return e}function Qt(e,n){if("change"===e)return n}var Kt=!1;if(d){var Jt;if(d){var Zt="oninput"in document;if(!Zt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zt="function"==typeof er.oninput}Jt=Zt}else Jt=!1;Kt=Jt&&(!document.documentMode||9<document.documentMode)}function nr(){Gt&&(Gt.detachEvent("onpropertychange",tr),Ht=Gt=null)}function tr(e){if("value"===e.propertyName&&Yt(Ht)){var n=[];Vt(n,Ht,e,we(e)),Re(Xt,n)}}function rr(e,n,t){"focusin"===e?(nr(),Ht=t,(Gt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yt(Ht)}function or(e,n){if("click"===e)return Yt(n)}function ir(e,n){if("input"===e||"change"===e)return Yt(n)}var lr="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function sr(e,n){if(lr(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var a=t[r];if(!u.call(n,a)||!lr(e[a],n[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,n){var t,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?ur(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function pr(){for(var e=window,n=X();n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=X((e=n.contentWindow).document)}return n}function fr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function gr(e){var n=pr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&ur(t.ownerDocument.documentElement,t)){if(null!==r&&fr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var a=t.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=dr(t,o);var i=dr(t,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,br=null,yr=null,vr=!1;function xr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;vr||null==hr||hr!==X(r)||(r="selectionStart"in(r=hr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Gr(br,"onSelect")).length&&(n=new dt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=hr)))}function wr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!kr[e])return e;var n,t=kr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Sr)return _r[e]=t[n];return e}d&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var jr=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,n){Ar.set(e,n),s(n,[e])}for(var Mr=0;Mr<Rr.length;Mr++){var Ir=Rr[Mr];Or(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Or(jr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Lr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,a,i,l,s,c){if(Be.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var d=Le;Pe=!1,Le=null,De||(De=!0,$e=d)}}(r,n,void 0,e),e.currentTarget=null}function Dr(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],a=r.event;r=r.listeners;e:{var o=void 0;if(n)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Lr(a,l,c),o=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,c=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Lr(a,l,c),o=s}}}if(De)throw e=$e,De=!1,$e=null,e}function $r(e,n){var t=n[ma];void 0===t&&(t=n[ma]=new Set);var r=e+"__bubble";t.has(r)||(qr(n,e,2,!1),t.add(r))}function Ur(e,n,t){var r=0;n&&(r|=4),qr(t,e,r,n)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(n){"selectionchange"!==n&&(Pr.has(n)||Ur(n,!1,e),Ur(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Br]||(n[Br]=!0,Ur("selectionchange",!1,n))}}function qr(e,n,t,r){switch(Kn(n)){case 1:var a=Gn;break;case 4:a=Hn;break;default:a=Xn}t=a.bind(null,n,t,e),a=void 0,!Me||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(a=!0),r?void 0!==a?e.addEventListener(n,t,{capture:!0,passive:a}):e.addEventListener(n,t,!0):void 0!==a?e.addEventListener(n,t,{passive:a}):e.addEventListener(n,t,!1)}function Wr(e,n,t,r,a){var o=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=ya(l)))return;if(5===(s=i.tag)||6===s){r=o=i;continue e}l=l.parentNode}}r=r.return}Re(function(){var r=o,a=we(t),i=[];e:{var l=Ar.get(e);if(void 0!==l){var s=dt,c=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":s=Ct;break;case"focusin":c="focus",s=ht;break;case"focusout":c="blur",s=ht;break;case"beforeblur":case"afterblur":s=ht;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nt;break;case jr:case Cr:case Tr:s=bt;break;case Nr:s=At;break;case"scroll":s=pt;break;case"wheel":s=Ot;break;case"copy":case"cut":case"paste":s=vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tt}var d=!!(4&n),u=!d&&"scroll"===e,p=d?null!==l?l+"Capture":null:l;d=[];for(var f,g=r;null!==g;){var m=(f=g).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=Oe(g,p))&&d.push(Vr(g,m,f))),u)break;g=g.return}0<d.length&&(l=new s(l,c,null,t,a),i.push({event:l,listeners:d}))}}if(!(7&n)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||t===xe||!(c=t.relatedTarget||t.fromElement)||!ya(c)&&!c[ga])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=t.relatedTarget||t.toElement)?ya(c):null)&&(c!==(u=Fe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(d=gt,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tt,m="onPointerLeave",p="onPointerEnter",g="pointer"),u=null==s?l:xa(s),f=null==c?l:xa(c),(l=new d(m,g+"leave",s,t,a)).target=u,l.relatedTarget=f,m=null,ya(a)===r&&((d=new d(p,g+"enter",c,t,a)).target=f,d.relatedTarget=u,m=d),u=m,s&&c)e:{for(p=c,g=0,f=d=s;f;f=Hr(f))g++;for(f=0,m=p;m;m=Hr(m))f++;for(;0<g-f;)d=Hr(d),g--;for(;0<f-g;)p=Hr(p),f--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hr(d),p=Hr(p)}d=null}else d=null;null!==s&&Xr(i,l,s,d,!1),null!==c&&null!==u&&Xr(i,u,c,d,!0)}if("select"===(s=(l=r?xa(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var h=Qt;else if(Wt(l))if(Kt)h=ir;else{h=ar;var b=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(h=or);switch(h&&(h=h(e,r))?Vt(i,h,t,a):(b&&b(e,l,r),"focusout"===e&&(b=l._wrapperState)&&b.controlled&&"number"===l.type&&ee(l,"number",l.value)),b=r?xa(r):window,e){case"focusin":(Wt(b)||"true"===b.contentEditable)&&(hr=b,br=r,yr=null);break;case"focusout":yr=br=hr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(i,t,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(i,t,a)}var y;if(It)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ft?Ut(e,t)&&(v="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(v="onCompositionStart");v&&(Lt&&"ko"!==t.locale&&(Ft||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ft&&(y=nt()):(Zn="value"in(Jn=a)?Jn.value:Jn.textContent,Ft=!0)),0<(b=Gr(r,v)).length&&(v=new xt(v,e,null,t,a),i.push({event:v,listeners:b}),(y||null!==(y=Bt(t)))&&(v.data=y))),(y=Pt?function(e,n){switch(e){case"compositionend":return Bt(n);case"keypress":return 32!==n.which?null:($t=!0,Dt);case"textInput":return(e=n.data)===Dt&&$t?null:e;default:return null}}(e,t):function(e,n){if(Ft)return"compositionend"===e||!It&&Ut(e,n)?(e=nt(),et=Zn=Jn=null,Ft=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lt&&"ko"!==n.locale?null:n.data}}(e,t))&&0<(r=Gr(r,"onBeforeInput")).length&&(a=new xt("onBeforeInput","beforeinput",null,t,a),i.push({event:a,listeners:r}),a.data=y)}Dr(i,n)})}function Vr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Gr(e,n){for(var t=n+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Oe(e,t))&&r.unshift(Vr(e,o,a)),null!=(o=Oe(e,n))&&r.push(Vr(e,o,a))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,n,t,r,a){for(var o=n._reactName,i=[];null!==t&&t!==r;){var l=t,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(s=Oe(t,o))&&i.unshift(Vr(t,s,l)):a||null!=(s=Oe(t,o))&&i.push(Vr(t,s,l))),t=t.return}0!==i.length&&e.push({event:n,listeners:i})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Kr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,n,t){if(n=Kr(n),Kr(e)!==n&&t)throw Error(o(425))}function Zr(){}var ea=null,na=null;function ta(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,oa="function"==typeof Promise?Promise:void 0,ia="function"==typeof queueMicrotask?queueMicrotask:void 0!==oa?function(e){return oa.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout(function(){throw e})}function sa(e,n){var t=n,r=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0===r)return e.removeChild(a),void qn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=a}while(t);qn(n)}function ca(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function da(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,fa="__reactProps$"+ua,ga="__reactContainer$"+ua,ma="__reactEvents$"+ua,ha="__reactListeners$"+ua,ba="__reactHandles$"+ua;function ya(e){var n=e[pa];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ga]||t[pa]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=da(e);null!==e;){if(t=e[pa])return t;e=da(e)}return n}t=(e=t).parentNode}return null}function va(e){return!(e=e[pa]||e[ga])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[fa]||null}var ka=[],_a=-1;function Sa(e){return{current:e}}function Ea(e){0>_a||(e.current=ka[_a],ka[_a]=null,_a--)}function ja(e,n){_a++,ka[_a]=e.current,e.current=n}var Ca={},Ta=Sa(Ca),Na=Sa(!1),Aa=Ca;function Ra(e,n){var t=e.type.contextTypes;if(!t)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in t)o[a]=n[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oa(e){return null!=e.childContextTypes}function Ma(){Ea(Na),Ea(Ta)}function Ia(e,n,t){if(Ta.current!==Ca)throw Error(o(168));ja(Ta,n),ja(Na,t)}function za(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var a in r=r.getChildContext())if(!(a in n))throw Error(o(108,q(e)||"Unknown",a));return L({},t,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Aa=Ta.current,ja(Ta,e),ja(Na,Na.current),!0}function La(e,n,t){var r=e.stateNode;if(!r)throw Error(o(169));t?(e=za(e,n,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ea(Na),Ea(Ta),ja(Ta,e)):Ea(Na),ja(Na,t)}var Da=null,$a=!1,Ua=!1;function Ba(e){null===Da?Da=[e]:Da.push(e)}function Fa(){if(!Ua&&null!==Da){Ua=!0;var e=0,n=xn;try{var t=Da;for(xn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Da=null,$a=!1}catch(n){throw null!==Da&&(Da=Da.slice(e+1)),He(Ze,Fa),n}finally{xn=n,Ua=!1}}return null}var qa=[],Wa=0,Va=null,Ga=0,Ha=[],Xa=0,Ya=null,Qa=1,Ka="";function Ja(e,n){qa[Wa++]=Ga,qa[Wa++]=Va,Va=e,Ga=n}function Za(e,n,t){Ha[Xa++]=Qa,Ha[Xa++]=Ka,Ha[Xa++]=Ya,Ya=e;var r=Qa;e=Ka;var a=32-ln(r)-1;r&=~(1<<a),t+=1;var o=32-ln(n)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-ln(n)+a|t<<a|r,Ka=o+e}else Qa=1<<o|t<<a|r,Ka=e}function eo(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function no(e){for(;e===Va;)Va=qa[--Wa],qa[Wa]=null,Ga=qa[--Wa],qa[Wa]=null;for(;e===Ya;)Ya=Ha[--Xa],Ha[Xa]=null,Ka=Ha[--Xa],Ha[Xa]=null,Qa=Ha[--Xa],Ha[Xa]=null}var to=null,ro=null,ao=!1,oo=null;function io(e,n){var t=Rc(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function lo(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,to=e,ro=ca(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,to=e,ro=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Ya?{id:Qa,overflow:Ka}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Rc(18,null,null,0)).stateNode=n,t.return=e,e.child=t,to=e,ro=null,!0);default:return!1}}function so(e){return!(!(1&e.mode)||128&e.flags)}function co(e){if(ao){var n=ro;if(n){var t=n;if(!lo(e,n)){if(so(e))throw Error(o(418));n=ca(t.nextSibling);var r=to;n&&lo(e,n)?io(r,t):(e.flags=-4097&e.flags|2,ao=!1,to=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,to=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;to=e}function po(e){if(e!==to)return!1;if(!ao)return uo(e),ao=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ta(e.type,e.memoizedProps)),n&&(n=ro)){if(so(e))throw fo(),Error(o(418));for(;n;)io(e,n),n=ca(n.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){ro=ca(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}ro=null}}else ro=to?ca(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ca(e.nextSibling)}function go(){ro=to=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var ho=x.ReactCurrentBatchConfig;function bo(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(o(309));var r=t.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=a.refs;null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!=typeof e)throw Error(o(284));if(!t._owner)throw Error(o(290,e))}return e}function yo(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function vo(e){return(0,e._init)(e._payload)}function xo(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=Mc(e,n)).index=0,e.sibling=null,e}function i(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function l(n){return e&&null===n.alternate&&(n.flags|=2),n}function s(e,n,t,r){return null===n||6!==n.tag?((n=Lc(t,e.mode,r)).return=e,n):((n=a(n,t)).return=e,n)}function c(e,n,t,r){var o=t.type;return o===_?u(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===O&&vo(o)===n.type)?((r=a(n,t.props)).ref=bo(e,n,t),r.return=e,r):((r=Ic(t.type,t.key,t.props,null,e.mode,r)).ref=bo(e,n,t),r.return=e,r)}function d(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Dc(t,e.mode,r)).return=e,n):((n=a(n,t.children||[])).return=e,n)}function u(e,n,t,r,o){return null===n||7!==n.tag?((n=zc(t,e.mode,r,o)).return=e,n):((n=a(n,t)).return=e,n)}function p(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Lc(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return(t=Ic(n.type,n.key,n.props,null,e.mode,t)).ref=bo(e,null,n),t.return=e,t;case k:return(n=Dc(n,e.mode,t)).return=e,n;case O:return p(e,(0,n._init)(n._payload),t)}if(ne(n)||z(n))return(n=zc(n,e.mode,t,null)).return=e,n;yo(e,n)}return null}function f(e,n,t,r){var a=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==a?null:s(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===a?c(e,n,t,r):null;case k:return t.key===a?d(e,n,t,r):null;case O:return f(e,n,(a=t._init)(t._payload),r)}if(ne(t)||z(t))return null!==a?null:u(e,n,t,r,null);yo(e,t)}return null}function g(e,n,t,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return s(n,e=e.get(t)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(n,e=e.get(null===r.key?t:r.key)||null,r,a);case k:return d(n,e=e.get(null===r.key?t:r.key)||null,r,a);case O:return g(e,n,t,(0,r._init)(r._payload),a)}if(ne(r)||z(r))return u(n,e=e.get(t)||null,r,a,null);yo(n,r)}return null}function m(a,o,l,s){for(var c=null,d=null,u=o,m=o=0,h=null;null!==u&&m<l.length;m++){u.index>m?(h=u,u=null):h=u.sibling;var b=f(a,u,l[m],s);if(null===b){null===u&&(u=h);break}e&&u&&null===b.alternate&&n(a,u),o=i(b,o,m),null===d?c=b:d.sibling=b,d=b,u=h}if(m===l.length)return t(a,u),ao&&Ja(a,m),c;if(null===u){for(;m<l.length;m++)null!==(u=p(a,l[m],s))&&(o=i(u,o,m),null===d?c=u:d.sibling=u,d=u);return ao&&Ja(a,m),c}for(u=r(a,u);m<l.length;m++)null!==(h=g(u,a,m,l[m],s))&&(e&&null!==h.alternate&&u.delete(null===h.key?m:h.key),o=i(h,o,m),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach(function(e){return n(a,e)}),ao&&Ja(a,m),c}function h(a,l,s,c){var d=z(s);if("function"!=typeof d)throw Error(o(150));if(null==(s=d.call(s)))throw Error(o(151));for(var u=d=null,m=l,h=l=0,b=null,y=s.next();null!==m&&!y.done;h++,y=s.next()){m.index>h?(b=m,m=null):b=m.sibling;var v=f(a,m,y.value,c);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&n(a,m),l=i(v,l,h),null===u?d=v:u.sibling=v,u=v,m=b}if(y.done)return t(a,m),ao&&Ja(a,h),d;if(null===m){for(;!y.done;h++,y=s.next())null!==(y=p(a,y.value,c))&&(l=i(y,l,h),null===u?d=y:u.sibling=y,u=y);return ao&&Ja(a,h),d}for(m=r(a,m);!y.done;h++,y=s.next())null!==(y=g(m,a,h,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?h:y.key),l=i(y,l,h),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach(function(e){return n(a,e)}),ao&&Ja(a,h),d}return function e(r,o,i,s){if("object"==typeof i&&null!==i&&i.type===_&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=o;null!==d;){if(d.key===c){if((c=i.type)===_){if(7===d.tag){t(r,d.sibling),(o=a(d,i.props.children)).return=r,r=o;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&vo(c)===d.type){t(r,d.sibling),(o=a(d,i.props)).ref=bo(r,d,i),o.return=r,r=o;break e}t(r,d);break}n(r,d),d=d.sibling}i.type===_?((o=zc(i.props.children,r.mode,s,i.key)).return=r,r=o):((s=Ic(i.type,i.key,i.props,null,r.mode,s)).ref=bo(r,o,i),s.return=r,r=s)}return l(r);case k:e:{for(d=i.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){t(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}t(r,o);break}n(r,o),o=o.sibling}(o=Dc(i,r.mode,s)).return=r,r=o}return l(r);case O:return e(r,o,(d=i._init)(i._payload),s)}if(ne(i))return m(r,o,i,s);if(z(i))return h(r,o,i,s);yo(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==o&&6===o.tag?(t(r,o.sibling),(o=a(o,i)).return=r,r=o):(t(r,o),(o=Lc(i,r.mode,s)).return=r,r=o),l(r)):t(r,o)}}var wo=xo(!0),ko=xo(!1),_o=Sa(null),So=null,Eo=null,jo=null;function Co(){jo=Eo=So=null}function To(e){var n=_o.current;Ea(_o),e._currentValue=n}function No(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Ao(e,n){So=e,jo=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(vl=!0),e.firstContext=null)}function Ro(e){var n=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:n,next:null},null===Eo){if(null===So)throw Error(o(308));Eo=e,So.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return n}var Oo=null;function Mo(e){null===Oo?Oo=[e]:Oo.push(e)}function Io(e,n,t,r){var a=n.interleaved;return null===a?(t.next=t,Mo(n)):(t.next=a.next,a.next=t),n.interleaved=t,zo(e,r)}function zo(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Po=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $o(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Uo(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ts){var a=r.pending;return null===a?n.next=n:(n.next=a.next,a.next=n),r.pending=n,zo(e,t)}return null===(a=r.interleaved)?(n.next=n,Mo(r)):(n.next=a.next,a.next=n),r.interleaved=n,zo(e,t)}function Bo(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,vn(e,t)}}function Fo(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var a=null,o=null;if(null!==(t=t.firstBaseUpdate)){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===o?a=o=i:o=o.next=i,t=t.next}while(null!==t);null===o?a=o=n:o=o.next=n}else a=o=n;return t={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function qo(e,n,t,r){var a=e.updateQueue;Po=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?o=c:i.next=c,i=s;var d=e.alternate;null!==d&&(l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=s)}if(null!==o){var u=a.baseState;for(i=0,d=c=s=null,l=o;;){var p=l.lane,f=l.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(p=n,f=t,m.tag){case 1:if("function"==typeof(g=m.payload)){u=g.call(f,u,p);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(p="function"==typeof(g=m.payload)?g.call(f,u,p):g))break e;u=L({},u,p);break e;case 2:Po=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=f,s=u):d=d.next=f,i|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(s=u),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(n=a.shared.interleaved)){a=n;do{i|=a.lane,a=a.next}while(a!==n)}else null===o&&(a.shared.lanes=0);Ps|=i,e.lanes=i,e.memoizedState=u}}function Wo(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],a=r.callback;if(null!==a){if(r.callback=null,r=t,"function"!=typeof a)throw Error(o(191,a));a.call(r)}}}var Vo={},Go=Sa(Vo),Ho=Sa(Vo),Xo=Sa(Vo);function Yo(e){if(e===Vo)throw Error(o(174));return e}function Qo(e,n){switch(ja(Xo,n),ja(Ho,e),ja(Go,Vo),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:se(null,"");break;default:n=se(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Ea(Go),ja(Go,n)}function Ko(){Ea(Go),Ea(Ho),Ea(Xo)}function Jo(e){Yo(Xo.current);var n=Yo(Go.current),t=se(n,e.type);n!==t&&(ja(Ho,e),ja(Go,t))}function Zo(e){Ho.current===e&&(Ea(Go),Ea(Ho))}var ei=Sa(0);function ni(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=x.ReactCurrentDispatcher,oi=x.ReactCurrentBatchConfig,ii=0,li=null,si=null,ci=null,di=!1,ui=!1,pi=0,fi=0;function gi(){throw Error(o(321))}function mi(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!lr(e[t],n[t]))return!1;return!0}function hi(e,n,t,r,a,i){if(ii=i,li=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:el,e=t(r,a),ui){i=0;do{if(ui=!1,pi=0,25<=i)throw Error(o(301));i+=1,ci=si=null,n.updateQueue=null,ai.current=nl,e=t(r,a)}while(ui)}if(ai.current=Ji,n=null!==si&&null!==si.next,ii=0,ci=si=li=null,di=!1,n)throw Error(o(300));return e}function bi(){var e=0!==pi;return pi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?li.memoizedState=ci=e:ci=ci.next=e,ci}function vi(){if(null===si){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=si.next;var n=null===ci?li.memoizedState:ci.next;if(null!==n)ci=n,si=e;else{if(null===e)throw Error(o(310));e={memoizedState:(si=e).memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},null===ci?li.memoizedState=ci=e:ci=ci.next=e}return ci}function xi(e,n){return"function"==typeof n?n(e):n}function wi(e){var n=vi(),t=n.queue;if(null===t)throw Error(o(311));t.lastRenderedReducer=e;var r=si,a=r.baseQueue,i=t.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,t.pending=null}if(null!==a){i=a.next,r=r.baseState;var s=l=null,c=null,d=i;do{var u=d.lane;if((ii&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(s=c=p,l=r):c=c.next=p,li.lanes|=u,Ps|=u}d=d.next}while(null!==d&&d!==i);null===c?l=r:c.next=s,lr(r,n.memoizedState)||(vl=!0),n.memoizedState=r,n.baseState=l,n.baseQueue=c,t.lastRenderedState=r}if(null!==(e=t.interleaved)){a=e;do{i=a.lane,li.lanes|=i,Ps|=i,a=a.next}while(a!==e)}else null===a&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function ki(e){var n=vi(),t=n.queue;if(null===t)throw Error(o(311));t.lastRenderedReducer=e;var r=t.dispatch,a=t.pending,i=n.memoizedState;if(null!==a){t.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,n.memoizedState)||(vl=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),t.lastRenderedState=i}return[i,r]}function _i(){}function Si(e,n){var t=li,r=vi(),a=n(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,vl=!0),r=r.queue,Pi(Ci.bind(null,t,r,e),[e]),r.getSnapshot!==n||i||null!==ci&&1&ci.memoizedState.tag){if(t.flags|=2048,Ri(9,ji.bind(null,t,r,a,n),void 0,null),null===Ns)throw Error(o(349));30&ii||Ei(t,n,a)}return a}function Ei(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=li.updateQueue)?(n={lastEffect:null,stores:null},li.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function ji(e,n,t,r){n.value=t,n.getSnapshot=r,Ti(n)&&Ni(e)}function Ci(e,n,t){return t(function(){Ti(n)&&Ni(e)})}function Ti(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!lr(e,t)}catch(e){return!0}}function Ni(e){var n=zo(e,1);null!==n&&tc(n,e,1,-1)}function Ai(e){var n=yi();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},n.queue=e,e=e.dispatch=Xi.bind(null,li,e),[n.memoizedState,e]}function Ri(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=li.updateQueue)?(n={lastEffect:null,stores:null},li.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Oi(){return vi().memoizedState}function Mi(e,n,t,r){var a=yi();li.flags|=e,a.memoizedState=Ri(1|n,t,void 0,void 0===r?null:r)}function Ii(e,n,t,r){var a=vi();r=void 0===r?null:r;var o=void 0;if(null!==si){var i=si.memoizedState;if(o=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ri(n,t,o,r))}li.flags|=e,a.memoizedState=Ri(1|n,t,o,r)}function zi(e,n){return Mi(8390656,8,e,n)}function Pi(e,n){return Ii(2048,8,e,n)}function Li(e,n){return Ii(4,2,e,n)}function Di(e,n){return Ii(4,4,e,n)}function $i(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Ui(e,n,t){return t=null!=t?t.concat([e]):null,Ii(4,4,$i.bind(null,n,e),t)}function Bi(){}function Fi(e,n){var t=vi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&mi(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function qi(e,n){var t=vi();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&mi(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Wi(e,n,t){return 21&ii?(lr(t,n)||(t=hn(),li.lanes|=t,Ps|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=t)}function Vi(e,n){var t=xn;xn=0!==t&&4>t?t:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),n()}finally{xn=t,oi.transition=r}}function Gi(){return vi().memoizedState}function Hi(e,n,t){var r=nc(e);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Yi(e)?Qi(n,t):null!==(t=Io(e,n,t,r))&&(tc(t,e,r,ec()),Ki(t,n,r))}function Xi(e,n,t){var r=nc(e),a={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Qi(n,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var i=n.lastRenderedState,l=o(i,t);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var s=n.interleaved;return null===s?(a.next=a,Mo(n)):(a.next=s.next,s.next=a),void(n.interleaved=a)}}catch(e){}null!==(t=Io(e,n,a,r))&&(tc(t,e,r,a=ec()),Ki(t,n,r))}}function Yi(e){var n=e.alternate;return e===li||null!==n&&n===li}function Qi(e,n){ui=di=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Ki(e,n,t){if(4194240&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,vn(e,t)}}var Ji={readContext:Ro,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Zi={readContext:Ro,useCallback:function(e,n){return yi().memoizedState=[e,void 0===n?null:n],e},useContext:Ro,useEffect:zi,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,Mi(4194308,4,$i.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Mi(4194308,4,e,n)},useInsertionEffect:function(e,n){return Mi(4,2,e,n)},useMemo:function(e,n){var t=yi();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=yi();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Hi.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ai,useDebugValue:Bi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ai(!1),n=e[0];return e=Vi.bind(null,e[1]),yi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=li,a=yi();if(ao){if(void 0===t)throw Error(o(407));t=t()}else{if(t=n(),null===Ns)throw Error(o(349));30&ii||Ei(r,n,t)}a.memoizedState=t;var i={value:t,getSnapshot:n};return a.queue=i,zi(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ri(9,ji.bind(null,r,i,t,n),void 0,null),t},useId:function(){var e=yi(),n=Ns.identifierPrefix;if(ao){var t=Ka;n=":"+n+"R"+(t=(Qa&~(1<<32-ln(Qa)-1)).toString(32)+t),0<(t=pi++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=fi++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},el={readContext:Ro,useCallback:Fi,useContext:Ro,useEffect:Pi,useImperativeHandle:Ui,useInsertionEffect:Li,useLayoutEffect:Di,useMemo:qi,useReducer:wi,useRef:Oi,useState:function(){return wi(xi)},useDebugValue:Bi,useDeferredValue:function(e){return Wi(vi(),si.memoizedState,e)},useTransition:function(){return[wi(xi)[0],vi().memoizedState]},useMutableSource:_i,useSyncExternalStore:Si,useId:Gi,unstable_isNewReconciler:!1},nl={readContext:Ro,useCallback:Fi,useContext:Ro,useEffect:Pi,useImperativeHandle:Ui,useInsertionEffect:Li,useLayoutEffect:Di,useMemo:qi,useReducer:ki,useRef:Oi,useState:function(){return ki(xi)},useDebugValue:Bi,useDeferredValue:function(e){var n=vi();return null===si?n.memoizedState=e:Wi(n,si.memoizedState,e)},useTransition:function(){return[ki(xi)[0],vi().memoizedState]},useMutableSource:_i,useSyncExternalStore:Si,useId:Gi,unstable_isNewReconciler:!1};function tl(e,n){if(e&&e.defaultProps){for(var t in n=L({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function rl(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:L({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ec(),a=nc(e),o=$o(r,a);o.payload=n,null!=t&&(o.callback=t),null!==(n=Uo(e,o,a))&&(tc(n,e,a,r),Bo(n,e,a))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ec(),a=nc(e),o=$o(r,a);o.tag=1,o.payload=n,null!=t&&(o.callback=t),null!==(n=Uo(e,o,a))&&(tc(n,e,a,r),Bo(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ec(),r=nc(e),a=$o(t,r);a.tag=2,null!=n&&(a.callback=n),null!==(n=Uo(e,a,r))&&(tc(n,e,r,t),Bo(n,e,r))}};function ol(e,n,t,r,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!(n.prototype&&n.prototype.isPureReactComponent&&sr(t,r)&&sr(a,o))}function il(e,n,t){var r=!1,a=Ca,o=n.contextType;return"object"==typeof o&&null!==o?o=Ro(o):(a=Oa(n)?Aa:Ta.current,o=(r=null!=(r=n.contextTypes))?Ra(e,a):Ca),n=new n(t,o),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=al,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),n}function ll(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&al.enqueueReplaceState(n,n.state,null)}function sl(e,n,t,r){var a=e.stateNode;a.props=t,a.state=e.memoizedState,a.refs={},Lo(e);var o=n.contextType;"object"==typeof o&&null!==o?a.context=Ro(o):(o=Oa(n)?Aa:Ta.current,a.context=Ra(e,o)),a.state=e.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(rl(e,n,o,t),a.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(n=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),n!==a.state&&al.enqueueReplaceState(a,a.state,null),qo(e,t,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function cl(e,n){try{var t="",r=n;do{t+=B(r),r=r.return}while(r);var a=t}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:a,digest:null}}function dl(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function ul(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var pl="function"==typeof WeakMap?WeakMap:Map;function fl(e,n,t){(t=$o(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Ws||(Ws=!0,Vs=r),ul(0,n)},t}function gl(e,n,t){(t=$o(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=n.value;t.payload=function(){return r(a)},t.callback=function(){ul(0,n)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(t.callback=function(){ul(0,n),"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function ml(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new pl;var a=new Set;r.set(n,a)}else void 0===(a=r.get(n))&&(a=new Set,r.set(n,a));a.has(t)||(a.add(t),e=Ec.bind(null,e,n,t),n.then(e,e))}function hl(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function bl(e,n,t,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=$o(-1,1)).tag=2,Uo(t,n,1))),t.lanes|=1),e)}var yl=x.ReactCurrentOwner,vl=!1;function xl(e,n,t,r){n.child=null===e?ko(n,null,t,r):wo(n,e.child,t,r)}function wl(e,n,t,r,a){t=t.render;var o=n.ref;return Ao(n,a),r=hi(e,n,t,r,o,a),t=bi(),null===e||vl?(ao&&t&&eo(n),n.flags|=1,xl(e,n,r,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Wl(e,n,a))}function kl(e,n,t,r,a){if(null===e){var o=t.type;return"function"!=typeof o||Oc(o)||void 0!==o.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Ic(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=o,_l(e,n,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((t=null!==(t=t.compare)?t:sr)(i,r)&&e.ref===n.ref)return Wl(e,n,a)}return n.flags|=1,(e=Mc(o,r)).ref=n.ref,e.return=n,n.child=e}function _l(e,n,t,r,a){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===n.ref){if(vl=!1,n.pendingProps=r=o,0===(e.lanes&a))return n.lanes=e.lanes,Wl(e,n,a);131072&e.flags&&(vl=!0)}}return jl(e,n,t,r,a)}function Sl(e,n,t){var r=n.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&n.mode){if(!(1073741824&t))return e=null!==o?o.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ja(Ms,Os),Os|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:t,ja(Ms,Os),Os|=r}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ja(Ms,Os),Os|=t;else null!==o?(r=o.baseLanes|t,n.memoizedState=null):r=t,ja(Ms,Os),Os|=r;return xl(e,n,a,t),n.child}function El(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function jl(e,n,t,r,a){var o=Oa(t)?Aa:Ta.current;return o=Ra(n,o),Ao(n,a),t=hi(e,n,t,r,o,a),r=bi(),null===e||vl?(ao&&r&&eo(n),n.flags|=1,xl(e,n,t,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Wl(e,n,a))}function Cl(e,n,t,r,a){if(Oa(t)){var o=!0;Pa(n)}else o=!1;if(Ao(n,a),null===n.stateNode)ql(e,n),il(n,t,r),sl(n,t,r,a),r=!0;else if(null===e){var i=n.stateNode,l=n.memoizedProps;i.props=l;var s=i.context,c=t.contextType;c="object"==typeof c&&null!==c?Ro(c):Ra(n,c=Oa(t)?Aa:Ta.current);var d=t.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||s!==c)&&ll(n,i,r,c),Po=!1;var p=n.memoizedState;i.state=p,qo(n,r,i,a),s=n.memoizedState,l!==r||p!==s||Na.current||Po?("function"==typeof d&&(rl(n,t,d,r),s=n.memoizedState),(l=Po||ol(n,t,l,r,p,s,c))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(n.flags|=4194308)):("function"==typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=s),i.props=r,i.state=s,i.context=c,r=l):("function"==typeof i.componentDidMount&&(n.flags|=4194308),r=!1)}else{i=n.stateNode,Do(e,n),l=n.memoizedProps,c=n.type===n.elementType?l:tl(n.type,l),i.props=c,u=n.pendingProps,p=i.context,s="object"==typeof(s=t.contextType)&&null!==s?Ro(s):Ra(n,s=Oa(t)?Aa:Ta.current);var f=t.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==u||p!==s)&&ll(n,i,r,s),Po=!1,p=n.memoizedState,i.state=p,qo(n,r,i,a);var g=n.memoizedState;l!==u||p!==g||Na.current||Po?("function"==typeof f&&(rl(n,t,f,r),g=n.memoizedState),(c=Po||ol(n,t,c,r,p,g,s)||!1)?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,g,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,g,s)),"function"==typeof i.componentDidUpdate&&(n.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=g),i.props=r,i.state=g,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return Tl(e,n,t,r,o,a)}function Tl(e,n,t,r,a,o){El(e,n);var i=!!(128&n.flags);if(!r&&!i)return a&&La(n,t,!1),Wl(e,n,o);r=n.stateNode,yl.current=n;var l=i&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&i?(n.child=wo(n,e.child,null,o),n.child=wo(n,null,l,o)):xl(e,n,l,o),n.memoizedState=r.state,a&&La(n,t,!0),n.child}function Nl(e){var n=e.stateNode;n.pendingContext?Ia(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Ia(0,n.context,!1),Qo(e,n.containerInfo)}function Al(e,n,t,r,a){return go(),mo(a),n.flags|=256,xl(e,n,t,r),n.child}var Rl,Ol,Ml,Il,zl={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ll(e,n,t){var r,a=n.pendingProps,i=ei.current,l=!1,s=!!(128&n.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(l=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ja(ei,1&i),null===e)return co(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(1&n.mode?"$!"===e.data?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(s=a.children,e=a.fallback,l?(a=n.mode,l=n.child,s={mode:"hidden",children:s},1&a||null===l?l=Pc(s,a,0,null):(l.childLanes=0,l.pendingProps=s),e=zc(e,a,t,null),l.return=n,e.return=n,l.sibling=e,n.child=l,n.child.memoizedState=Pl(t),n.memoizedState=zl,e):Dl(n,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,n,t,r,a,i,l){if(t)return 256&n.flags?(n.flags&=-257,$l(e,n,l,r=dl(Error(o(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=r.fallback,a=n.mode,r=Pc({mode:"visible",children:r.children},a,0,null),(i=zc(i,a,l,null)).flags|=2,r.return=n,i.return=n,r.sibling=i,n.child=r,1&n.mode&&wo(n,e.child,null,l),n.child.memoizedState=Pl(l),n.memoizedState=zl,i);if(!(1&n.mode))return $l(e,n,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,$l(e,n,l,r=dl(i=Error(o(419)),r,void 0))}if(s=0!==(l&e.childLanes),vl||s){if(null!==(r=Ns)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,zo(e,a),tc(r,e,a,-1))}return mc(),$l(e,n,l,r=dl(Error(o(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=Cc.bind(null,e),a._reactRetry=n,null):(e=i.treeContext,ro=ca(a.nextSibling),to=n,ao=!0,oo=null,null!==e&&(Ha[Xa++]=Qa,Ha[Xa++]=Ka,Ha[Xa++]=Ya,Qa=e.id,Ka=e.overflow,Ya=n),(n=Dl(n,r.children)).flags|=4096,n)}(e,n,s,a,r,i,t);if(l){l=a.fallback,s=n.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&s||n.child===i?(a=Mc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((a=n.child).childLanes=0,a.pendingProps=c,n.deletions=null),null!==r?l=Mc(r,l):(l=zc(l,s,t,null)).flags|=2,l.return=n,a.return=n,a.sibling=l,n.child=a,a=l,l=n.child,s=null===(s=e.child.memoizedState)?Pl(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~t,n.memoizedState=zl,a}return e=(l=e.child).sibling,a=Mc(l,{mode:"visible",children:a.children}),!(1&n.mode)&&(a.lanes=t),a.return=n,a.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=a,n.memoizedState=null,a}function Dl(e,n){return(n=Pc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function $l(e,n,t,r){return null!==r&&mo(r),wo(n,e.child,null,t),(e=Dl(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Ul(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),No(e.return,n,t)}function Bl(e,n,t,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:a}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=a)}function Fl(e,n,t){var r=n.pendingProps,a=r.revealOrder,o=r.tail;if(xl(e,n,r.children,t),2&(r=ei.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,t,n);else if(19===e.tag)Ul(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ja(ei,r),1&n.mode)switch(a){case"forwards":for(t=n.child,a=null;null!==t;)null!==(e=t.alternate)&&null===ni(e)&&(a=t),t=t.sibling;null===(t=a)?(a=n.child,n.child=null):(a=t.sibling,t.sibling=null),Bl(n,!1,a,t,o);break;case"backwards":for(t=null,a=n.child,n.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ni(e)){n.child=a;break}e=a.sibling,a.sibling=t,t=a,a=e}Bl(n,!0,t,null,o);break;case"together":Bl(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function ql(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Wl(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ps|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(o(153));if(null!==n.child){for(t=Mc(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Mc(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Vl(e,n){if(!ao)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Hl(e,n,t){var r=n.pendingProps;switch(no(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(n),null;case 1:case 17:return Oa(n.type)&&Ma(),Gl(n),null;case 3:return r=n.stateNode,Ko(),Ea(Na),Ea(Ta),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==oo&&(ic(oo),oo=null))),Ol(e,n),Gl(n),null;case 5:Zo(n);var a=Yo(Xo.current);if(t=n.type,null!==e&&null!=n.stateNode)Ml(e,n,t,r,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(o(166));return Gl(n),null}if(e=Yo(Go.current),po(n)){r=n.stateNode,t=n.type;var i=n.memoizedProps;switch(r[pa]=n,r[fa]=i,e=!!(1&n.mode),t){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<zr.length;a++)$r(zr[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Q(r,i),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$r("invalid",r);break;case"textarea":ae(r,i),$r("invalid",r)}for(var s in ye(t,i),a=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&$r("scroll",r)}switch(t){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Zr)}r=a,n.updateQueue=r,null!==r&&(n.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(t,{is:r.is}):(e=s.createElement(t),"select"===t&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,t),e[pa]=n,e[fa]=r,Rl(e,n,!1,!1),n.stateNode=e;e:{switch(s=ve(t,r),t){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<zr.length;a++)$r(zr[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":Q(e,r),a=Y(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(i in ye(t,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?he(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"==typeof d?("textarea"!==t||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&$r("scroll",e):null!=d&&v(e,i,d,s))}switch(t){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?te(e,!!r.multiple,i,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Zr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Gl(n),null;case 6:if(e&&null!=n.stateNode)Il(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error(o(166));if(t=Yo(Xo.current),Yo(Go.current),po(n)){if(r=n.stateNode,t=n.memoizedProps,r[pa]=n,(i=r.nodeValue!==t)&&null!==(e=to))switch(e.tag){case 3:Jr(r.nodeValue,t,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,t,!!(1&e.mode))}i&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[pa]=n,n.stateNode=r}return Gl(n),null;case 13:if(Ea(ei),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&1&n.mode&&!(128&n.flags))fo(),go(),n.flags|=98560,i=!1;else if(i=po(n),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(o(317));i[pa]=n}else go(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Gl(n),i=!1}else null!==oo&&(ic(oo),oo=null),i=!0;if(!i)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=t,n):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,1&n.mode&&(null===e||1&ei.current?0===Is&&(Is=3):mc())),null!==n.updateQueue&&(n.flags|=4),Gl(n),null);case 4:return Ko(),Ol(e,n),null===e&&Fr(n.stateNode.containerInfo),Gl(n),null;case 10:return To(n.type._context),Gl(n),null;case 19:if(Ea(ei),null===(i=n.memoizedState))return Gl(n),null;if(r=!!(128&n.flags),null===(s=i.rendering))if(r)Vl(i,!1);else{if(0!==Is||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(s=ni(e))){for(n.flags|=128,Vl(i,!1),null!==(r=s.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(i=t).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return ja(ei,1&ei.current|2),n.child}e=e.sibling}null!==i.tail&&Ke()>Fs&&(n.flags|=128,r=!0,Vl(i,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=ni(s))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Vl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!ao)return Gl(n),null}else 2*Ke()-i.renderingStartTime>Fs&&1073741824!==t&&(n.flags|=128,r=!0,Vl(i,!1),n.lanes=4194304);i.isBackwards?(s.sibling=n.child,n.child=s):(null!==(t=i.last)?t.sibling=s:n.child=s,i.last=s)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Ke(),n.sibling=null,t=ei.current,ja(ei,r?1&t|2:1&t),n):(Gl(n),null);case 22:case 23:return uc(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&1&n.mode?!!(1073741824&Os)&&(Gl(n),6&n.subtreeFlags&&(n.flags|=8192)):Gl(n),null;case 24:case 25:return null}throw Error(o(156,n.tag))}function Xl(e,n){switch(no(n),n.tag){case 1:return Oa(n.type)&&Ma(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Ko(),Ea(Na),Ea(Ta),ri(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Zo(n),null;case 13:if(Ea(ei),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(o(340));go()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Ea(ei),null;case 4:return Ko(),null;case 10:return To(n.type._context),null;case 22:case 23:return uc(),null;default:return null}}Rl=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Ol=function(){},Ml=function(e,n,t,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,Yo(Go.current);var o,i=null;switch(t){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(d in ye(t,r),t=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var s=a[d];for(o in s)s.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(s=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==s&&(null!=c||null!=s))if("style"===d)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(i||(i=[]),i.push(d,t)),t=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$r("scroll",e),i||s===c||(i=[])):(i=i||[]).push(d,c))}t&&(i=i||[]).push("style",t);var d=i;(n.updateQueue=d)&&(n.flags|=4)}},Il=function(e,n,t,r){t!==r&&(n.flags|=4)};var Yl=!1,Ql=!1,Kl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function Zl(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Sc(e,n,t)}else t.current=null}function es(e,n,t){try{t()}catch(t){Sc(e,n,t)}}var ns=!1;function ts(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&es(n,t,o)}a=a.next}while(a!==r)}}function rs(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function as(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"==typeof n?n(e):n.current=e}}function os(e){var n=e.alternate;null!==n&&(e.alternate=null,os(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(n=e.stateNode)&&(delete n[pa],delete n[fa],delete n[ma],delete n[ha],delete n[ba]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,n,t),e=e.sibling;null!==e;)ss(e,n,t),e=e.sibling}function cs(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,n,t),e=e.sibling;null!==e;)cs(e,n,t),e=e.sibling}var ds=null,us=!1;function ps(e,n,t){for(t=t.child;null!==t;)fs(e,n,t),t=t.sibling}function fs(e,n,t){if(on&&"function"==typeof on.onCommitFiberUnmount)try{on.onCommitFiberUnmount(an,t)}catch(e){}switch(t.tag){case 5:Ql||Zl(t,n);case 6:var r=ds,a=us;ds=null,ps(e,n,t),us=a,null!==(ds=r)&&(us?(e=ds,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):ds.removeChild(t.stateNode));break;case 18:null!==ds&&(us?(e=ds,t=t.stateNode,8===e.nodeType?sa(e.parentNode,t):1===e.nodeType&&sa(e,t),qn(e)):sa(ds,t.stateNode));break;case 4:r=ds,a=us,ds=t.stateNode.containerInfo,us=!0,ps(e,n,t),ds=r,us=a;break;case 0:case 11:case 14:case 15:if(!Ql&&null!==(r=t.updateQueue)&&null!==(r=r.lastEffect)){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(2&o||4&o)&&es(t,n,i),a=a.next}while(a!==r)}ps(e,n,t);break;case 1:if(!Ql&&(Zl(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(e){Sc(t,n,e)}ps(e,n,t);break;case 21:ps(e,n,t);break;case 22:1&t.mode?(Ql=(r=Ql)||null!==t.memoizedState,ps(e,n,t),Ql=r):ps(e,n,t);break;default:ps(e,n,t)}}function gs(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Kl),n.forEach(function(n){var r=Tc.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function ms(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];try{var i=e,l=n,s=l;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,us=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,us=!0;break e}s=s.return}if(null===ds)throw Error(o(160));fs(i,l,a),ds=null,us=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(e){Sc(a,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)hs(n,e),n=n.sibling}function hs(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(n,e),bs(e),4&r){try{ts(3,e,e.return),rs(3,e)}catch(n){Sc(e,e.return,n)}try{ts(5,e,e.return)}catch(n){Sc(e,e.return,n)}}break;case 1:ms(n,e),bs(e),512&r&&null!==t&&Zl(t,t.return);break;case 5:if(ms(n,e),bs(e),512&r&&null!==t&&Zl(t,t.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(n){Sc(e,e.return,n)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==t?t.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===i.type&&null!=i.name&&K(a,i),ve(s,l);var d=ve(s,i);for(l=0;l<c.length;l+=2){var u=c[l],p=c[l+1];"style"===u?he(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):v(a,u,p,d)}switch(s){case"input":J(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?te(a,!!i.multiple,g,!1):f!==!!i.multiple&&(null!=i.defaultValue?te(a,!!i.multiple,i.defaultValue,!0):te(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(n){Sc(e,e.return,n)}}break;case 6:if(ms(n,e),bs(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(n){Sc(e,e.return,n)}}break;case 3:if(ms(n,e),bs(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{qn(n.containerInfo)}catch(n){Sc(e,e.return,n)}break;case 4:default:ms(n,e),bs(e);break;case 13:ms(n,e),bs(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bs=Ke())),4&r&&gs(e);break;case 22:if(u=null!==t&&null!==t.memoizedState,1&e.mode?(Ql=(d=Ql)||u,ms(n,e),Ql=d):ms(n,e),bs(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Jl=e,u=e.child;null!==u;){for(p=Jl=u;null!==Jl;){switch(g=(f=Jl).child,f.tag){case 0:case 11:case 14:case 15:ts(4,f,f.return);break;case 1:Zl(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,t=f.return;try{n=r,m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(e){Sc(r,t,e)}}break;case 5:Zl(f,f.return);break;case 22:if(null!==f.memoizedState){ws(p);continue}}null!==g?(g.return=f,Jl=g):ws(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=p.stateNode,l=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(n){Sc(e,e.return,n)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(n){Sc(e,e.return,n)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ms(n,e),bs(e),4&r&&gs(e);case 21:}}function bs(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(is(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cs(e,ls(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ss(e,ls(e),i);break;default:throw Error(o(161))}}catch(n){Sc(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function ys(e,n,t){Jl=e,vs(e,n,t)}function vs(e,n,t){for(var r=!!(1&e.mode);null!==Jl;){var a=Jl,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Yl;if(!i){var l=a.alternate,s=null!==l&&null!==l.memoizedState||Ql;l=Yl;var c=Ql;if(Yl=i,(Ql=s)&&!c)for(Jl=a;null!==Jl;)s=(i=Jl).child,22===i.tag&&null!==i.memoizedState?ks(a):null!==s?(s.return=i,Jl=s):ks(a);for(;null!==o;)Jl=o,vs(o,n,t),o=o.sibling;Jl=a,Yl=l,Ql=c}xs(e)}else 8772&a.subtreeFlags&&null!==o?(o.return=a,Jl=o):xs(e)}}function xs(e){for(;null!==Jl;){var n=Jl;if(8772&n.flags){var t=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:Ql||rs(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Ql)if(null===t)r.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:tl(n.type,t.memoizedProps);r.componentDidUpdate(a,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Wo(n,i,r);break;case 3:var l=n.updateQueue;if(null!==l){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Wo(n,l,t)}break;case 5:var s=n.stateNode;if(null===t&&4&n.flags){t=s;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&qn(p)}}}break;default:throw Error(o(163))}Ql||512&n.flags&&as(n)}catch(e){Sc(n,n.return,e)}}if(n===e){Jl=null;break}if(null!==(t=n.sibling)){t.return=n.return,Jl=t;break}Jl=n.return}}function ws(e){for(;null!==Jl;){var n=Jl;if(n===e){Jl=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Jl=t;break}Jl=n.return}}function ks(e){for(;null!==Jl;){var n=Jl;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{rs(4,n)}catch(e){Sc(n,t,e)}break;case 1:var r=n.stateNode;if("function"==typeof r.componentDidMount){var a=n.return;try{r.componentDidMount()}catch(e){Sc(n,a,e)}}var o=n.return;try{as(n)}catch(e){Sc(n,o,e)}break;case 5:var i=n.return;try{as(n)}catch(e){Sc(n,i,e)}}}catch(e){Sc(n,n.return,e)}if(n===e){Jl=null;break}var l=n.sibling;if(null!==l){l.return=n.return,Jl=l;break}Jl=n.return}}var _s,Ss=Math.ceil,Es=x.ReactCurrentDispatcher,js=x.ReactCurrentOwner,Cs=x.ReactCurrentBatchConfig,Ts=0,Ns=null,As=null,Rs=0,Os=0,Ms=Sa(0),Is=0,zs=null,Ps=0,Ls=0,Ds=0,$s=null,Us=null,Bs=0,Fs=1/0,qs=null,Ws=!1,Vs=null,Gs=null,Hs=!1,Xs=null,Ys=0,Qs=0,Ks=null,Js=-1,Zs=0;function ec(){return 6&Ts?Ke():-1!==Js?Js:Js=Ke()}function nc(e){return 1&e.mode?2&Ts&&0!==Rs?Rs&-Rs:null!==ho.transition?(0===Zs&&(Zs=hn()),Zs):0!==(e=xn)?e:e=void 0===(e=window.event)?16:Kn(e.type):1}function tc(e,n,t,r){if(50<Qs)throw Qs=0,Ks=null,Error(o(185));yn(e,t,r),2&Ts&&e===Ns||(e===Ns&&(!(2&Ts)&&(Ls|=t),4===Is&&lc(e,Rs)),rc(e,r),1===t&&0===Ts&&!(1&n.mode)&&(Fs=Ke()+500,$a&&Fa()))}function rc(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ln(o),l=1<<i,s=a[i];-1===s?0!==(l&t)&&0===(l&r)||(a[i]=gn(l,n)):s<=n&&(e.expiredLanes|=l),o&=~l}}(e,n);var r=fn(e,e===Ns?Rs:0);if(0===r)null!==t&&Xe(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&Xe(t),1===n)0===e.tag?function(e){$a=!0,Ba(e)}(sc.bind(null,e)):Ba(sc.bind(null,e)),ia(function(){!(6&Ts)&&Fa()}),t=null;else{switch(wn(r)){case 1:t=Ze;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Nc(t,ac.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ac(e,n){if(Js=-1,Zs=0,6&Ts)throw Error(o(327));var t=e.callbackNode;if(kc()&&e.callbackNode!==t)return null;var r=fn(e,e===Ns?Rs:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||n)n=hc(e,r);else{n=r;var a=Ts;Ts|=2;var i=gc();for(Ns===e&&Rs===n||(qs=null,Fs=Ke()+500,pc(e,n));;)try{yc();break}catch(n){fc(e,n)}Co(),Es.current=i,Ts=a,null!==As?n=0:(Ns=null,Rs=0,n=Is)}if(0!==n){if(2===n&&0!==(a=mn(e))&&(r=a,n=oc(e,a)),1===n)throw t=zs,pc(e,0),lc(e,r),rc(e,Ke()),t;if(6===n)lc(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var a=t[r],o=a.getSnapshot;a=a.value;try{if(!lr(o(),a))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(a)||(n=hc(e,r),2===n&&(i=mn(e),0!==i&&(r=i,n=oc(e,i))),1!==n)))throw t=zs,pc(e,0),lc(e,r),rc(e,Ke()),t;switch(e.finishedWork=a,e.finishedLanes=r,n){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(n=Bs+500-Ke())){if(0!==fn(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Us,qs),n);break}wc(e,Us,qs);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var l=31-ln(r);i=1<<l,(l=n[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(o(329))}}}return rc(e,Ke()),e.callbackNode===t?ac.bind(null,e):null}function oc(e,n){var t=$s;return e.current.memoizedState.isDehydrated&&(pc(e,n).flags|=256),2!==(e=hc(e,n))&&(n=Us,Us=t,null!==n&&ic(n)),e}function ic(e){null===Us?Us=e:Us.push.apply(Us,e)}function lc(e,n){for(n&=~Ds,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-ln(n),r=1<<t;e[t]=-1,n&=~r}}function sc(e){if(6&Ts)throw Error(o(327));kc();var n=fn(e,0);if(!(1&n))return rc(e,Ke()),null;var t=hc(e,n);if(0!==e.tag&&2===t){var r=mn(e);0!==r&&(n=r,t=oc(e,r))}if(1===t)throw t=zs,pc(e,0),lc(e,n),rc(e,Ke()),t;if(6===t)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,Us,qs),rc(e,Ke()),null}function cc(e,n){var t=Ts;Ts|=1;try{return e(n)}finally{0===(Ts=t)&&(Fs=Ke()+500,$a&&Fa())}}function dc(e){null!==Xs&&0===Xs.tag&&!(6&Ts)&&kc();var n=Ts;Ts|=1;var t=Cs.transition,r=xn;try{if(Cs.transition=null,xn=1,e)return e()}finally{xn=r,Cs.transition=t,!(6&(Ts=n))&&Fa()}}function uc(){Os=Ms.current,Ea(Ms)}function pc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,aa(t)),null!==As)for(t=As.return;null!==t;){var r=t;switch(no(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ma();break;case 3:Ko(),Ea(Na),Ea(Ta),ri();break;case 5:Zo(r);break;case 4:Ko();break;case 13:case 19:Ea(ei);break;case 10:To(r.type._context);break;case 22:case 23:uc()}t=t.return}if(Ns=e,As=e=Mc(e.current,null),Rs=Os=n,Is=0,zs=null,Ds=Ls=Ps=0,Us=$s=null,null!==Oo){for(n=0;n<Oo.length;n++)if(null!==(r=(t=Oo[n]).interleaved)){t.interleaved=null;var a=r.next,o=t.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}t.pending=r}Oo=null}return e}function fc(e,n){for(;;){var t=As;try{if(Co(),ai.current=Ji,di){for(var r=li.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}di=!1}if(ii=0,ci=si=li=null,ui=!1,pi=0,js.current=null,null===t||null===t.return){Is=1,zs=n,As=null;break}e:{var i=e,l=t.return,s=t,c=n;if(n=Rs,s.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=s,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=hl(l);if(null!==g){g.flags&=-257,bl(g,l,s,0,n),1&g.mode&&ml(i,d,n),c=d;var m=(n=g).updateQueue;if(null===m){var h=new Set;h.add(c),n.updateQueue=h}else m.add(c);break e}if(!(1&n)){ml(i,d,n),mc();break e}c=Error(o(426))}else if(ao&&1&s.mode){var b=hl(l);if(null!==b){!(65536&b.flags)&&(b.flags|=256),bl(b,l,s,0,n),mo(cl(c,s));break e}}i=c=cl(c,s),4!==Is&&(Is=2),null===$s?$s=[i]:$s.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Fo(i,fl(0,c,n));break e;case 1:s=c;var y=i.type,v=i.stateNode;if(!(128&i.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Gs&&Gs.has(v)))){i.flags|=65536,n&=-n,i.lanes|=n,Fo(i,gl(i,s,n));break e}}i=i.return}while(null!==i)}xc(t)}catch(e){n=e,As===t&&null!==t&&(As=t=t.return);continue}break}}function gc(){var e=Es.current;return Es.current=Ji,null===e?Ji:e}function mc(){0!==Is&&3!==Is&&2!==Is||(Is=4),null===Ns||!(268435455&Ps)&&!(268435455&Ls)||lc(Ns,Rs)}function hc(e,n){var t=Ts;Ts|=2;var r=gc();for(Ns===e&&Rs===n||(qs=null,pc(e,n));;)try{bc();break}catch(n){fc(e,n)}if(Co(),Ts=t,Es.current=r,null!==As)throw Error(o(261));return Ns=null,Rs=0,Is}function bc(){for(;null!==As;)vc(As)}function yc(){for(;null!==As&&!Ye();)vc(As)}function vc(e){var n=_s(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===n?xc(e):As=n,js.current=null}function xc(e){var n=e;do{var t=n.alternate;if(e=n.return,32768&n.flags){if(null!==(t=Xl(t,n)))return t.flags&=32767,void(As=t);if(null===e)return Is=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(t=Hl(t,n,Os)))return void(As=t);if(null!==(n=n.sibling))return void(As=n);As=n=e}while(null!==n);0===Is&&(Is=5)}function wc(e,n,t){var r=xn,a=Cs.transition;try{Cs.transition=null,xn=1,function(e,n,t,r){do{kc()}while(null!==Xs);if(6&Ts)throw Error(o(327));t=e.finishedWork;var a=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var a=31-ln(t),o=1<<a;n[a]=0,r[a]=-1,e[a]=-1,t&=~o}}(e,i),e===Ns&&(As=Ns=null,Rs=0),!(2064&t.subtreeFlags)&&!(2064&t.flags)||Hs||(Hs=!0,Nc(nn,function(){return kc(),null})),i=!!(15990&t.flags),15990&t.subtreeFlags||i){i=Cs.transition,Cs.transition=null;var l=xn;xn=1;var s=Ts;Ts|=4,js.current=null,function(e,n){if(ea=Vn,fr(e=pr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var l=0,s=-1,c=-1,d=0,u=0,p=e,f=null;n:for(;;){for(var g;p!==t||0!==a&&3!==p.nodeType||(s=l+a),p!==i||0!==r&&3!==p.nodeType||(c=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(g=p.firstChild);)f=p,p=g;for(;;){if(p===e)break n;if(f===t&&++d===a&&(s=l),f===i&&++u===r&&(c=l),null!==(g=p.nextSibling))break;f=(p=f).parentNode}p=g}t=-1===s||-1===c?null:{start:s,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(na={focusedElem:e,selectionRange:t},Vn=!1,Jl=n;null!==Jl;)if(e=(n=Jl).child,1028&n.subtreeFlags&&null!==e)e.return=n,Jl=e;else for(;null!==Jl;){n=Jl;try{var m=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var h=m.memoizedProps,b=m.memoizedState,y=n.stateNode,v=y.getSnapshotBeforeUpdate(n.elementType===n.type?h:tl(n.type,h),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=n.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(e){Sc(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,Jl=e;break}Jl=n.return}m=ns,ns=!1}(e,t),hs(t,e),gr(na),Vn=!!ea,na=ea=null,e.current=t,ys(t,e,a),Qe(),Ts=s,xn=l,Cs.transition=i}else e.current=t;if(Hs&&(Hs=!1,Xs=e,Ys=a),0===(i=e.pendingLanes)&&(Gs=null),function(e){if(on&&"function"==typeof on.onCommitFiberRoot)try{on.onCommitFiberRoot(an,e,void 0,!(128&~e.current.flags))}catch(e){}}(t.stateNode),rc(e,Ke()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)r((a=n[t]).value,{componentStack:a.stack,digest:a.digest});if(Ws)throw Ws=!1,e=Vs,Vs=null,e;!!(1&Ys)&&0!==e.tag&&kc(),1&(i=e.pendingLanes)?e===Ks?Qs++:(Qs=0,Ks=e):Qs=0,Fa()}(e,n,t,r)}finally{Cs.transition=a,xn=r}return null}function kc(){if(null!==Xs){var e=wn(Ys),n=Cs.transition,t=xn;try{if(Cs.transition=null,xn=16>e?16:e,null===Xs)var r=!1;else{if(e=Xs,Xs=null,Ys=0,6&Ts)throw Error(o(331));var a=Ts;for(Ts|=4,Jl=e.current;null!==Jl;){var i=Jl,l=i.child;if(16&Jl.flags){var s=i.deletions;if(null!==s){for(var c=0;c<s.length;c++){var d=s[c];for(Jl=d;null!==Jl;){var u=Jl;switch(u.tag){case 0:case 11:case 15:ts(8,u,i)}var p=u.child;if(null!==p)p.return=u,Jl=p;else for(;null!==Jl;){var f=(u=Jl).sibling,g=u.return;if(os(u),u===d){Jl=null;break}if(null!==f){f.return=g,Jl=f;break}Jl=g}}}var m=i.alternate;if(null!==m){var h=m.child;if(null!==h){m.child=null;do{var b=h.sibling;h.sibling=null,h=b}while(null!==h)}}Jl=i}}if(2064&i.subtreeFlags&&null!==l)l.return=i,Jl=l;else e:for(;null!==Jl;){if(2048&(i=Jl).flags)switch(i.tag){case 0:case 11:case 15:ts(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Jl=y;break e}Jl=i.return}}var v=e.current;for(Jl=v;null!==Jl;){var x=(l=Jl).child;if(2064&l.subtreeFlags&&null!==x)x.return=l,Jl=x;else e:for(l=v;null!==Jl;){if(2048&(s=Jl).flags)try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(e){Sc(s,s.return,e)}if(s===l){Jl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Jl=w;break e}Jl=s.return}}if(Ts=a,Fa(),on&&"function"==typeof on.onPostCommitFiberRoot)try{on.onPostCommitFiberRoot(an,e)}catch(e){}r=!0}return r}finally{xn=t,Cs.transition=n}}return!1}function _c(e,n,t){e=Uo(e,n=fl(0,n=cl(t,n),1),1),n=ec(),null!==e&&(yn(e,1,n),rc(e,n))}function Sc(e,n,t){if(3===e.tag)_c(e,e,t);else for(;null!==n;){if(3===n.tag){_c(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){n=Uo(n,e=gl(n,e=cl(t,e),1),1),e=ec(),null!==n&&(yn(n,1,e),rc(n,e));break}}n=n.return}}function Ec(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=ec(),e.pingedLanes|=e.suspendedLanes&t,Ns===e&&(Rs&t)===t&&(4===Is||3===Is&&(130023424&Rs)===Rs&&500>Ke()-Bs?pc(e,0):Ds|=t),rc(e,n)}function jc(e,n){0===n&&(1&e.mode?(n=un,!(130023424&(un<<=1))&&(un=4194304)):n=1);var t=ec();null!==(e=zo(e,n))&&(yn(e,n,t),rc(e,t))}function Cc(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),jc(e,t)}function Tc(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(t=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(n),jc(e,t)}function Nc(e,n){return He(e,n)}function Ac(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,n,t,r){return new Ac(e,n,t,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,n){var t=e.alternate;return null===t?((t=Rc(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Ic(e,n,t,r,a,i){var l=2;if(r=e,"function"==typeof e)Oc(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case _:return zc(t.children,a,i,n);case S:l=8,a|=8;break;case E:return(e=Rc(12,t,n,2|a)).elementType=E,e.lanes=i,e;case N:return(e=Rc(13,t,n,a)).elementType=N,e.lanes=i,e;case A:return(e=Rc(19,t,n,a)).elementType=A,e.lanes=i,e;case M:return Pc(t,a,i,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case j:l=10;break e;case C:l=9;break e;case T:l=11;break e;case R:l=14;break e;case O:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(n=Rc(l,t,n,a)).elementType=e,n.type=r,n.lanes=i,n}function zc(e,n,t,r){return(e=Rc(7,e,r,n)).lanes=t,e}function Pc(e,n,t,r){return(e=Rc(22,e,r,n)).elementType=M,e.lanes=t,e.stateNode={isHidden:!1},e}function Lc(e,n,t){return(e=Rc(6,e,null,n)).lanes=t,e}function Dc(e,n,t){return(n=Rc(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function $c(e,n,t,r,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bn(0),this.expirationTimes=bn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,n,t,r,a,o,i,l,s){return e=new $c(e,n,t,l,s),1===n?(n=1,!0===o&&(n|=8)):n=0,o=Rc(3,null,null,n),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Bc(e){if(!e)return Ca;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Oa(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(o(171))}if(1===e.tag){var t=e.type;if(Oa(t))return za(e,t,n)}return n}function Fc(e,n,t,r,a,o,i,l,s){return(e=Uc(t,r,!0,e,0,o,0,l,s)).context=Bc(null),t=e.current,(o=$o(r=ec(),a=nc(t))).callback=null!=n?n:null,Uo(t,o,a),e.current.lanes=a,yn(e,a,r),rc(e,r),e}function qc(e,n,t,r){var a=n.current,o=ec(),i=nc(a);return t=Bc(t),null===n.context?n.context=t:n.pendingContext=t,(n=$o(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Uo(a,n,i))&&(tc(e,a,i,o),Bo(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Gc(e,n){Vc(e,n),(e=e.alternate)&&Vc(e,n)}_s=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Na.current)vl=!0;else{if(0===(e.lanes&t)&&!(128&n.flags))return vl=!1,function(e,n,t){switch(n.tag){case 3:Nl(n),go();break;case 5:Jo(n);break;case 1:Oa(n.type)&&Pa(n);break;case 4:Qo(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;ja(_o,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(ja(ei,1&ei.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Ll(e,n,t):(ja(ei,1&ei.current),null!==(e=Wl(e,n,t))?e.sibling:null);ja(ei,1&ei.current);break;case 19:if(r=0!==(t&n.childLanes),128&e.flags){if(r)return Fl(e,n,t);n.flags|=128}if(null!==(a=n.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ja(ei,ei.current),r)break;return null;case 22:case 23:return n.lanes=0,Sl(e,n,t)}return Wl(e,n,t)}(e,n,t);vl=!!(131072&e.flags)}else vl=!1,ao&&1048576&n.flags&&Za(n,Ga,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;ql(e,n),e=n.pendingProps;var a=Ra(n,Ta.current);Ao(n,t),a=hi(null,n,r,e,a,t);var i=bi();return n.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Oa(r)?(i=!0,Pa(n)):i=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Lo(n),a.updater=al,n.stateNode=a,a._reactInternals=n,sl(n,r,e,t),n=Tl(null,n,r,!0,i,t)):(n.tag=0,ao&&i&&eo(n),xl(null,n,a,t),n=n.child),n;case 16:r=n.elementType;e:{switch(ql(e,n),e=n.pendingProps,r=(a=r._init)(r._payload),n.type=r,a=n.tag=function(e){if("function"==typeof e)return Oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=tl(r,e),a){case 0:n=jl(null,n,r,e,t);break e;case 1:n=Cl(null,n,r,e,t);break e;case 11:n=wl(null,n,r,e,t);break e;case 14:n=kl(null,n,r,tl(r.type,e),t);break e}throw Error(o(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,jl(e,n,r,a=n.elementType===r?a:tl(r,a),t);case 1:return r=n.type,a=n.pendingProps,Cl(e,n,r,a=n.elementType===r?a:tl(r,a),t);case 3:e:{if(Nl(n),null===e)throw Error(o(387));r=n.pendingProps,a=(i=n.memoizedState).element,Do(e,n),qo(n,r,null,t);var l=n.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=Al(e,n,r,t,a=cl(Error(o(423)),n));break e}if(r!==a){n=Al(e,n,r,t,a=cl(Error(o(424)),n));break e}for(ro=ca(n.stateNode.containerInfo.firstChild),to=n,ao=!0,oo=null,t=ko(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(go(),r===a){n=Wl(e,n,t);break e}xl(e,n,r,t)}n=n.child}return n;case 5:return Jo(n),null===e&&co(n),r=n.type,a=n.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,ta(r,a)?l=null:null!==i&&ta(r,i)&&(n.flags|=32),El(e,n),xl(e,n,l,t),n.child;case 6:return null===e&&co(n),null;case 13:return Ll(e,n,t);case 4:return Qo(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=wo(n,null,r,t):xl(e,n,r,t),n.child;case 11:return r=n.type,a=n.pendingProps,wl(e,n,r,a=n.elementType===r?a:tl(r,a),t);case 7:return xl(e,n,n.pendingProps,t),n.child;case 8:case 12:return xl(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,i=n.memoizedProps,l=a.value,ja(_o,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!Na.current){n=Wl(e,n,t);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=$o(-1,t&-t)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=t,null!==(c=i.alternate)&&(c.lanes|=t),No(i.return,t,n),s.lanes|=t;break}c=c.next}}else if(10===i.tag)l=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(o(341));l.lanes|=t,null!==(s=l.alternate)&&(s.lanes|=t),No(l,t,n),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===n){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}xl(e,n,a.children,t),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,Ao(n,t),r=r(a=Ro(a)),n.flags|=1,xl(e,n,r,t),n.child;case 14:return a=tl(r=n.type,n.pendingProps),kl(e,n,r,a=tl(r.type,a),t);case 15:return _l(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:tl(r,a),ql(e,n),n.tag=1,Oa(r)?(e=!0,Pa(n)):e=!1,Ao(n,t),il(n,r,a),sl(n,r,a,t),Tl(null,n,r,!0,e,t);case 19:return Fl(e,n,t);case 22:return Sl(e,n,t)}throw Error(o(156,n.tag))};var Hc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,n,t,r,a){var o=t._reactRootContainer;if(o){var i=o;if("function"==typeof a){var l=a;a=function(){var e=Wc(i);l.call(e)}}qc(n,i,e,a)}else i=function(e,n,t,r,a){if(a){if("function"==typeof r){var o=r;r=function(){var e=Wc(i);o.call(e)}}var i=Fc(n,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[ga]=i.current,Fr(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var l=r;r=function(){var e=Wc(s);l.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[ga]=s.current,Fr(8===e.nodeType?e.parentNode:e),dc(function(){qc(n,s,t,r)}),s}(t,n,e,a,r);return Wc(i)}Yc.prototype.render=Xc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(o(409));qc(e,n,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;dc(function(){qc(null,e,null,null)}),n[ga]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=En();e={blockedOn:null,target:e,priority:n};for(var t=0;t<In.length&&0!==n&&n<In[t].priority;t++);In.splice(t,0,e),0===t&&Dn(e)}},kn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=pn(n.pendingLanes);0!==t&&(vn(n,1|t),rc(n,Ke()),!(6&Ts)&&(Fs=Ke()+500,Fa()))}break;case 13:dc(function(){var n=zo(e,1);if(null!==n){var t=ec();tc(n,e,1,t)}}),Gc(e,1)}},_n=function(e){if(13===e.tag){var n=zo(e,134217728);null!==n&&tc(n,e,134217728,ec()),Gc(e,134217728)}},Sn=function(e){if(13===e.tag){var n=nc(e),t=zo(e,n);null!==t&&tc(t,e,n,ec()),Gc(e,n)}},En=function(){return xn},jn=function(e,n){var t=xn;try{return xn=e,n()}finally{xn=t}},ke=function(e,n,t){switch(n){case"input":if(J(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));H(r),J(r,a)}}}break;case"textarea":oe(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},Te=cc,Ne=dc;var ed={usingClientEntryPoint:!1,Events:[va,xa,wa,je,Ce,cc]},nd={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{an=rd.inject(td),on=rd}catch(de){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(n))throw Error(o(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Qc(e))throw Error(o(299));var t=!1,r="",a=Hc;return null!=n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=Uc(e,1,!1,null,0,t,0,r,a),e[ga]=n.current,Fr(8===e.nodeType?e.parentNode:e),new Xc(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ve(n))?null:e.stateNode},n.flushSync=function(e){return dc(e)},n.hydrate=function(e,n,t){if(!Kc(n))throw Error(o(200));return Zc(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Qc(e))throw Error(o(405));var r=null!=t&&t.hydratedSources||null,a=!1,i="",l=Hc;if(null!=t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),n=Fc(n,null,e,1,null!=t?t:null,a,0,i,l),e[ga]=n.current,Fr(e),r)for(e=0;e<r.length;e++)a=(a=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a);return new Yc(n)},n.render=function(e,n,t){if(!Kc(n))throw Error(o(200));return Zc(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ga]=null})}),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Kc(t))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,n,t,!1,r)},n.version="18.3.1-next-f1338f8080-20240426"},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},704:(e,n,t)=>{t.r(n),t.d(n,{generateRCode:()=>o,validateBlocks:()=>i});var r=t(998),a=t(380);function o(e){if(0===e.length)return"# ËØ∑Ê∑ªÂä†ÁßØÊú®ÂºÄÂßãÂàõÂª∫ÂõæË°®\n# ÊèêÁ§∫Ôºö‰ªéÂ∑¶‰æßÊãñÊãΩÁßØÊú®Âà∞ÁîªÂ∏ÉÔºåÁßØÊú®‰ºöËá™Âä®ËøûÊé•";const n=["# GGplotChim ÁîüÊàêÁöÑ‰ª£Á†Å","# Âü∫‰∫é ggplot2 ÁöÑÂõæÂ±ÇËØ≠Ê≥ï",""],t=n=>{const o=a.e.find(e=>e.type===n.blockType);if(!o)return"";if(n.blockType===r._.START)return"";let i;return o.isContainer&&n.children&&(i={},Object.keys(n.children).forEach(r=>{const a=n.children[r]||[];i[r]=a.map(n=>e.find(e=>e.id===n)).filter(Boolean).map(e=>t(e))})),function(e,n,t){let r=e;r=r.replace(/\{\{#each\s+children\.(\w+)\}\}(.*?)\{\{\/each\}\}/gs,(e,n,r)=>t&&t[n]?t[n].map(e=>{const n=e.split("\n").map(e=>e.trim()?"  "+e:e).join("\n");return r.replace(/\{\{this\}\}/g,n)}).join("\n"):"");const a=(e,r=0)=>{let o=!1;(e.match(/\{\{#if/g)||[]).length>0&&(o=!0);const i=e.replace(/\{\{#if\s+([\w.]+)\}\}((?:(?!\{\{#if)(?!\{\{\/if\}\}).)*)\{\{\/if\}\}/gs,(e,r,a)=>{let o,i;if(o=r.includes(".")?r.split(".").reduce((e,n)=>e?.[n],{...n,children:t}):n[r],Array.isArray(o)){const e=o.filter(e=>""!==e&&null!=e);i=e.length>0}else i="number"==typeof o?o>0:null!=o&&""!==o&&!1!==o;return i?a:""});return o&&i!==e?a(i,r+1):i};return r=a(r),r=r.replace(/\{\{(\w+)\}\}/g,(e,t)=>void 0!==n[t]?String(n[t]):""),r}(o.rTemplate,n.params,i)},o=new Set,i=e.find(e=>e.blockType===r._.START);return i?([i].forEach((r,a)=>{if(o.has(r.id))return;a>0&&n.push("");let i=r;for(;i&&!o.has(i.id);){if(o.add(i.id),i.parentId){const n=i.connections.output;i=n?e.find(e=>e.id===n):void 0;continue}if(i.ggplotConnections&&i.ggplotConnections.length>0){const r=[],a=t(i);r.push(a);const l=n=>{const a=e.find(e=>e.id===n);if(!a)return;o.add(a.id);const i=t(a);r.push(i),a.ggplotConnections&&a.ggplotConnections.forEach(e=>{o.has(e)||l(e)})};i.ggplotConnections.forEach(e=>{o.has(e)||l(e)});const s=r.filter(e=>e.trim());if(s.length>0){const e=`${i.assignedTo?`${i.assignedTo} <- `:""}${s[0]}${s.length>1?" +":""}`;n.push(e);for(let e=1;e<s.length;e++){const t=e===s.length-1;n.push(`  ${s[e]}${t?"":" +"}`)}}}else{const e=t(i);e.trim()&&n.push(e)}const r=i.connections.output;i=r?e.find(e=>e.id===r):void 0}}),n.push(""),n.map(e=>(e=e.replace(/,\s*\)/g,")")).replace(/\(\s*,\s*/g,"(")).join("\n")):(n.push('# ‚ö†Ô∏è ËØ∑Ê∑ªÂä†"ÂºÄÂßãÁßØÊú®"‰Ωú‰∏∫Á®ãÂ∫èÂÖ•Âè£'),n.push("# Âè™ÊúâËøûÊé•Âà∞ÂºÄÂßãÁßØÊú®ÁöÑÁßØÊú®Êâç‰ºöÁîüÊàê‰ª£Á†Å"),n.push(""),n.join("\n"))}function i(e){const n=[];!e.some(e=>e.blockType===r._.DATA_IMPORT)&&e.length>0&&n.push('Áº∫Â∞ëÊï∞ÊçÆÊ∫êÔºåËØ∑Ê∑ªÂä†"ÂØºÂÖ•Êï∞ÊçÆ"ÁßØÊú®');const t=e.some(e=>e.blockType===r._.GGPLOT_INIT);return e.some(e=>e.blockType.toString().startsWith("GEOM_"))&&!t&&n.push('ÈúÄË¶ÅÂÖàÊ∑ªÂä†"ÂàõÂª∫ÁîªÂ∏É"ÁßØÊú®'),{valid:0===n.length,errors:n}}},714:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== ÁîªÂ∏ÉÊ†∑Âºè ========== */\n.canvas {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.canvas-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: var(--spacing-lg) var(--spacing-xl);\n  background: var(--bg-white);\n  border-bottom: var(--border-width) solid var(--border-color);\n}\n\n.canvas-header h2 {\n  font-size: var(--font-lg);\n  font-weight: var(--font-semibold);\n  color: var(--color-gray-800);\n}\n\n.canvas-info {\n  font-size: var(--font-sm);\n  color: var(--color-gray-500);\n}\n\n.canvas-content {\n  flex: 1;\n  position: relative;\n  overflow: auto;\n}\n\n.canvas-blocks {\n  position: relative;\n  min-width: 100%;\n  min-height: 100%;\n  padding: var(--spacing-lg);\n}\n\n/* ========== ÁîªÂ∏ÉÊèêÁ§∫ ========== */\n.canvas-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-gray-400);\n  font-size: var(--font-md);\n  gap: var(--spacing-sm);\n}\n\n.canvas-tip {\n  font-size: var(--font-base);\n  color: var(--color-gray-500);\n  background: var(--color-warning-bg);\n  padding: var(--spacing-sm) var(--spacing-lg);\n  border-radius: var(--radius-md);\n  border: var(--border-width) solid var(--color-warning);\n}\n\n/* ========== ËøûÊé•Á∫øÂ±Ç ========== */\n.connection-layer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  z-index: var(--z-base);\n}\n\n.connection-line {\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  opacity: 0.8;\n  transition: opacity var(--transition-base);\n}\n\n.connection-line:hover {\n  opacity: 1;\n  stroke-width: 3;\n}\n\n/* ========== Âê∏ÈôÑÈ¢ÑËßàÊïàÊûú ========== */\n/* Âê∏ÈôÑÈ¢ÑËßàÁ∫ø */\n.snap-preview-line {\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  animation: snap-pulse 1s ease-in-out infinite;\n}\n\n/* ËøûÊé•È¢ÑËßàÁ∫ø */\n.connection-preview {\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n\n/* Âê∏ÈôÑÁõÆÊ†áÈ´ò‰∫Æ - Âú®‰∏§‰∏™ËøûÊé•ÁÇπ‰πãÈó¥ÊªëÂä® */\n.snap-target-highlight {\n  animation: snap-slide 2s ease-in-out infinite;\n}\n\n/* ========== Ê°ÜÈÄâÊ†∑Âºè ========== */\n.selection-box {\n  position: absolute;\n  border: var(--border-width-thick) dashed var(--color-primary);\n  background-color: rgba(79, 70, 229, 0.1);\n  pointer-events: none;\n  z-index: var(--z-dragging);\n  animation: selection-pulse 1.5s ease-in-out infinite;\n}\n\n/* ========== ÁßØÊú®ÂÆπÂô® ========== */\n.block-container {\n  position: absolute;\n  pointer-events: none;\n  z-index: var(--z-base);\n}\n\n.block-container > * {\n  pointer-events: all;\n}\n\n/* ========== ÊãñÊãΩÊèíÊßΩËßÜËßâÂèçÈ¶à ========== */\n.block-slot.drop-target {\n  background-color: rgba(79, 70, 229, 0.05);\n  border-color: var(--color-primary);\n}\n\n.drop-indicator {\n  height: 3px;\n  background: var(--gradient-primary);\n  margin: 4px 0;\n  border-radius: 2px;\n  animation: drop-indicator-pulse 1s ease-in-out infinite;\n  box-shadow: 0 0 8px rgba(79, 70, 229, 0.5);\n}\n\n",""]);const l=i},754:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/**\n * ÂèØÂ§çÁî®ÁªÑ‰ª∂Ê†∑ÂºèÂ∫ì\n * Âü∫‰∫é Ant Design ËÆæËÆ°Á≥ªÁªüÁöÑÂ∏∏Áî®ÁªÑ‰ª∂Â∞ÅË£Ö\n */\n\n/* ==================== Âç°ÁâáÁªÑ‰ª∂Âèò‰Ωì ==================== */\n.card-bordered {\n  background: var(--ant-gray-1);\n  border: 1px solid var(--ant-gray-4);\n  border-radius: var(--ant-border-radius-lg);\n  padding: var(--ant-spacing-lg);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.card-hoverable {\n  cursor: pointer;\n}\n\n.card-hoverable:hover {\n  border-color: var(--ant-primary-6);\n  box-shadow: var(--ant-shadow-2);\n  transform: translateY(-2px);\n}\n\n.card-shadow {\n  box-shadow: var(--ant-shadow-1);\n}\n\n.card-shadow:hover {\n  box-shadow: var(--ant-shadow-3);\n}\n\n/* ==================== ÂàóË°®ÁªÑ‰ª∂ ==================== */\n.list-item {\n  display: flex;\n  align-items: center;\n  padding: var(--ant-spacing-sm) var(--ant-spacing-md);\n  border-bottom: 1px solid var(--ant-gray-4);\n  transition: background var(--ant-motion-duration-fast) var(--ant-motion-ease-in-out);\n}\n\n.list-item:last-child {\n  border-bottom: none;\n}\n\n.list-item:hover {\n  background: var(--ant-gray-2);\n}\n\n.list-item-clickable {\n  cursor: pointer;\n}\n\n.list-item-clickable:hover {\n  background: var(--ant-primary-1);\n}\n\n/* ==================== Ë°®ÂçïÁªÑ‰ª∂ ==================== */\n.form-item {\n  margin-bottom: var(--ant-spacing-lg);\n}\n\n.form-label {\n  display: block;\n  margin-bottom: var(--ant-spacing-xs);\n  font-size: var(--ant-font-size-base);\n  font-weight: 400;\n  color: var(--ant-gray-13);\n}\n\n.form-label-required::before {\n  content: '*';\n  color: var(--ant-error-6);\n  margin-right: 4px;\n}\n\n.form-help {\n  margin-top: var(--ant-spacing-xs);\n  font-size: var(--ant-font-size-sm);\n  color: var(--ant-gray-7);\n}\n\n.form-error {\n  margin-top: var(--ant-spacing-xs);\n  font-size: var(--ant-font-size-sm);\n  color: var(--ant-error-6);\n}\n\n/* ==================== ÂàÜÈöîÁ¨¶ ==================== */\n.divider-horizontal {\n  border: none;\n  border-top: 1px solid var(--ant-gray-4);\n  margin: var(--ant-spacing-lg) 0;\n}\n\n.divider-vertical {\n  display: inline-block;\n  width: 1px;\n  height: 1em;\n  margin: 0 var(--ant-spacing-xs);\n  vertical-align: middle;\n  background: var(--ant-gray-4);\n}\n\n.divider-dashed {\n  border-style: dashed;\n}\n\n/* ==================== Ê†áÈ¢òÁªÑ‰ª∂ ==================== */\n.heading-1 {\n  font-size: var(--ant-font-size-heading-1);\n  line-height: var(--ant-line-height-heading);\n  font-weight: 600;\n  color: var(--ant-gray-13);\n  margin: 0 0 var(--ant-spacing-lg) 0;\n}\n\n.heading-2 {\n  font-size: var(--ant-font-size-heading-2);\n  line-height: var(--ant-line-height-heading);\n  font-weight: 600;\n  color: var(--ant-gray-13);\n  margin: 0 0 var(--ant-spacing-md) 0;\n}\n\n.heading-3 {\n  font-size: var(--ant-font-size-heading-3);\n  line-height: var(--ant-line-height-heading);\n  font-weight: 600;\n  color: var(--ant-gray-13);\n  margin: 0 0 var(--ant-spacing-md) 0;\n}\n\n.heading-4 {\n  font-size: var(--ant-font-size-heading-4);\n  line-height: var(--ant-line-height-heading);\n  font-weight: 600;\n  color: var(--ant-gray-13);\n  margin: 0 0 var(--ant-spacing-sm) 0;\n}\n\n.heading-5 {\n  font-size: var(--ant-font-size-heading-5);\n  line-height: var(--ant-line-height-heading);\n  font-weight: 600;\n  color: var(--ant-gray-13);\n  margin: 0 0 var(--ant-spacing-sm) 0;\n}\n\n/* ==================== ÊñáÊú¨ÁªÑ‰ª∂ ==================== */\n.text-primary {\n  color: var(--ant-primary-6);\n}\n\n.text-success {\n  color: var(--ant-success-6);\n}\n\n.text-warning {\n  color: var(--ant-warning-6);\n}\n\n.text-error {\n  color: var(--ant-error-6);\n}\n\n.text-secondary {\n  color: var(--ant-gray-7);\n}\n\n.text-disabled {\n  color: var(--ant-gray-6);\n}\n\n.text-bold {\n  font-weight: 600;\n}\n\n.text-sm {\n  font-size: var(--ant-font-size-sm);\n}\n\n.text-lg {\n  font-size: var(--ant-font-size-lg);\n}\n\n/* ==================== Èó¥Ë∑ùÂ∑•ÂÖ∑Á±ª ==================== */\n.m-0 { margin: 0; }\n.mt-xs { margin-top: var(--ant-spacing-xs); }\n.mt-sm { margin-top: var(--ant-spacing-sm); }\n.mt-md { margin-top: var(--ant-spacing-md); }\n.mt-lg { margin-top: var(--ant-spacing-lg); }\n.mt-xl { margin-top: var(--ant-spacing-xl); }\n\n.mb-xs { margin-bottom: var(--ant-spacing-xs); }\n.mb-sm { margin-bottom: var(--ant-spacing-sm); }\n.mb-md { margin-bottom: var(--ant-spacing-md); }\n.mb-lg { margin-bottom: var(--ant-spacing-lg); }\n.mb-xl { margin-bottom: var(--ant-spacing-xl); }\n\n.ml-xs { margin-left: var(--ant-spacing-xs); }\n.ml-sm { margin-left: var(--ant-spacing-sm); }\n.ml-md { margin-left: var(--ant-spacing-md); }\n.ml-lg { margin-left: var(--ant-spacing-lg); }\n\n.mr-xs { margin-right: var(--ant-spacing-xs); }\n.mr-sm { margin-right: var(--ant-spacing-sm); }\n.mr-md { margin-right: var(--ant-spacing-md); }\n.mr-lg { margin-right: var(--ant-spacing-lg); }\n\n.p-0 { padding: 0; }\n.pt-xs { padding-top: var(--ant-spacing-xs); }\n.pt-sm { padding-top: var(--ant-spacing-sm); }\n.pt-md { padding-top: var(--ant-spacing-md); }\n.pt-lg { padding-top: var(--ant-spacing-lg); }\n\n.pb-xs { padding-bottom: var(--ant-spacing-xs); }\n.pb-sm { padding-bottom: var(--ant-spacing-sm); }\n.pb-md { padding-bottom: var(--ant-spacing-md); }\n.pb-lg { padding-bottom: var(--ant-spacing-lg); }\n\n.pl-xs { padding-left: var(--ant-spacing-xs); }\n.pl-sm { padding-left: var(--ant-spacing-sm); }\n.pl-md { padding-left: var(--ant-spacing-md); }\n.pl-lg { padding-left: var(--ant-spacing-lg); }\n\n.pr-xs { padding-right: var(--ant-spacing-xs); }\n.pr-sm { padding-right: var(--ant-spacing-sm); }\n.pr-md { padding-right: var(--ant-spacing-md); }\n.pr-lg { padding-right: var(--ant-spacing-lg); }\n\n/* ==================== Flexbox Â∑•ÂÖ∑Á±ª ==================== */\n.flex {\n  display: flex;\n}\n\n.flex-col {\n  flex-direction: column;\n}\n\n.flex-row {\n  flex-direction: row;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.flex-center {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.flex-between {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.flex-start {\n  display: flex;\n  align-items: flex-start;\n}\n\n.flex-end {\n  display: flex;\n  align-items: flex-end;\n}\n\n.items-center {\n  align-items: center;\n}\n\n.items-start {\n  align-items: flex-start;\n}\n\n.items-end {\n  align-items: flex-end;\n}\n\n.justify-center {\n  justify-content: center;\n}\n\n.justify-between {\n  justify-content: space-between;\n}\n\n.justify-around {\n  justify-content: space-around;\n}\n\n.justify-end {\n  justify-content: flex-end;\n}\n\n.gap-xs {\n  gap: var(--ant-spacing-xs);\n}\n\n.gap-sm {\n  gap: var(--ant-spacing-sm);\n}\n\n.gap-md {\n  gap: var(--ant-spacing-md);\n}\n\n.gap-lg {\n  gap: var(--ant-spacing-lg);\n}\n\n/* ==================== ÊòæÁ§∫Â∑•ÂÖ∑Á±ª ==================== */\n.block {\n  display: block;\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.inline {\n  display: inline;\n}\n\n.hidden {\n  display: none;\n}\n\n/* ==================== ‰ΩçÁΩÆÂ∑•ÂÖ∑Á±ª ==================== */\n.relative {\n  position: relative;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.fixed {\n  position: fixed;\n}\n\n.sticky {\n  position: sticky;\n}\n\n/* ==================== Ê∫¢Âá∫Â∑•ÂÖ∑Á±ª ==================== */\n.overflow-hidden {\n  overflow: hidden;\n}\n\n.overflow-auto {\n  overflow: auto;\n}\n\n.overflow-scroll {\n  overflow: scroll;\n}\n\n.overflow-x-auto {\n  overflow-x: auto;\n}\n\n.overflow-y-auto {\n  overflow-y: auto;\n}\n\n/* ==================== ÂúÜËßíÂ∑•ÂÖ∑Á±ª ==================== */\n.rounded-sm {\n  border-radius: var(--ant-border-radius-sm);\n}\n\n.rounded {\n  border-radius: var(--ant-border-radius-base);\n}\n\n.rounded-lg {\n  border-radius: var(--ant-border-radius-lg);\n}\n\n.rounded-xl {\n  border-radius: var(--ant-border-radius-xl);\n}\n\n.rounded-full {\n  border-radius: var(--ant-border-radius-round);\n}\n\n.rounded-circle {\n  border-radius: var(--ant-border-radius-circle);\n}\n\n/* ==================== Èò¥ÂΩ±Â∑•ÂÖ∑Á±ª ==================== */\n.shadow-sm {\n  box-shadow: var(--ant-shadow-1);\n}\n\n.shadow {\n  box-shadow: var(--ant-shadow-2);\n}\n\n.shadow-lg {\n  box-shadow: var(--ant-shadow-3);\n}\n\n.shadow-none {\n  box-shadow: none;\n}\n\n/* ==================== ËæπÊ°ÜÂ∑•ÂÖ∑Á±ª ==================== */\n.border {\n  border: 1px solid var(--ant-gray-4);\n}\n\n.border-t {\n  border-top: 1px solid var(--ant-gray-4);\n}\n\n.border-b {\n  border-bottom: 1px solid var(--ant-gray-4);\n}\n\n.border-l {\n  border-left: 1px solid var(--ant-gray-4);\n}\n\n.border-r {\n  border-right: 1px solid var(--ant-gray-4);\n}\n\n.border-none {\n  border: none;\n}\n\n.border-primary {\n  border-color: var(--ant-primary-6);\n}\n\n.border-success {\n  border-color: var(--ant-success-6);\n}\n\n.border-warning {\n  border-color: var(--ant-warning-6);\n}\n\n.border-error {\n  border-color: var(--ant-error-6);\n}\n\n/* ==================== ÂÆΩÂ∫¶Â∑•ÂÖ∑Á±ª ==================== */\n.w-full {\n  width: 100%;\n}\n\n.w-auto {\n  width: auto;\n}\n\n.h-full {\n  height: 100%;\n}\n\n.h-auto {\n  height: auto;\n}\n\n/* ==================== ‰∫§‰∫íÂ∑•ÂÖ∑Á±ª ==================== */\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.cursor-not-allowed {\n  cursor: not-allowed;\n}\n\n.cursor-default {\n  cursor: default;\n}\n\n.select-none {\n  user-select: none;\n}\n\n.select-text {\n  user-select: text;\n}\n\n.pointer-events-none {\n  pointer-events: none;\n}\n\n.pointer-events-auto {\n  pointer-events: auto;\n}\n\n/* ==================== ËøáÊ∏°Âä®ÁîªÂ∑•ÂÖ∑Á±ª ==================== */\n.transition-all {\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.transition-fast {\n  transition: all var(--ant-motion-duration-fast) var(--ant-motion-ease-in-out);\n}\n\n.transition-slow {\n  transition: all var(--ant-motion-duration-slow) var(--ant-motion-ease-in-out);\n}\n\n/* ==================== ÊÇ¨ÂÅúÊïàÊûú ==================== */\n.hover-lift {\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.hover-lift:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--ant-shadow-2);\n}\n\n.hover-scale {\n  transition: transform var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.hover-scale:hover {\n  transform: scale(1.05);\n}\n\n.hover-opacity {\n  transition: opacity var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.hover-opacity:hover {\n  opacity: 0.8;\n}\n\n/* ==================== ËÉåÊôØÂ∑•ÂÖ∑Á±ª ==================== */\n.bg-white {\n  background: var(--ant-gray-1);\n}\n\n.bg-gray {\n  background: var(--ant-gray-3);\n}\n\n.bg-primary {\n  background: var(--ant-primary-1);\n}\n\n.bg-success {\n  background: var(--ant-success-1);\n}\n\n.bg-warning {\n  background: var(--ant-warning-1);\n}\n\n.bg-error {\n  background: var(--ant-error-1);\n}\n\n/* ==================== ÊñáÊú¨ÂØπÈΩêÂ∑•ÂÖ∑Á±ª ==================== */\n.text-left {\n  text-align: left;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-right {\n  text-align: right;\n}\n\n/* ==================== Êà™Êñ≠ÊñáÊú¨ ==================== */\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.line-clamp-3 {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n",""]);const l=i},759:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== CSS ÂèòÈáèÂÆö‰πâ ========== */\n:root {\n  /* È¢úËâ≤ - ‰∏ªËâ≤Ë∞É */\n  --color-primary: #4f46e5;\n  --color-primary-light: #6366f1;\n  --color-primary-dark: #4338ca;\n  --color-primary-bg: #e0e7ff;\n  \n  /* È¢úËâ≤ - ‰∏≠ÊÄßËâ≤ */\n  --color-gray-50: #f9fafb;\n  --color-gray-100: #f3f4f6;\n  --color-gray-200: #e5e7eb;\n  --color-gray-300: #d1d5db;\n  --color-gray-400: #9ca3af;\n  --color-gray-500: #6b7280;\n  --color-gray-600: #4b5563;\n  --color-gray-700: #374151;\n  --color-gray-800: #1f2937;\n  --color-gray-900: #111827;\n  \n  /* È¢úËâ≤ - ÂäüËÉΩËâ≤ */\n  --color-success: #10b981;\n  --color-success-bg: #d1fae5;\n  --color-danger: #ef4444;\n  --color-danger-bg: #fee2e2;\n  --color-warning: #fde047;\n  --color-warning-bg: #fef3c7;\n  --color-info: #0c4a6e;\n  --color-info-bg: #f0f9ff;\n  --color-info-border: #bae6fd;\n  \n  /* Ê∏êÂèò */\n  --gradient-purple: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  --gradient-primary: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n  \n  /* ËÉåÊôØËâ≤ */\n  --bg-white: white;\n  --bg-container: #f3e8ff;\n  \n  /* ËæπÊ°Ü */\n  --border-width: 1px;\n  --border-width-thick: 2px;\n  --border-color: var(--color-gray-200);\n  --border-color-light: var(--color-gray-300);\n  \n  /* ÂúÜËßí */\n  --radius-sm: 4px;\n  --radius-md: 6px;\n  --radius-lg: 8px;\n  --radius-full: 50%;\n  \n  /* Èó¥Ë∑ù */\n  --spacing-xs: 0.25rem;\n  --spacing-sm: 0.5rem;\n  --spacing-md: 0.8rem;\n  --spacing-lg: 1rem;\n  --spacing-xl: 1.5rem;\n  --spacing-2xl: 2rem;\n  \n  /* Â≠ó‰ΩìÂ§ßÂ∞è */\n  --font-xs: 0.75rem;\n  --font-sm: 0.85rem;\n  --font-base: 0.9rem;\n  --font-md: 0.95rem;\n  --font-lg: 1.1rem;\n  --font-xl: 1.2rem;\n  --font-2xl: 1.8rem;\n  \n  /* Â≠ó‰ΩìÁ≤óÁªÜ */\n  --font-normal: 400;\n  --font-medium: 500;\n  --font-semibold: 600;\n  --font-bold: bold;\n  \n  /* Èò¥ÂΩ± */\n  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);\n  --shadow-md: 0 2px 6px rgba(0, 0, 0, 0.08);\n  --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);\n  --shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.25);\n  --shadow-primary: 0 0 0 3px rgba(79, 70, 229, 0.3);\n  --shadow-primary-lg: 0 0 0 4px rgba(79, 70, 229, 0.3), 0 0 20px rgba(79, 70, 229, 0.2);\n  --shadow-hover: 0 4px 12px rgba(79, 70, 229, 0.3);\n  \n  /* ËøáÊ∏° */\n  --transition-fast: 0.15s;\n  --transition-base: 0.2s;\n  --transition-slow: 0.3s;\n  --transition-all: all var(--transition-base);\n  \n  /* Â±ÇÁ∫ß */\n  --z-base: 1;\n  --z-dropdown: 10;\n  --z-modal: 100;\n  --z-dragging: 1000;\n}\n\n",""]);const l=i},762:(e,n,t)=>{t.r(n),t.d(n,{webRRunner:()=>Wn});var r,a=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=e=>{throw TypeError(e)},u=(r=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):r),p=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),f=(e,n,t)=>n.has(e)||d("Cannot "+t),g=(e,n,t)=>(f(e,n,"read from private field"),t?t.call(e):n.get(e)),m=(e,n,t)=>n.has(e)?d("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),h=(e,n,t,r)=>(f(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t),b=(e,n,t)=>(f(e,n,"access private method"),t),y=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getUint64=e.getInt64=e.setInt64=e.setUint64=e.UINT32_MAX=void 0,e.UINT32_MAX=4294967295,e.setUint64=function(e,n,t){let r=t/4294967296,a=t;e.setUint32(n,r),e.setUint32(n+4,a)},e.setInt64=function(e,n,t){let r=Math.floor(t/4294967296),a=t;e.setUint32(n,r),e.setUint32(n+4,a)},e.getInt64=function(e,n){return 4294967296*e.getInt32(n)+e.getUint32(n+4)},e.getUint64=function(e,n){return 4294967296*e.getUint32(n)+e.getUint32(n+4)}}),v=p(e=>{var n,t,r;Object.defineProperty(e,"__esModule",{value:!0}),e.utf8DecodeTD=e.TEXT_DECODER_THRESHOLD=e.utf8DecodeJs=e.utf8EncodeTE=e.TEXT_ENCODER_THRESHOLD=e.utf8EncodeJs=e.utf8Count=void 0;var a=y(),o=(typeof process>"u"||"never"!==(null===(n=null==process?void 0:process.env)||void 0===n?void 0:n.TEXT_ENCODING))&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";e.utf8Count=function(e){let n=e.length,t=0,r=0;for(;r<n;){let a=e.charCodeAt(r++);if(4294967168&a)if(4294965248&a){if(a>=55296&&a<=56319&&r<n){let n=e.charCodeAt(r);56320==(64512&n)&&(++r,a=((1023&a)<<10)+(1023&n)+65536)}t+=4294901760&a?4:3}else t+=2;else t++}return t},e.utf8EncodeJs=function(e,n,t){let r=e.length,a=t,o=0;for(;o<r;){let t=e.charCodeAt(o++);if(4294967168&t){if(4294965248&t){if(t>=55296&&t<=56319&&o<r){let n=e.charCodeAt(o);56320==(64512&n)&&(++o,t=((1023&t)<<10)+(1023&n)+65536)}4294901760&t?(n[a++]=t>>18&7|240,n[a++]=t>>12&63|128,n[a++]=t>>6&63|128):(n[a++]=t>>12&15|224,n[a++]=t>>6&63|128)}else n[a++]=t>>6&31|192;n[a++]=63&t|128}else n[a++]=t}};var i=o?new TextEncoder:void 0;e.TEXT_ENCODER_THRESHOLD=o?typeof process<"u"&&"force"!==(null===(t=null==process?void 0:process.env)||void 0===t?void 0:t.TEXT_ENCODING)?200:0:a.UINT32_MAX,e.utf8EncodeTE=null!=i&&i.encodeInto?function(e,n,t){i.encodeInto(e,n.subarray(t))}:function(e,n,t){n.set(i.encode(e),t)},e.utf8DecodeJs=function(e,n,t){let r=n,a=r+t,o=[],i="";for(;r<a;){let n=e[r++];if(128&n)if(192==(224&n)){let t=63&e[r++];o.push((31&n)<<6|t)}else if(224==(240&n)){let t=63&e[r++],a=63&e[r++];o.push((31&n)<<12|t<<6|a)}else if(240==(248&n)){let t=(7&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];t>65535&&(t-=65536,o.push(t>>>10&1023|55296),t=56320|1023&t),o.push(t)}else o.push(n);else o.push(n);o.length>=4096&&(i+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(i+=String.fromCharCode(...o)),i};var l=o?new TextDecoder:null;e.TEXT_DECODER_THRESHOLD=o?typeof process<"u"&&"force"!==(null===(r=null==process?void 0:process.env)||void 0===r?void 0:r.TEXT_DECODER)?200:0:a.UINT32_MAX,e.utf8DecodeTD=function(e,n,t){let r=e.subarray(n,n+t);return l.decode(r)}}),x=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExtData=void 0,e.ExtData=class{constructor(e,n){this.type=e,this.data=n}}}),w=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DecodeError=void 0;var n=class e extends Error{constructor(n){super(n);let t=Object.create(e.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:e.name})}};e.DecodeError=n}),k=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timestampExtension=e.decodeTimestampExtension=e.decodeTimestampToTimeSpec=e.encodeTimestampExtension=e.encodeDateToTimeSpec=e.encodeTimeSpecToTimestamp=e.EXT_TIMESTAMP=void 0;var n=w(),t=y();function r({sec:e,nsec:n}){if(e>=0&&n>=0&&e<=17179869183){if(0===n&&e<=4294967295){let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}{let t=e/4294967296,r=4294967295&e,a=new Uint8Array(8),o=new DataView(a.buffer);return o.setUint32(0,n<<2|3&t),o.setUint32(4,r),a}}{let r=new Uint8Array(12),a=new DataView(r.buffer);return a.setUint32(0,n),(0,t.setInt64)(a,4,e),r}}function a(e){let n=e.getTime(),t=Math.floor(n/1e3),r=1e6*(n-1e3*t),a=Math.floor(r/1e9);return{sec:t+a,nsec:r-1e9*a}}function o(e){return e instanceof Date?r(a(e)):null}function i(e){let r=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:r.getUint32(0),nsec:0};case 8:{let e=r.getUint32(0);return{sec:4294967296*(3&e)+r.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,t.getInt64)(r,4),nsec:r.getUint32(0)};default:throw new n.DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function l(e){let n=i(e);return new Date(1e3*n.sec+n.nsec/1e6)}e.EXT_TIMESTAMP=-1,e.encodeTimeSpecToTimestamp=r,e.encodeDateToTimeSpec=a,e.encodeTimestampExtension=o,e.decodeTimestampToTimeSpec=i,e.decodeTimestampExtension=l,e.timestampExtension={type:e.EXT_TIMESTAMP,encode:o,decode:l}}),_=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionCodec=void 0;var n=x(),t=k(),r=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(t.timestampExtension)}register({type:e,encode:n,decode:t}){if(e>=0)this.encoders[e]=n,this.decoders[e]=t;else{let r=1+e;this.builtInEncoders[r]=n,this.builtInDecoders[r]=t}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let a=this.builtInEncoders[r];if(null!=a){let o=a(e,t);if(null!=o){let e=-1-r;return new n.ExtData(e,o)}}}for(let r=0;r<this.encoders.length;r++){let a=this.encoders[r];if(null!=a){let o=a(e,t);if(null!=o){let e=r;return new n.ExtData(e,o)}}}return e instanceof n.ExtData?e:null}decode(e,t,r){let a=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return a?a(e,t,r):new n.ExtData(t,e)}};e.ExtensionCodec=r,r.defaultCodec=new r}),S=p(e=>{function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createDataView=e.ensureUint8Array=void 0,e.ensureUint8Array=n,e.createDataView=function(e){if(e instanceof ArrayBuffer)return new DataView(e);let t=n(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}}),E=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Encoder=e.DEFAULT_INITIAL_BUFFER_SIZE=e.DEFAULT_MAX_DEPTH=void 0;var n=v(),t=_(),r=y(),a=S();e.DEFAULT_MAX_DEPTH=100,e.DEFAULT_INITIAL_BUFFER_SIZE=2048,e.Encoder=class{constructor(n=t.ExtensionCodec.defaultCodec,r=void 0,a=e.DEFAULT_MAX_DEPTH,o=e.DEFAULT_INITIAL_BUFFER_SIZE,i=!1,l=!1,s=!1,c=!1){this.extensionCodec=n,this.context=r,this.maxDepth=a,this.initialBufferSize=o,this.sortKeys=i,this.forceFloat32=l,this.ignoreUndefined=s,this.forceIntegerToFloat=c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}reinitializeState(){this.pos=0}encodeSharedRef(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}encode(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){let n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(2*n)}resizeBuffer(e){let n=new ArrayBuffer(e),t=new Uint8Array(n),r=new DataView(n);t.set(this.bytes),this.view=r,this.bytes=t}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){if(e.length>n.TEXT_ENCODER_THRESHOLD){let t=(0,n.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,n.utf8EncodeTE)(e,this.bytes,this.pos),this.pos+=t}else{let t=(0,n.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,n.utf8EncodeJs)(e,this.bytes,this.pos),this.pos+=t}}encodeObject(e,n){let t=this.extensionCodec.tryToEncode(e,this.context);if(null!=t)this.encodeExtension(t);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,n)}}encodeBinary(e){let n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large binary: ${n}`);this.writeU8(198),this.writeU32(n)}let t=(0,a.ensureUint8Array)(e);this.writeU8a(t)}encodeArray(e,n){let t=e.length;if(t<16)this.writeU8(144+t);else if(t<65536)this.writeU8(220),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large array: ${t}`);this.writeU8(221),this.writeU32(t)}for(let t of e)this.doEncode(t,n+1)}countWithoutUndefined(e,n){let t=0;for(let r of n)void 0!==e[r]&&t++;return t}encodeMap(e,n){let t=Object.keys(e);this.sortKeys&&t.sort();let r=this.ignoreUndefined?this.countWithoutUndefined(e,t):t.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large map object: ${r}`);this.writeU8(223),this.writeU32(r)}for(let r of t){let t=e[r];this.ignoreUndefined&&void 0===t||(this.encodeString(r),this.doEncode(t,n+1))}}encodeExtension(e){let n=e.data.length;if(1===n)this.writeU8(212);else if(2===n)this.writeU8(213);else if(4===n)this.writeU8(214);else if(8===n)this.writeU8(215);else if(16===n)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large extension object: ${n}`);this.writeU8(201),this.writeU32(n)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,r.setUint64)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,r.setInt64)(this.view,this.pos,e),this.pos+=8}}}),j=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encode=void 0;var n=E(),t={};e.encode=function(e,r=t){return new n.Encoder(r.extensionCodec,r.context,r.maxDepth,r.initialBufferSize,r.sortKeys,r.forceFloat32,r.ignoreUndefined,r.forceIntegerToFloat).encodeSharedRef(e)}}),C=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.prettyByte=void 0,e.prettyByte=function(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}}),T=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CachedKeyDecoder=void 0;var n=v();e.CachedKeyDecoder=class{constructor(e=16,n=16){this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,t){let r=this.caches[t-1];e:for(let a of r){let r=a.bytes;for(let a=0;a<t;a++)if(r[a]!==e[n+a])continue e;return a.str}return null}store(e,n){let t=this.caches[e.length-1],r={bytes:e,str:n};t.length>=this.maxLengthPerKey?t[Math.random()*t.length|0]=r:t.push(r)}decode(e,t,r){let a=this.find(e,t,r);if(null!=a)return this.hit++,a;this.miss++;let o=(0,n.utf8DecodeJs)(e,t,r),i=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(i,o),o}}}),N=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.DataViewIndexOutOfBoundsError=void 0;var n=C(),t=_(),r=y(),a=v(),o=S(),i=T(),l=w(),s=e=>{let n=typeof e;return"string"===n||"number"===n},c=new DataView(new ArrayBuffer(0)),d=new Uint8Array(c.buffer);e.DataViewIndexOutOfBoundsError=(()=>{try{c.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();var u=new e.DataViewIndexOutOfBoundsError("Insufficient data"),p=new i.CachedKeyDecoder;e.Decoder=class{constructor(e=t.ExtensionCodec.defaultCodec,n=void 0,a=r.UINT32_MAX,o=r.UINT32_MAX,i=r.UINT32_MAX,l=r.UINT32_MAX,s=r.UINT32_MAX,u=p){this.extensionCodec=e,this.context=n,this.maxStrLength=a,this.maxBinLength=o,this.maxArrayLength=i,this.maxMapLength=l,this.maxExtLength=s,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=c,this.bytes=d,this.headByte=-1,this.stack=[]}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.length=0}setBuffer(e){this.bytes=(0,o.ensureUint8Array)(e),this.view=(0,o.createDataView)(this.bytes),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let n=this.bytes.subarray(this.pos),t=(0,o.ensureUint8Array)(e),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:n,pos:t}=this;return new RangeError(`Extra ${n.byteLength-t} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){this.reinitializeState(),this.setBuffer(e);let n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}*decodeMulti(e){for(this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}async decodeAsync(t){let r,a=!1;for await(let n of t){if(a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{r=this.doDecodeSync(),a=!0}catch(n){if(!(n instanceof e.DataViewIndexOutOfBoundsError))throw n}this.totalPos+=this.pos}if(a){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}let{headByte:o,pos:i,totalPos:l}=this;throw new RangeError(`Insufficient data in parsing ${(0,n.prettyByte)(o)} at ${l} (${i} in the current buffer)`)}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(n,t){let r=t,a=-1;for await(let o of n){if(t&&0===a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),r&&(a=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--a;);}catch(n){if(!(n instanceof e.DataViewIndexOutOfBoundsError))throw n}this.totalPos+=this.pos}}doDecodeSync(){e:for(;;){let e,t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){let n=t-128;if(0!==n){this.pushMapState(n),this.complete();continue e}e={}}else if(t<160){let n=t-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}e=[]}else{let n=t-160;e=this.decodeUtf8String(n,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.readI64();else if(217===t){let n=this.lookU8();e=this.decodeUtf8String(n,1)}else if(218===t){let n=this.lookU16();e=this.decodeUtf8String(n,2)}else if(219===t){let n=this.lookU32();e=this.decodeUtf8String(n,4)}else if(220===t){let n=this.readU16();if(0!==n){this.pushArrayState(n),this.complete();continue e}e=[]}else if(221===t){let n=this.readU32();if(0!==n){this.pushArrayState(n),this.complete();continue e}e=[]}else if(222===t){let n=this.readU16();if(0!==n){this.pushMapState(n),this.complete();continue e}e={}}else if(223===t){let n=this.readU32();if(0!==n){this.pushMapState(n),this.complete();continue e}e={}}else if(196===t){let n=this.lookU8();e=this.decodeBinary(n,1)}else if(197===t){let n=this.lookU16();e=this.decodeBinary(n,2)}else if(198===t){let n=this.lookU32();e=this.decodeBinary(n,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let n=this.lookU8();e=this.decodeExtension(n,1)}else if(200===t){let n=this.lookU16();e=this.decodeExtension(n,2)}else{if(201!==t)throw new l.DecodeError(`Unrecognized type byte: ${(0,n.prettyByte)(t)}`);{let n=this.lookU32();e=this.decodeExtension(n,4)}}this.complete();let r=this.stack;for(;r.length>0;){let n=r[r.length-1];if(0===n.type){if(n.array[n.position]=e,n.position++,n.position!==n.size)continue e;r.pop(),e=n.array}else{if(1===n.type){if(!s(e))throw new l.DecodeError("The type of key must be string or number but "+typeof e);if("__proto__"===e)throw new l.DecodeError("The key __proto__ is not allowed");n.key=e,n.type=2;continue e}if(n.map[n.key]=e,n.readCount++,n.readCount!==n.size){n.key=null,n.type=1;continue e}r.pop(),e=n.map}}return e}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new l.DecodeError(`Unrecognized array type byte: ${(0,n.prettyByte)(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new l.DecodeError(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})}pushArrayState(e){if(e>this.maxArrayLength)throw new l.DecodeError(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:0,size:e,array:new Array(e),position:0})}decodeUtf8String(e,n){var t;if(e>this.maxStrLength)throw new l.DecodeError(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw u;let r,o=this.pos+n;return r=this.stateIsMapKey()&&null!==(t=this.keyDecoder)&&void 0!==t&&t.canBeCached(e)?this.keyDecoder.decode(this.bytes,o,e):e>a.TEXT_DECODER_THRESHOLD?(0,a.utf8DecodeTD)(this.bytes,o,e):(0,a.utf8DecodeJs)(this.bytes,o,e),this.pos+=n+e,r}stateIsMapKey(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type}decodeBinary(e,n){if(e>this.maxBinLength)throw new l.DecodeError(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw u;let t=this.pos+n,r=this.bytes.subarray(t,t+e);return this.pos+=n+e,r}decodeExtension(e,n){if(e>this.maxExtLength)throw new l.DecodeError(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let t=this.view.getInt8(this.pos+n),r=this.decodeBinary(e,n+1);return this.extensionCodec.decode(r,t,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=(0,r.getUint64)(this.view,this.pos);return this.pos+=8,e}readI64(){let e=(0,r.getInt64)(this.view,this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}}),A=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMulti=e.decode=e.defaultDecodeOptions=void 0;var n=N();e.defaultDecodeOptions={},e.decode=function(t,r=e.defaultDecodeOptions){return new n.Decoder(r.extensionCodec,r.context,r.maxStrLength,r.maxBinLength,r.maxArrayLength,r.maxMapLength,r.maxExtLength).decode(t)},e.decodeMulti=function(t,r=e.defaultDecodeOptions){return new n.Decoder(r.extensionCodec,r.context,r.maxStrLength,r.maxBinLength,r.maxArrayLength,r.maxMapLength,r.maxExtLength).decodeMulti(t)}}),R=p(e=>{function n(e){return null!=e[Symbol.asyncIterator]}function t(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*r(e){let n=e.getReader();try{for(;;){let{done:e,value:r}=await n.read();if(e)return;t(r),yield r}}finally{n.releaseLock()}}Object.defineProperty(e,"__esModule",{value:!0}),e.ensureAsyncIterable=e.asyncIterableFromStream=e.isAsyncIterable=void 0,e.isAsyncIterable=n,e.asyncIterableFromStream=r,e.ensureAsyncIterable=function(e){return n(e)?e:r(e)}}),O=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeStream=e.decodeMultiStream=e.decodeArrayStream=e.decodeAsync=void 0;var n=N(),t=R(),r=A();function a(e,a=r.defaultDecodeOptions){let o=(0,t.ensureAsyncIterable)(e);return new n.Decoder(a.extensionCodec,a.context,a.maxStrLength,a.maxBinLength,a.maxArrayLength,a.maxMapLength,a.maxExtLength).decodeStream(o)}e.decodeAsync=async function(e,a=r.defaultDecodeOptions){let o=(0,t.ensureAsyncIterable)(e);return new n.Decoder(a.extensionCodec,a.context,a.maxStrLength,a.maxBinLength,a.maxArrayLength,a.maxMapLength,a.maxExtLength).decodeAsync(o)},e.decodeArrayStream=function(e,a=r.defaultDecodeOptions){let o=(0,t.ensureAsyncIterable)(e);return new n.Decoder(a.extensionCodec,a.context,a.maxStrLength,a.maxBinLength,a.maxArrayLength,a.maxMapLength,a.maxExtLength).decodeArrayStream(o)},e.decodeMultiStream=a,e.decodeStream=function(e,n=r.defaultDecodeOptions){return a(e,n)}}),M=p(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTimestampExtension=e.encodeTimestampExtension=e.decodeTimestampToTimeSpec=e.encodeTimeSpecToTimestamp=e.encodeDateToTimeSpec=e.EXT_TIMESTAMP=e.ExtData=e.ExtensionCodec=e.Encoder=e.DataViewIndexOutOfBoundsError=e.DecodeError=e.Decoder=e.decodeStream=e.decodeMultiStream=e.decodeArrayStream=e.decodeAsync=e.decodeMulti=e.decode=e.encode=void 0;var n=j();Object.defineProperty(e,"encode",{enumerable:!0,get:function(){return n.encode}});var t=A();Object.defineProperty(e,"decode",{enumerable:!0,get:function(){return t.decode}}),Object.defineProperty(e,"decodeMulti",{enumerable:!0,get:function(){return t.decodeMulti}});var r=O();Object.defineProperty(e,"decodeAsync",{enumerable:!0,get:function(){return r.decodeAsync}}),Object.defineProperty(e,"decodeArrayStream",{enumerable:!0,get:function(){return r.decodeArrayStream}}),Object.defineProperty(e,"decodeMultiStream",{enumerable:!0,get:function(){return r.decodeMultiStream}}),Object.defineProperty(e,"decodeStream",{enumerable:!0,get:function(){return r.decodeStream}});var a=N();Object.defineProperty(e,"Decoder",{enumerable:!0,get:function(){return a.Decoder}}),Object.defineProperty(e,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return a.DataViewIndexOutOfBoundsError}});var o=w();Object.defineProperty(e,"DecodeError",{enumerable:!0,get:function(){return o.DecodeError}});var i=E();Object.defineProperty(e,"Encoder",{enumerable:!0,get:function(){return i.Encoder}});var l=_();Object.defineProperty(e,"ExtensionCodec",{enumerable:!0,get:function(){return l.ExtensionCodec}});var s=x();Object.defineProperty(e,"ExtData",{enumerable:!0,get:function(){return s.ExtData}});var c=k();Object.defineProperty(e,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return c.EXT_TIMESTAMP}}),Object.defineProperty(e,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return c.encodeDateToTimeSpec}}),Object.defineProperty(e,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return c.encodeTimeSpecToTimestamp}}),Object.defineProperty(e,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return c.decodeTimestampToTimeSpec}}),Object.defineProperty(e,"encodeTimestampExtension",{enumerable:!0,get:function(){return c.encodeTimestampExtension}}),Object.defineProperty(e,"decodeTimestampExtension",{enumerable:!0,get:function(){return c.decodeTimestampExtension}})}),I=class extends Error{constructor(e){super(e),this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}},z=class extends I{},P=class extends I{},L=class extends I{},D=typeof process<"u"&&process.release&&"node"===process.release.name;if(globalThis.document);else if(globalThis.importScripts);else if(!D)throw new I("Cannot determine runtime environment");var $={null:0,symbol:1,pairlist:2,closure:3,environment:4,promise:5,call:6,special:7,builtin:8,string:9,logical:10,integer:13,double:14,complex:15,character:16,dots:17,any:18,list:19,expression:20,bytecode:21,pointer:22,weakref:23,raw:24,s4:25,new:30,free:31,function:99};function U(e){return!!e&&"object"==typeof e&&Object.keys($).includes(e.type)}function B(e){return!!e&&"object"==typeof e&&"re"in e&&"im"in e}var F={};function q(e){return F._Rf_protect(J(e)),e}function W(e,n){return F._Rf_protect(J(e)),++n.n,e}function V(e){F._Rf_unprotect(e)}function G(e,n,t){F._Rf_defineVar(J(n),J(t),J(e))}function H(e,n){let t={},r={n:0};try{let a=new he(n);W(a,r),t.code=F.allocateUTF8(e);let o=F._R_ParseEvalString(t.code,a.ptr);return oe.wrap(o)}finally{(function(e){Object.keys(e).forEach(n=>F._free(e[n]))})(t),V(r.n)}}function X(e,n){return F.getWasmTableEntry(F.GOT.ffi_safe_eval.value)(J(e),J(n))}var Y=new WeakMap;function Q(){let e=Array.from({length:4},K).join("-");if(63!==e.length)throw new Error("comlink internal error: UUID has the wrong length");return e}function K(){let e=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16),n=15-e.length;return n>0&&(e=Array.from({length:n},()=>0).join("")+e),e}function J(e){return De(e)?e.ptr:e}function Z(e,n){if(F._TYPEOF(e.ptr)!==$[n])throw new Error(`Unexpected object type "${e.type()}" when expecting type "${n}"`)}function ee(e){if(U(e))return new(Le(e.type))(e);if(typeof e>"u")return new ie;if(e&&"object"==typeof e&&"type"in e&&"null"===e.type)return new ie;if(null===e)return new xe({type:"logical",names:null,values:[null]});if("boolean"==typeof e)return new xe(e);if("number"==typeof e)return new je(e);if("string"==typeof e)return new Oe(e);if(B(e))return new Ne(e);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)return new ze(e);if(Array.isArray(e))return function(e){let n={n:0};if(e.every(e=>e&&"object"==typeof e&&!De(e)&&!B(e))){let n=e,t=n.every(e=>0===Object.keys(e).filter(e=>!Object.keys(n[0]).includes(e)).length&&0===Object.keys(n[0]).filter(n=>!Object.keys(e).includes(n)).length),r=n.every(e=>Object.values(e).every(e=>Ue(e)||$e(e)));if(t&&r)return ue.fromD3(n)}if(e.every(e=>"boolean"==typeof e||null===e))return new xe(e);if(e.every(e=>"number"==typeof e||null===e))return new je(e);if(e.every(e=>"string"==typeof e||null===e))return new Oe(e);try{let t=new ce([new le("c"),...e]);return W(t,n),t.eval()}finally{V(n.n)}}(e);if("object"==typeof e)return ue.fromObject(e);throw new Error("R object construction for this JS object is not yet supported.")}var ne,te,re=class{constructor(e){this.ptr=e}type(){let e=F._TYPEOF(this.ptr);return Object.keys($).find(n=>$[n]===e)}},ae=class e extends re{constructor(e){if(!(e instanceof re))return ee(e);super(e.ptr),m(this,ne)}static wrap(e){let n=F._TYPEOF(e);return new(Le(Object.keys($)[Object.values($).indexOf(n)]))(new re(e))}get[Symbol.toStringTag](){return`RObject:${this.type()}`}static getPersistentObject(e){return Ie[e]}getPropertyValue(e){return this[e]}inspect(){H(".Internal(inspect(x))",{x:this})}isNull(){return F._TYPEOF(this.ptr)===$.null}isNa(){try{let e=H("is.na(x)",{x:this});return q(e),e.toBoolean()}finally{V(1)}}isUnbound(){return this.ptr===Ie.unboundValue.ptr}attrs(){return se.wrap(F._ATTRIB(this.ptr))}class(){let e={n:0},n=new ce([new le("class"),this]);W(n,e);try{return n.eval()}finally{V(e.n)}}setNames(e){let n;if(null===e)n=Ie.null;else{if(!Array.isArray(e)||!e.every(e=>"string"==typeof e||null===e))throw new Error("Argument to setNames must be null or an Array of strings or null");n=new Oe(e)}return F._Rf_setAttrib(this.ptr,Ie.namesSymbol.ptr,n.ptr),this}names(){let e=Oe.wrap(F._Rf_getAttrib(this.ptr,Ie.namesSymbol.ptr));return e.isNull()?null:e.toArray()}includes(e){let n=this.names();return n&&n.includes(e)}toJs(e={depth:0},n=1){throw new Error("This R object cannot be converted to JS")}subset(e){return b(this,ne,te).call(this,e,Ie.bracketSymbol.ptr)}get(e){return b(this,ne,te).call(this,e,Ie.bracket2Symbol.ptr)}getDollar(e){return b(this,ne,te).call(this,e,Ie.dollarSymbol.ptr)}pluck(...e){let n=function(e){let n=F._malloc(4);return F._R_ProtectWithIndex(J(e),n),{loc:F.getValue(n,"i32"),ptr:n}}(Ie.null);try{let t=(e,t)=>function(e,n){return F._R_Reprotect(J(e),n.loc),e}(e.get(t),n),r=e.reduce(t,this);return r.isNull()?void 0:r}finally{!function(e){F._Rf_unprotect(1),F._free(e.ptr)}(n)}}set(n,t){let r={n:0};try{let a=new e(n);W(a,r);let o=new e(t);W(o,r);let i=new le("[[<-"),l=F._Rf_lang4(i.ptr,this.ptr,a.ptr,o.ptr);return W(l,r),e.wrap(X(l,Ie.baseEnv))}finally{V(r.n)}}static getMethods(e){let n=new Set,t=e;do{Object.getOwnPropertyNames(t).map(e=>n.add(e))}while(t=Object.getPrototypeOf(t));return[...n.keys()].filter(n=>"function"==typeof e[n])}};ne=new WeakSet,te=function(e,n){let t={n:0};try{let r=new ae(e);W(r,t);let a=F._Rf_lang3(n,this.ptr,r.ptr);return W(a,t),ae.wrap(X(a,Ie.baseEnv))}finally{V(t.n)}};var oe=ae,ie=class extends oe{constructor(){return super(new re(F.getValue(F._R_NilValue,"*"))),this}toJs(){return{type:"null"}}},le=class extends oe{constructor(e){if(e instanceof re)return Z(e,"symbol"),void super(e);let n=F.allocateUTF8(e);try{super(new re(F._Rf_install(n)))}finally{F._free(n)}}toJs(){let e=this.toObject();return{type:"symbol",printname:e.printname,symvalue:e.symvalue,internal:e.internal}}toObject(){return{printname:this.printname().isUnbound()?null:this.printname().toString(),symvalue:this.symvalue().isUnbound()?null:this.symvalue().ptr,internal:this.internal().isNull()?null:this.internal().ptr}}toString(){return this.printname().toString()}printname(){return me.wrap(F._PRINTNAME(this.ptr))}symvalue(){return oe.wrap(F._SYMVALUE(this.ptr))}internal(){return oe.wrap(F._INTERNAL(this.ptr))}},se=class e extends oe{constructor(n){if(n instanceof re)return Z(n,"pairlist"),super(n),this;let t={n:0};try{let{names:r,values:a}=Pe(n),o=e.wrap(F._Rf_allocList(a.length));W(o,t);for(let[e,n]=[0,o];!n.isNull();[e,n]=[e+1,n.cdr()])n.setcar(new oe(a[e]));o.setNames(r),super(o)}finally{V(t.n)}}get length(){return this.toArray().length}toArray(e={depth:1}){return this.toJs(e).values}toObject({allowDuplicateKey:e=!0,allowEmptyKey:n=!1,depth:t=-1}={}){let r=this.entries({depth:t}),a=r.map(([e])=>e);if(!e&&new Set(a).size!==a.length)throw new Error("Duplicate key when converting pairlist without allowDuplicateKey enabled");if(!n&&a.some(e=>!e))throw new Error("Empty or null key when converting pairlist without allowEmptyKey enabled");return Object.fromEntries(r.filter((e,n)=>r.findIndex(n=>n[0]===e[0])===n))}entries(e={depth:1}){let n=this.toJs(e);return n.values.map((e,t)=>[n.names?n.names[t]:null,e])}toJs(e={depth:0},n=1){let t=[],r=!1,a=[];for(let o=this;!o.isNull();o=o.cdr()){let i=o.tag();i.isNull()?t.push(""):(r=!0,t.push(i.toString())),e.depth&&n>=e.depth?a.push(o.car()):a.push(o.car().toJs(e,n+1))}return{type:"pairlist",names:r?t:null,values:a}}includes(e){return e in this.toObject()}setcar(e){F._SETCAR(this.ptr,e.ptr)}car(){return oe.wrap(F._CAR(this.ptr))}cdr(){return oe.wrap(F._CDR(this.ptr))}tag(){return oe.wrap(F._TAG(this.ptr))}},ce=class e extends oe{constructor(n){if(n instanceof re)return Z(n,"call"),super(n),this;let t={n:0};try{let{values:r}=Pe(n),a=r.map(e=>W(new oe(e),t)),o=e.wrap(F._Rf_allocVector($.call,r.length));W(o,t);for(let[e,n]=[0,o];!n.isNull();[e,n]=[e+1,n.cdr()])n.setcar(a[e]);super(o)}finally{V(t.n)}}setcar(e){F._SETCAR(this.ptr,e.ptr)}car(){return oe.wrap(F._CAR(this.ptr))}cdr(){return oe.wrap(F._CDR(this.ptr))}eval(){return F.webr.evalR(this,{env:Ie.baseEnv})}capture(e={}){return F.webr.captureR(this,e)}deparse(){let e={n:0};try{let n=F._Rf_lang2(new le("deparse1").ptr,F._Rf_lang2(new le("quote").ptr,this.ptr));W(n,e);let t=Oe.wrap(X(n,Ie.baseEnv));return W(t,e),t.toString()}finally{V(e.n)}}},de=class e extends oe{constructor(n,t=null){if(n instanceof re){if(Z(n,"list"),super(n),t){if(t.length!==this.length)throw new Error("Can't construct named `RList`. Supplied `names` must be the same length as the list.");this.setNames(t)}return this}let r={n:0};try{let a=Pe(n),o=F._Rf_allocVector($.list,a.values.length);W(o,r),a.values.forEach((n,t)=>{!function(e){return!("object"!=typeof e||null===e||Array.isArray(e)||ArrayBuffer.isView(e)||B(e)||U(e)||e instanceof Date||e instanceof RegExp||e instanceof Error||e instanceof re||Object.getPrototypeOf(e)!==Object.prototype)}(n)?F._SET_VECTOR_ELT(o,t,new oe(n).ptr):F._SET_VECTOR_ELT(o,t,new e(n).ptr)});let i=t||a.names;if(i&&i.length!==a.values.length)throw new Error("Can't construct named `RList`. Supplied `names` must be the same length as the list.");oe.wrap(o).setNames(i),super(new re(o))}finally{V(r.n)}}get length(){return F._LENGTH(this.ptr)}isDataFrame(){let e=se.wrap(F._ATTRIB(this.ptr)).get("class");return!e.isNull()&&e.toArray().includes("data.frame")}toArray(e={depth:1}){return this.toJs(e).values}toObject({allowDuplicateKey:e=!0,allowEmptyKey:n=!1,depth:t=-1}={}){let r=this.entries({depth:t}),a=r.map(([e])=>e);if(!e&&new Set(a).size!==a.length)throw new Error("Duplicate key when converting list without allowDuplicateKey enabled");if(!n&&a.some(e=>!e))throw new Error("Empty or null key when converting list without allowEmptyKey enabled");return Object.fromEntries(r.filter((e,n)=>r.findIndex(n=>n[0]===e[0])===n))}toD3(){if(!this.isDataFrame())throw new Error("Can't convert R list object to D3 format. Object must be of class 'data.frame'.");return this.entries().reduce((e,n)=>(n[1].forEach((t,r)=>e[r]=Object.assign(e[r]||{},{[n[0]]:t})),e),[])}entries(e={depth:-1}){let n=this.toJs(e);return this.isDataFrame()&&e.depth<0&&(n.values=n.values.map(e=>e.toArray())),n.values.map((e,t)=>[n.names?n.names[t]:null,e])}toJs(e={depth:0},n=1){return{type:"list",names:this.names(),values:[...Array(this.length).keys()].map(t=>e.depth&&n>=e.depth?this.get(t+1):this.get(t+1).toJs(e,n+1))}}},ue=class e extends de{constructor(n){if(n instanceof re){if(super(n),!this.isDataFrame())throw new Error("Can't construct `RDataFrame`. Supplied R object is not a `data.frame`.");return this}return e.fromObject(n)}static fromObject(n){let{names:t,values:r}=Pe(n),a={n:0};try{let n=!!t&&t.length>0&&t.every(e=>e),o=r.length>0&&r.every(e=>Array.isArray(e)||ArrayBuffer.isView(e)||e instanceof ArrayBuffer);if(n&&o){let n=r,o=n.every(e=>e.length===n[0].length),i=n.every(e=>Ue(e[0])||$e(e[0]));if(o&&i){let r=new de({type:"list",names:t,values:n.map(e=>ee(e))});W(r,a);let o=new ce([new le("as.data.frame"),r]);return W(o,a),new e(o.eval())}}}finally{V(a.n)}throw new Error("Can't construct `data.frame`. Source object is not eligible.")}static fromD3(e){return this.fromObject(Object.fromEntries(Object.keys(e[0]).map(n=>[n,e.map(e=>e[n])])))}},pe=class extends oe{exec(...e){let n={n:0};try{let t=new ce([this,...e]);return W(t,n),t.eval()}finally{V(n.n)}}capture(e={},...n){let t={n:0};try{let r=new ce([this,...n]);return W(r,t),r.capture(e)}finally{V(t.n)}}},fe=class e extends oe{constructor(n){if(n instanceof re)return Z(n,"string"),void super(n);let t=F.allocateUTF8(n);try{super(new re(F._Rf_mkCharCE(t,e.CEType.CE_UTF8)))}finally{F._free(t)}}toString(){let e=F._vmaxget();try{return F.UTF8ToString(F._Rf_translateCharUTF8(this.ptr))}finally{F._vmaxset(e)}}toJs(){return{type:"string",value:this.toString()}}};fe.CEType={CE_NATIVE:0,CE_UTF8:1,CE_LATIN1:2,CE_BYTES:3,CE_SYMBOL:5,CE_ANY:99};var ge,me=fe,he=class extends oe{constructor(e={}){if(e instanceof re)return Z(e,"environment"),super(e),this;let n=0;try{let{names:t,values:r}=Pe(e),a=q(F._R_NewEnv(Ie.globalEnv.ptr,0,0));++n,r.forEach((e,n)=>{let r=t?t[n]:null;if(!r)throw new Error("Can't create object in new environment with empty symbol name");let o=new le(r),i=q(new oe(e));try{G(a,o,i)}finally{V(1)}}),super(new re(a))}finally{V(n)}}ls(e=!1,n=!0){return Oe.wrap(F._R_lsInternal3(this.ptr,Number(e),Number(n))).toArray()}bind(e,n){let t=new le(e),r=q(new oe(n));try{G(this,t,r)}finally{V(1)}}names(){return this.ls(!0,!0)}frame(){return oe.wrap(F._FRAME(this.ptr))}subset(e){if("number"==typeof e)throw new Error("Object of type environment is not subsettable");return this.getDollar(e)}toObject({depth:e=-1}={}){let n=this.names();return Object.fromEntries([...Array(n.length).keys()].map(t=>{let r=this.getDollar(n[t]);return[n[t],e<0?r:r.toJs({depth:e})]}))}toJs(e={depth:0},n=1){let t=this.names(),r=[...Array(t.length).keys()].map(r=>e.depth&&n>=e.depth?this.getDollar(t[r]):this.getDollar(t[r]).toJs(e,n+1));return{type:"environment",names:t,values:r}}},be=class extends oe{constructor(e,n,t){if(e instanceof re)return Z(e,n),super(e),this;let r={n:0};try{let{names:a,values:o}=Pe(e),i=F._Rf_allocVector($[n],o.length);W(i,r),o.forEach(t(i)),oe.wrap(i).setNames(a),super(new re(i))}finally{V(r.n)}}get length(){return F._LENGTH(this.ptr)}get(e){return super.get(e)}subset(e){return super.subset(e)}getDollar(){throw new Error("$ operator is invalid for atomic vectors")}detectMissing(){let e={n:0};try{let n=F._Rf_lang2(new le("is.na").ptr,this.ptr);W(n,e);let t=xe.wrap(X(n,Ie.baseEnv));W(t,e);let r=t.toTypedArray();return Array.from(r).map(e=>!!e)}finally{V(e.n)}}toArray(){let e=this.toTypedArray();return this.detectMissing().map((n,t)=>n?null:e[t])}toObject({allowDuplicateKey:e=!0,allowEmptyKey:n=!1}={}){let t=this.entries(),r=t.map(([e])=>e);if(!e&&new Set(r).size!==r.length)throw new Error("Duplicate key when converting atomic vector without allowDuplicateKey enabled");if(!n&&r.some(e=>!e))throw new Error("Empty or null key when converting atomic vector without allowEmptyKey enabled");return Object.fromEntries(t.filter((e,n)=>t.findIndex(n=>n[0]===e[0])===n))}entries(){let e=this.toArray(),n=this.names();return e.map((e,t)=>[n?n[t]:null,e])}toJs(){return{type:this.type(),names:this.names(),values:this.toArray()}}},ye=class e extends be{constructor(n){super(n,"logical",g(e,ge))}getBoolean(e){return this.get(e).toArray()[0]}toBoolean(){if(1!==this.length)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getBoolean(1);if(null===e)throw new Error("Can't convert missing value `NA` to a JS boolean");return e}toTypedArray(){return new Int32Array(F.HEAP32.subarray(F._LOGICAL(this.ptr)/4,F._LOGICAL(this.ptr)/4+this.length))}toArray(){let e=this.toTypedArray();return this.detectMissing().map((n,t)=>n?null:!!e[t])}};ge=new WeakMap,m(ye,ge,e=>{let n=F._LOGICAL(e),t=F.getValue(F._R_NaInt,"i32");return(e,r)=>{F.setValue(n+4*r,null===e?t:!!e,"i32")}});var ve,xe=ye,we=class e extends be{constructor(n){super(n,"integer",g(e,ve))}getNumber(e){return this.get(e).toArray()[0]}toNumber(){if(1!==this.length)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getNumber(1);if(null===e)throw new Error("Can't convert missing value `NA` to a JS number");return e}toTypedArray(){return new Int32Array(F.HEAP32.subarray(F._INTEGER(this.ptr)/4,F._INTEGER(this.ptr)/4+this.length))}};ve=new WeakMap,m(we,ve,e=>{let n=F._INTEGER(e),t=F.getValue(F._R_NaInt,"i32");return(e,r)=>{F.setValue(n+4*r,null===e?t:Math.round(Number(e)),"i32")}});var ke,_e=we,Se=class e extends be{constructor(n){super(n,"double",g(e,ke))}getNumber(e){return this.get(e).toArray()[0]}toNumber(){if(1!==this.length)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getNumber(1);if(null===e)throw new Error("Can't convert missing value `NA` to a JS number");return e}toTypedArray(){return new Float64Array(F.HEAPF64.subarray(F._REAL(this.ptr)/8,F._REAL(this.ptr)/8+this.length))}};ke=new WeakMap,m(Se,ke,e=>{let n=F._REAL(e),t=F.getValue(F._R_NaReal,"double");return(e,r)=>{F.setValue(n+8*r,null===e?t:e,"double")}});var Ee,je=Se,Ce=class e extends be{constructor(n){super(n,"complex",g(e,Ee))}getComplex(e){return this.get(e).toArray()[0]}toComplex(){if(1!==this.length)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getComplex(1);if(null===e)throw new Error("Can't convert missing value `NA` to a JS object");return e}toTypedArray(){return new Float64Array(F.HEAPF64.subarray(F._COMPLEX(this.ptr)/8,F._COMPLEX(this.ptr)/8+2*this.length))}toArray(){let e=this.toTypedArray();return this.detectMissing().map((n,t)=>n?null:{re:e[2*t],im:e[2*t+1]})}};Ee=new WeakMap,m(Ce,Ee,e=>{let n=F._COMPLEX(e),t=F.getValue(F._R_NaReal,"double");return(e,r)=>{F.setValue(n+2*r*8,null===e?t:e.re,"double"),F.setValue(n+8*(2*r+1),null===e?t:e.im,"double")}});var Te,Ne=Ce,Ae=class e extends be{constructor(n){super(n,"character",g(e,Te))}getString(e){return this.get(e).toArray()[0]}toString(){if(1!==this.length)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getString(1);if(null===e)throw new Error("Can't convert missing value `NA` to a JS string");return e}toTypedArray(){return new Uint32Array(F.HEAPU32.subarray(F._STRING_PTR(this.ptr)/4,F._STRING_PTR(this.ptr)/4+this.length))}toArray(){let e=F._vmaxget();try{return this.detectMissing().map((e,n)=>e?null:F.UTF8ToString(F._Rf_translateCharUTF8(F._STRING_ELT(this.ptr,n))))}finally{F._vmaxset(e)}}};Te=new WeakMap,m(Ae,Te,e=>(n,t)=>{null===n?F._SET_STRING_ELT(e,t,Ie.naString.ptr):F._SET_STRING_ELT(e,t,new me(n).ptr)});var Re,Oe=Ae,Me=class e extends be{constructor(n){n instanceof ArrayBuffer&&(n=new Uint8Array(n)),super(n,"raw",g(e,Re))}getNumber(e){return this.get(e).toArray()[0]}toNumber(){if(1!==this.length)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getNumber(1);if(null===e)throw new Error("Can't convert missing value `NA` to a JS number");return e}toTypedArray(){return new Uint8Array(F.HEAPU8.subarray(F._RAW(this.ptr),F._RAW(this.ptr)+this.length))}};Re=new WeakMap,m(Me,Re,e=>{let n=F._RAW(e);return(e,t)=>{F.setValue(n+t,Number(e),"i8")}});var Ie,ze=Me;function Pe(e){return U(e)?e:Array.isArray(e)||ArrayBuffer.isView(e)?{names:null,values:e}:e&&"object"==typeof e&&!B(e)?{names:Object.keys(e),values:Object.values(e)}:{names:null,values:[e]}}function Le(e){let n={object:oe,null:ie,symbol:le,pairlist:se,closure:pe,environment:he,call:ce,special:pe,builtin:pe,string:me,logical:xe,integer:_e,double:je,complex:Ne,character:Oe,list:de,raw:ze,function:pe,dataframe:ue};return e in n?n[e]:oe}function De(e){return e instanceof oe}function $e(e){return De(e)&&["logical","integer","double","complex","character"].includes(e.type())||De(e)&&e.isNa()}function Ue(e){return null===e||"number"==typeof e||"boolean"==typeof e||"string"==typeof e||B(e)}function Be(){let e={resolve:()=>{},reject:()=>{},promise:Promise.resolve()},n=new Promise((n,t)=>{e.resolve=n,e.reject=t});return e.promise=n,e}function Fe(e){return new Promise(n=>setTimeout(n,e))}function qe(e,n,t,...r){return null==e||function(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap}(e)?e:e instanceof ArrayBuffer?new Uint8Array(e):n(e)?t(e,...r):Array.isArray(e)||ArrayBuffer.isView(e)?e.map(e=>qe(e,n,t,...r)):e instanceof re?e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,a])=>[e,qe(a,n,t,...r)])):e}function We(e,n,t,r,a=!0){let o=new XMLHttpRequest;o.open("get",e,a),o.onload=()=>{if(o.status>=200&&o.status<300)try{let e=new Worker(URL.createObjectURL(new Blob([o.responseText])),r);n(e)}catch(e){if(!t)throw e;t(e instanceof Error?e:new Error(String(e)))}else t?t(new Error(`Worker loading error: HTTP ${o.status}`)):console.error(`HTTP Error: ${o.status}`)},o.onerror=()=>{t?t(new Error(`Network error loading ${e}`)):console.error(`Network error loading ${e}`)},o.send()}function Ve(e){if(D)return!1;let n=new URL(location.href),t=new URL(e,location.origin);return!(n.host===t.host&&n.port===t.port&&n.protocol===t.protocol)}var Ge=((e,n,t)=>(t=null!=e?a(s(e)):{},((e,n,t,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let t of l(n))!c.call(e,t)&&undefined!==t&&o(e,t,{get:()=>n[t],enumerable:!(r=i(n,t))||r.enumerable});return e})(!n&&e&&e.__esModule?t:o(t,"default",{value:e,enumerable:!0}),e)))(M()),He=new TextEncoder;async function Xe(e,n,t){try{let{taskId:r,sizeBuffer:a,dataBuffer:o,signalBuffer:i}=n,l=(0,Ge.encode)(t),s=l.length<=o.length;if(Atomics.store(a,0,l.length),Atomics.store(a,1,+s),!s){let[n,t]=function(e){let n=Q();return[n,new Promise(t=>{D?e.once("message",e=>{!e.id||e.id!==n||t(e)}):e.addEventListener("message",function r(a){!a.data||!a.data.id||a.data.id!==n||(e.removeEventListener("message",r),t(a.data))}),e.start&&e.start()})]}(e);o.set(He.encode(n)),await Ye(i,r),o=(await t).dataBuffer}o.set(l),Atomics.store(a,1,1),await Ye(i,r)}catch(e){console.warn(e)}}async function Ye(e,n){let t=(n>>1)%32,r=1;for(;0!==Atomics.compareExchange(e,t+1,0,n);)await Fe(r),r<32&&(r*=2);Atomics.or(e,0,1<<t),Atomics.notify(e,0)}var Qe,Ke,Je,Ze,en=class{constructor(){m(this,Je),m(this,Qe),m(this,Ke),h(this,Ke,[]),h(this,Qe,[])}reset(){h(this,Ke,[]),h(this,Qe,[])}put(e){g(this,Ke).length||b(this,Je,Ze).call(this),g(this,Ke).shift()(e)}async get(){return g(this,Qe).length||b(this,Je,Ze).call(this),g(this,Qe).shift()}isEmpty(){return!g(this,Qe).length}isBlocked(){return!!g(this,Ke).length}get length(){return g(this,Qe).length-g(this,Ke).length}};function nn(e,n){return n&&function(e,n){Y.set(e,n)}(e,n),e}function tn(e){return function(e){return!!e&&"object"==typeof e&&"payloadType"in e&&"obj"in e}(e)&&"ptr"===e.payloadType}Qe=new WeakMap,Ke=new WeakMap,Je=new WeakSet,Ze=function(){g(this,Qe).push(new Promise(e=>{g(this,Ke).push(e)}))};var rn,an,on=class{constructor(){this.inputQueue=new en,this.outputQueue=new en,this.systemQueue=new en,this.eventQueue=new Array,m(this,rn,new Map),m(this,an,!1)}async read(){return await this.outputQueue.get()}async flush(){let e=[];for(;!this.outputQueue.isEmpty();)e.push(await this.read());return e}async readSystem(){return await this.systemQueue.get()}write(e){if(g(this,an))throw new P("The webR communication channel has been closed.");this.inputQueue.put(e)}async request(e,n){let t=function(e,n){return nn({type:"request",data:{uuid:Q(),msg:e}},n)}(e,n),{resolve:r,reject:a,promise:o}=Be();return g(this,rn).set(t.data.uuid,{resolve:r,reject:a}),this.write(t),o}putClosedMessage(){h(this,an,!0),this.outputQueue.put({type:"closed"})}resolveResponse(e){let n=e.data.uuid,t=g(this,rn).get(n);if(t){let r=e.data.resp.data;g(this,rn).delete(n),"err"===r.payloadType?t.reject(function(e){let n=new z(e.obj.message);return"ErrnoError"==e.obj.name?n.message=`ErrnoError: ${String(e.obj.errno)}`:"Error"!==e.obj.name&&(n.name=e.obj.name),n.stack=e.obj.stack,n}(r)):t.resolve(r)}else console.warn("Can't find request.")}};rn=new WeakMap,an=new WeakMap,new TextDecoder("utf-8"),new Int32Array(new ArrayBuffer(4));var ln,sn=class{constructor(e){this.chan=e,m(this,ln,new Map),this.WebSocket=D?u("ws"):WebSocket}new(e,n,t){let r=new this.WebSocket(n,t||[]);r.binaryType="arraybuffer",r.addEventListener("open",()=>{this.chan.emit({type:"websocket-open",data:{uuid:e}})}),r.addEventListener("message",n=>{let t=new Uint8Array(n.data);this.chan.emit({type:"websocket-message",data:{uuid:e,data:t}})}),r.addEventListener("close",n=>{this.chan.emit({type:"websocket-close",data:{uuid:e,code:n.code,reason:n.reason}})}),r.addEventListener("error",()=>{this.chan.emit({type:"websocket-error",data:{uuid:e}})}),g(this,ln).set(e,r)}send(e,n){let t=g(this,ln).get(e);null==t||t.send(n)}close(e,n,t){let r=g(this,ln).get(e);null==r||r.close(n,t),g(this,ln).delete(e)}};ln=new WeakMap,D&&(globalThis.CloseEvent=class extends Event{constructor(e,n={}){super(e,n),this.wasClean=n.wasClean||!1,this.code=n.code||0,this.reason=n.reason||""}});var cn,dn=class{constructor(e){this.chan=e,m(this,cn,new Map)}new(e,n,t){if(D){let r=new Worker(n,t),a=r;a.on("message",n=>{this.chan.emit({type:"worker-message",data:{uuid:e,data:n}})}),a.on("messageerror",n=>{this.chan.emit({type:"worker-messageerror",data:{uuid:e,data:n}})}),a.on("error",()=>{this.chan.emit({type:"worker-error",data:{uuid:e}})}),g(this,cn).set(e,r)}else We(n,n=>{n.addEventListener("message",n=>{this.chan.emit({type:"worker-message",data:{uuid:e,data:n.data}})}),n.addEventListener("messageerror",n=>{this.chan.emit({type:"worker-messageerror",data:{uuid:e,data:n.data}})}),n.addEventListener("error",()=>{this.chan.emit({type:"worker-error",data:{uuid:e}})}),g(this,cn).set(e,n)},e=>{throw e},t,!1)}postMessage(e){let{uuid:n,async:t,handles:r,data:a,transfer:o}=e.data,i=g(this,cn).get(n);if(!i)throw new Error(`Worker with uuid ${n} not found`);if(!t&&r){let e=t=>{let a=t.data.uuid,o=t.data.result,l=t.data.error;a===n&&(l?r.reject(new Error(l)):r.resolve(o),i.removeEventListener("message",e))};i.addEventListener("message",e)}i.postMessage({uuid:n,data:a},{transfer:o})}terminate(e){let n=g(this,cn).get(e);null==n||n.terminate(),g(this,cn).delete(e)}};cn=new WeakMap,D&&(globalThis.Worker=u("worker_threads").Worker);var un,pn,fn,gn,mn=class extends on{constructor(e){super(),m(this,pn),m(this,un),this.close=()=>{},m(this,gn,async(e,n)=>{if(n&&n.type)switch(n.type){case"resolve":return h(this,un,new Int32Array(n.data)),void this.resolve();case"response":return void this.resolveResponse(n);case"system":return void this.systemQueue.put(n.data);default:return void this.outputQueue.put(n);case"sync-request":{let t=n,r=t.data.msg,a=t.data.reqData;switch(r.type){case"read":{let n=await this.inputQueue.get();await Xe(e,a,n);break}case"event":{let n=this.eventQueue.shift();await Xe(e,a,n);break}case"eval-await":{let n=r.data,t={};try{t.result=await(0,eval)(n),"function"==typeof t.result&&(t.result=String(t.result))}catch(e){let n=e;t.error=n.message}await Xe(e,a,{type:"eval-response",data:t});break}case"post-message-worker":{let n=r.data;n.handles=Be(),this.systemQueue.put({type:"postMessageWorker",data:n}),n.async?await Xe(e,a,{type:"post-message-response"}):n.handles.promise.then(n=>{Xe(e,a,{type:"post-message-response",data:{result:n}})},n=>{Xe(e,a,{type:"post-message-response",data:{error:String(n)}})});break}default:throw new P(`Unsupported request type '${r.type}'.`)}return}case"request":throw new P("Can't send messages of type 'request' from a worker. Please Use 'sync-request' instead.")}}),({resolve:this.resolve,reject:this.reject,promise:this.initialised}=Be());let n=n=>{b(this,pn,fn).call(this,n),this.close=()=>{n.terminate(),this.putClosedMessage()};let t={type:"init",data:{config:e,channelType:wn.SharedArrayBuffer}};n.postMessage(t)};if(Ve(e.baseUrl))We(`${e.baseUrl}webr-worker.js`,e=>n(e),e=>{this.reject(new z(`Worker loading error: ${e.message}`))});else{let t=new Worker(`${e.baseUrl}webr-worker.js`);n(t)}}emit(e){if(!g(this,un))throw new P("Failed attempt to interrupt before initialising interruptBuffer");this.eventQueue.push({type:"event",data:{msg:e}}),g(this,un)[0]=1}interrupt(){this.inputQueue.reset(),this.emit({type:"interrupt"})}};un=new WeakMap,pn=new WeakSet,fn=function(e){D?(e.on("message",n=>{g(this,gn).call(this,e,n)}),e.on("error",e=>{console.error(e),this.reject(new z("An error occurred initialising the webR SharedBufferChannel worker."))})):(e.onmessage=n=>g(this,gn).call(this,e,n.data),e.onerror=e=>{console.error(e),this.reject(new z("An error occurred initialising the webR SharedBufferChannel worker."))})},gn=new WeakMap,D&&(globalThis.Worker=u("worker_threads").Worker);var hn,bn,yn,vn,xn=class extends on{constructor(e){super(),m(this,bn),this.close=()=>{},this.emit=()=>{},m(this,hn),m(this,vn,async(e,n)=>{if(n&&n.type)switch(n.type){case"resolve":return void this.resolve();case"response":return void this.resolveResponse(n);case"system":return void this.systemQueue.put(n.data);default:return void this.outputQueue.put(n);case"request":{let e=n,t=e.data.msg;switch(t.type){case"read":{let n=await this.inputQueue.get();if(g(this,hn)){let t=function(e,n){return nn({type:"response",data:{uuid:e,resp:n}},void 0)}(e.data.uuid,n);g(this,hn).postMessage(t)}break}default:throw new P(`Unsupported request type '${t.type}'.`)}return}case"sync-request":throw new P("Can't send messages of type 'sync-request' in PostMessage mode. Use 'request' instead.")}}),({resolve:this.resolve,reject:this.reject,promise:this.initialised}=Be());let n=n=>{h(this,hn,n),b(this,bn,yn).call(this,n),this.close=()=>{n.terminate(),this.putClosedMessage()};let t={type:"init",data:{config:e,channelType:wn.PostMessage}};n.postMessage(t)};if(Ve(e.baseUrl))We(`${e.baseUrl}webr-worker.js`,e=>n(e),e=>{this.reject(new z(`Worker loading error: ${e.message}`))});else{let t=new Worker(`${e.baseUrl}webr-worker.js`);n(t)}}interrupt(){console.error("Interrupting R execution is not available when using the PostMessage channel")}};hn=new WeakMap,bn=new WeakSet,yn=function(e){D?(e.on("message",n=>{g(this,vn).call(this,e,n)}),e.on("error",e=>{console.error(e),this.reject(new z("An error occurred initialising the webR PostMessageChannel worker."))})):(e.onmessage=n=>g(this,vn).call(this,e,n.data),e.onerror=e=>{console.error(e),this.reject(new z("An error occurred initialising the webR PostMessageChannel worker."))})},vn=new WeakMap;var wn={Automatic:0,SharedArrayBuffer:1,PostMessage:3},kn=D?__dirname+"/":"https://webr.r-wasm.org/v0.5.6/",_n="0.5.6",Sn="4.5.1";function En(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"payloadType"in e&&tn(e._payload)}function jn(){}function Cn(e,n,t){return async(...r)=>{let a=r.map(e=>En(e)?e._payload:{obj:qe(e,En,e=>e._payload),payloadType:"raw"}),o={type:"callRObjectMethod",data:{payload:t,prop:n,args:a}},i=await e.request(o);switch(i.payloadType){case"ptr":return Tn(e,i);case"raw":return qe(i,tn,(e,n)=>Tn(n,e),e).obj}}}function Tn(e,n){var t;let r=new Proxy(null!=(t=n.obj.methods)&&t.includes("exec")?Object.assign(jn,{...n}):n,{get:(t,a)=>{var o;return"_payload"===a?n:a===Symbol.asyncIterator?function(e,n){return async function*(){let t={type:"callRObjectMethod",data:{payload:n._payload,prop:"getPropertyValue",args:[{payloadType:"raw",obj:"length"}],shelter:void 0}},r=await e.request(t);if("number"!=typeof r.obj)throw new I("Cannot iterate over object, unexpected type for length property.");for(let e=1;e<=r.obj;e++)yield n.get(e)}}(e,r):null!=(o=n.obj.methods)&&o.includes(a.toString())?Cn(e,a.toString(),n):void 0},apply:async(t,r,a)=>{let o=await Tn(e,n).exec(...a);return function(e){var n;return!(!En(e)||null==(n=e._payload.obj.methods)||!n.includes("exec"))}(o)?o:o.toJs()}});return r}function Nn(e,n,t){return new Proxy(oe,{construct:(r,a)=>async function(e,n,t,...r){let a={type:"newRObject",data:{objType:n,args:qe(r,En,e=>e._payload),shelter:t}},o=await e.request(a);switch(o.payloadType){case"raw":throw new L("Unexpected raw payload type returned from newRObject");case"ptr":return Tn(e,o)}}(e,t,n,...a),get:(n,t)=>Cn(e,t.toString())})}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakSet;var An,Rn,On,Mn,In,zn,Pn={RArgs:[],REnv:{FONTCONFIG_PATH:"/etc/fonts",R_HOME:"/usr/lib/R",R_ENABLE_JIT:"0",ALL_PROXY:"socks5h://localhost:8580",WEBR:"1",WEBR_VERSION:_n,R_VERSION:Sn},baseUrl:kn,serviceWorkerUrl:"",repoUrl:"https://repo.r-wasm.org",homedir:"/home/web_user",interactive:!0,channelType:wn.Automatic,createLazyFilesystem:!0},Ln=class{constructor(e={}){m(this,In),m(this,An),m(this,Rn),m(this,On),m(this,Mn),this.version=_n,this.versionR=Sn,this.FS={analyzePath:async(e,n)=>{let t={type:"analyzePath",data:{path:e,dontResolveLastLink:n}};return(await g(this,An).request(t)).obj},lookupPath:async e=>{let n={type:"lookupPath",data:{path:e}};return(await g(this,An).request(n)).obj},mkdir:async e=>{let n={type:"mkdir",data:{path:e}};return(await g(this,An).request(n)).obj},mount:async(e,n,t)=>{let r=[];"blobs"in n&&n.blobs&&(r=[...r,...n.blobs.map(e=>e.data instanceof Blob?e.data.arrayBuffer().then(n=>{e.data=new Uint8Array(n)}):Promise.resolve())]),"packages"in n&&n.packages&&(r=[...r,...n.packages.map(e=>e.blob instanceof Blob?e.blob.arrayBuffer().then(n=>{e.blob=new Uint8Array(n)}):Promise.resolve())]),await Promise.all(r);let a={type:"mount",data:{type:e,options:n,mountpoint:t}};await g(this,An).request(a)},syncfs:async e=>{let n={type:"syncfs",data:{populate:e}};await g(this,An).request(n)},readFile:async(e,n)=>{let t={type:"readFile",data:{path:e,flags:n}};return(await g(this,An).request(t)).obj},rename:async(e,n)=>{let t={type:"rename",data:{oldpath:e,newpath:n}};await g(this,An).request(t)},rmdir:async e=>{let n={type:"rmdir",data:{path:e}};await g(this,An).request(n)},writeFile:async(e,n,t)=>{let r={type:"writeFile",data:{path:e,data:n,flags:t}};await g(this,An).request(r)},unlink:async e=>{let n={type:"unlink",data:{path:e}};await g(this,An).request(n)},unmount:async e=>{let n={type:"unmount",data:{path:e}};await g(this,An).request(n)}};let n={...Pn,...e,REnv:{...Pn.REnv,...e.REnv}};h(this,An,function(e){switch(e.channelType){case wn.SharedArrayBuffer:return new mn(e);case wn.PostMessage:return new xn(e);case wn.Automatic:default:return typeof SharedArrayBuffer<"u"?new mn(e):new xn(e)}}(n)),h(this,Rn,new sn(g(this,An))),h(this,On,new dn(g(this,An))),this.objs={},this.Shelter=function(e){return new Proxy(Bn,{construct:async()=>{let n=new Bn(e);return await n.init(),n}})}(g(this,An)),h(this,Mn,g(this,An).initialised.then(async()=>{this.globalShelter=await new this.Shelter,this.RObject=this.globalShelter.RObject,this.RLogical=this.globalShelter.RLogical,this.RInteger=this.globalShelter.RInteger,this.RDouble=this.globalShelter.RDouble,this.RComplex=this.globalShelter.RComplex,this.RCharacter=this.globalShelter.RCharacter,this.RRaw=this.globalShelter.RRaw,this.RList=this.globalShelter.RList,this.RDataFrame=this.globalShelter.RDataFrame,this.RPairlist=this.globalShelter.RPairlist,this.REnvironment=this.globalShelter.REnvironment,this.RSymbol=this.globalShelter.RSymbol,this.RString=this.globalShelter.RString,this.RCall=this.globalShelter.RCall,this.objs={baseEnv:await this.RObject.getPersistentObject("baseEnv"),globalEnv:await this.RObject.getPersistentObject("globalEnv"),null:await this.RObject.getPersistentObject("null"),true:await this.RObject.getPersistentObject("true"),false:await this.RObject.getPersistentObject("false"),na:await this.RObject.getPersistentObject("na")},b(this,In,zn).call(this)}))}async init(){return g(this,Mn)}close(){g(this,An).close()}async read(){return await g(this,An).read()}async*stream(){for(;;){let e=await g(this,An).read();if("closed"===e.type)return;yield e}}async flush(){return await g(this,An).flush()}write(e){g(this,An).write(e)}writeConsole(e){this.write({type:"stdin",data:e+"\n"})}interrupt(){g(this,An).interrupt()}async installPackages(e,n){let t={type:"installPackages",data:{name:e,options:Object.assign({quiet:!1,mount:!0},n)}};await g(this,An).request(t)}async destroy(e){await this.globalShelter.destroy(e)}async evalR(e,n){return this.globalShelter.evalR(e,n)}async evalRVoid(e,n){return this.evalRRaw(e,"void",n)}async evalRBoolean(e,n){return this.evalRRaw(e,"boolean",n)}async evalRNumber(e,n){return this.evalRRaw(e,"number",n)}async evalRString(e,n){return this.evalRRaw(e,"string",n)}async evalRRaw(e,n,t={}){let r=qe(t,En,e=>e._payload),a={type:"evalRRaw",data:{code:e,options:r,outputType:n}},o=await g(this,An).request(a);switch(o.payloadType){case"raw":return o.obj;case"ptr":throw new L("Unexpected ptr payload type returned from evalRVoid")}}async invokeWasmFunction(e,...n){let t={type:"invokeWasmFunction",data:{ptr:e,args:n}};return(await g(this,An).request(t)).obj}};An=new WeakMap,Rn=new WeakMap,On=new WeakMap,Mn=new WeakMap,In=new WeakSet,zn=async function(){for(;;){let e=await g(this,An).readSystem();switch(e.type){case"setTimeoutWasm":setTimeout((e,n)=>{this.invokeWasmFunction(e,...n)},e.data.delay,e.data.ptr,e.data.args);break;case"proxyWebSocket":{let n=e;g(this,Rn).new(n.data.uuid,n.data.url,n.data.protocol);break}case"sendWebSocket":{let n=e;g(this,Rn).send(n.data.uuid,n.data.data);break}case"closeWebSocket":{let n=e;g(this,Rn).close(n.data.uuid,n.data.code,n.data.reason);break}case"proxyWorker":{let n=e;g(this,On).new(n.data.uuid,n.data.url,n.data.options);break}case"postMessageWorker":{let n=e;g(this,On).postMessage(n);break}case"terminateWorker":{let n=e;g(this,On).terminate(n.data.uuid);break}case"console.log":console.log(e.data);break;case"console.warn":console.warn(e.data);break;case"console.error":console.error(e.data);break;case"close":g(this,An).close();break;default:throw new I("Unknown system message type `"+e.type+"`")}}};var Dn,$n,Un,Bn=class{constructor(e){m(this,Dn,""),m(this,$n),m(this,Un,!1),h(this,$n,e)}async init(){if(g(this,Un))return;let e=await g(this,$n).request({type:"newShelter"});h(this,Dn,e.obj),this.RObject=Nn(g(this,$n),g(this,Dn),"object"),this.RLogical=Nn(g(this,$n),g(this,Dn),"logical"),this.RInteger=Nn(g(this,$n),g(this,Dn),"integer"),this.RDouble=Nn(g(this,$n),g(this,Dn),"double"),this.RComplex=Nn(g(this,$n),g(this,Dn),"complex"),this.RCharacter=Nn(g(this,$n),g(this,Dn),"character"),this.RRaw=Nn(g(this,$n),g(this,Dn),"raw"),this.RList=Nn(g(this,$n),g(this,Dn),"list"),this.RDataFrame=Nn(g(this,$n),g(this,Dn),"dataframe"),this.RPairlist=Nn(g(this,$n),g(this,Dn),"pairlist"),this.REnvironment=Nn(g(this,$n),g(this,Dn),"environment"),this.RSymbol=Nn(g(this,$n),g(this,Dn),"symbol"),this.RString=Nn(g(this,$n),g(this,Dn),"string"),this.RCall=Nn(g(this,$n),g(this,Dn),"call"),h(this,Un,!0)}async purge(){let e={type:"shelterPurge",data:g(this,Dn)};await g(this,$n).request(e)}async destroy(e){let n={type:"shelterDestroy",data:{id:g(this,Dn),obj:e._payload}};await g(this,$n).request(n)}async size(){let e={type:"shelterSize",data:g(this,Dn)};return(await g(this,$n).request(e)).obj}async evalR(e,n={}){let t={type:"evalR",data:{code:e,options:qe(n,En,e=>e._payload),shelter:g(this,Dn)}},r=await g(this,$n).request(t);if("raw"===r.payloadType)throw new L("Unexpected payload type returned from evalR");return Tn(g(this,$n),r)}async captureR(e,n={}){let t={type:"captureR",data:{code:e,options:qe(n,En,e=>e._payload),shelter:g(this,Dn)}},r=await g(this,$n).request(t);switch(r.payloadType){case"ptr":throw new L("Unexpected payload type returned from evalR");case"raw":{let e=r.obj,n=Tn(g(this,$n),e.result),t=e.output,a=e.images;for(let e=0;e<t.length;++e)"stdout"!==t[e].type&&"stderr"!==t[e].type&&(t[e].data=Tn(g(this,$n),t[e].data));return{result:n,output:t,images:a}}}}};Dn=new WeakMap,$n=new WeakMap,Un=new WeakMap;const Fn=[{name:"Ê∏ÖÂçéÂ§ßÂ≠¶",url:"https://mirrors.tuna.tsinghua.edu.cn/CRAN/",country:"CN",city:"Beijing",priority:1},{name:"‰∏≠ÂõΩÁßëÊäÄÂ§ßÂ≠¶",url:"https://mirrors.ustc.edu.cn/CRAN/",country:"CN",city:"Hefei",priority:2},{name:"ÈòøÈáå‰∫ë",url:"https://mirrors.aliyun.com/CRAN/",country:"CN",city:"Hangzhou",priority:3},{name:"ÂÖ∞Â∑ûÂ§ßÂ≠¶",url:"https://mirror.lzu.edu.cn/CRAN/",country:"CN",city:"Lanzhou",priority:4},{name:"Japan (Tokyo)",url:"https://cran.ism.ac.jp/",country:"JP",city:"Tokyo",priority:10},{name:"Korea (Seoul)",url:"https://cran.seoul.go.kr/",country:"KR",city:"Seoul",priority:11},{name:"Singapore",url:"https://cran.stat.nus.edu.sg/",country:"SG",city:"Singapore",priority:12},{name:"UK (Bristol)",url:"https://www.stats.bris.ac.uk/R/",country:"GB",city:"Bristol",priority:20},{name:"Germany (M√ºnster)",url:"https://ftp.gwdg.de/pub/misc/cran/",country:"DE",city:"M√ºnster",priority:21},{name:"France (Lyon)",url:"https://cran.univ-lyon1.fr/",country:"FR",city:"Lyon",priority:22},{name:"USA (Berkeley)",url:"https://cran.cnr.berkeley.edu/",country:"US",city:"Berkeley",priority:30},{name:"USA (RStudio)",url:"https://cran.rstudio.com/",country:"US",city:"Multiple",priority:31},{name:"Canada (Toronto)",url:"https://cran.utstat.utoronto.ca/",country:"CA",city:"Toronto",priority:32},{name:"CRAN Master (Austria)",url:"https://cran.r-project.org/",country:"AT",city:"Vienna",priority:100}];const qn="webr-installed-packages",Wn=new class{constructor(){this.webR=null,this.isInitialized=!1,this.isInitializing=!1,this.initPromise=null,this.selectedMirrors=[]}getCachedPackages(){try{const e=localStorage.getItem(qn);return e?JSON.parse(e):[]}catch(e){return console.warn("‚ö†Ô∏è ËØªÂèñÁºìÂ≠òÂåÖÂàóË°®Â§±Ë¥•:",e),[]}}saveCachedPackages(e){try{localStorage.setItem(qn,JSON.stringify(e)),console.log("‚úÖ ÂåÖÂàóË°®Â∑≤ÁºìÂ≠ò:",e)}catch(e){console.warn("‚ö†Ô∏è ‰øùÂ≠òÂåÖÂàóË°®ÁºìÂ≠òÂ§±Ë¥•:",e)}}isPackageCached(e){return this.getCachedPackages().includes(e)}async initialize(){if(!this.isInitialized){if(this.isInitializing&&this.initPromise)return this.initPromise;this.isInitializing=!0,this.initPromise=this._doInitialize();try{await this.initPromise}finally{this.isInitializing=!1}}}async _doInitialize(){console.log("üöÄ [Ê≠•È™§ 1/5] Ê≠£Âú®ÂàùÂßãÂåñ WebR..."),this.updateInitProgress("[1/5] ÂáÜÂ§áÂàùÂßãÂåñ WebRÔºàÂ∑≤ÂêØÁî®ÁºìÂ≠òÔºâ...");try{const e=this.getCachedPackages(),n=e.length>0;n&&(console.log("üíæ Ê£ÄÊµãÂà∞ÁºìÂ≠òÁöÑÂåÖ:",e),this.updateInitProgress("[1/5] Ê£ÄÊµãÂà∞ÁºìÂ≠òÔºåÂ∞ÜÂø´ÈÄüÂêØÂä®...")),console.log("üåç Ê≠£Âú®ÈÄâÊã©ÊúÄ‰Ω≥ CRAN ÈïúÂÉèÊ∫ê...");try{this.selectedMirrors=await async function(){try{const e=await async function(){try{const e=await fetch("https://ipapi.co/json/",{timeout:5e3});if(!e.ok)throw new Error("Geolocation API request failed");const n=await e.json();return{country:n.country_code||"US",continent:n.continent_code}}catch(e){try{const e=await fetch("https://ipinfo.io/json",{timeout:5e3});if(!e.ok)throw new Error("Backup geolocation API request failed");return{country:(await e.json()).country||"US"}}catch(e){return console.warn("‚ö†Ô∏è Â§áÁî®Âú∞ÁêÜÂÆö‰Ωç API ‰πüÂ§±Ë¥•‰∫Ü:",e),null}}}();if(e)return console.log("üåç Ê£ÄÊµãÂà∞Áî®Êà∑‰ΩçÁΩÆ:",e),function(e){const n=[...Fn],t=n=>{if(n.country===e.country)return n.priority;const t={AS:["CN","JP","KR","SG","IN"],EU:["GB","DE","FR","AT","NL"],NA:["US","CA","MX"],SA:["BR","AR","CL"],OC:["AU","NZ"],AF:["ZA"]};return e.continent&&(t[e.continent]||[]).includes(n.country)?n.priority+50:n.priority+100};return n.sort((e,n)=>t(e)-t(n)),console.log("üìä ÈïúÂÉèÊ∫êÊéíÂ∫èÁªìÊûúÔºàÂâç5‰∏™Ôºâ:"),n.slice(0,5).forEach((e,n)=>{console.log(`  ${n+1}. ${e.name} (${e.country}) - ${e.url}`)}),n}(e)}catch(e){console.warn("‚ö†Ô∏è Êó†Ê≥ïËé∑ÂèñÂú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØÔºå‰ΩøÁî®ÈªòËÆ§ÈïúÂÉèÈ°∫Â∫è:",e)}return[...Fn].sort((e,n)=>e.priority-n.priority)}(),console.log(`‚úÖ Â∑≤ÈÄâÊã©ÈïúÂÉèÊ∫ê: ${this.selectedMirrors[0]?.name||"ÈªòËÆ§"}`)}catch(e){console.warn("‚ö†Ô∏è ÈïúÂÉèÊ∫êÈÄâÊã©Â§±Ë¥•ÔºåÂ∞Ü‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆ:",e)}console.log("üì¶ ÂàõÂª∫ WebR ÂÆû‰æãÔºàÂêØÁî® IndexedDB ÁºìÂ≠òÔºâ"),this.webR=new Ln({baseUrl:"https://webr.r-wasm.org/latest/",createLazyFilesystem:!0});const r=n?"[2/5] Ê≠£Âú®Âä†ËΩΩ WebRÔºàÊµèËßàÂô®Â∑≤ÁºìÂ≠òÔºåÈÄüÂ∫¶Êõ¥Âø´Ôºâ...":"[2/5] Ê≠£Âú®‰∏ãËΩΩ WebR ËøêË°åÊó∂ÔºàÁ∫¶ 10MBÔºåÈ¶ñÊ¨°ËæÉÊÖ¢Ôºâ...";if(console.log(`‚è≥ ${r}`),this.updateInitProgress(r),await this.webR.init(),this.isInitialized=!0,console.log("‚úÖ [Ê≠•È™§ 2/5] WebR Ê†∏ÂøÉÂàùÂßãÂåñÊàêÂäüÔºÅ"),this.selectedMirrors.length>0){console.log("‚öôÔ∏è [Ê≠•È™§ 3/5] Ê≠£Âú®ÈÖçÁΩÆ CRAN ÈïúÂÉèÊ∫ê...");try{const e=this.selectedMirrors[0].url;await this.webR.evalR(`\n            # ÈÖçÁΩÆ CRAN ÈïúÂÉèÊ∫ê\n            options(repos = c(CRAN = "${e}"))\n            cat("‚úÖ CRAN ÈïúÂÉèÊ∫êÂ∑≤ËÆæÁΩÆ‰∏∫: ${e}\\n")\n          `),console.log(`‚úÖ CRAN ÈïúÂÉèÊ∫êÂ∑≤ÈÖçÁΩÆ: ${this.selectedMirrors[0].name}`)}catch(e){console.warn("‚ö†Ô∏è ÈïúÂÉèÊ∫êÈÖçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆ:",e)}}console.log("üì¶ [Ê≠•È™§ 4/5] Ê≠£Âú®ÂÆâË£ÖÊ†∏ÂøÉ‰æùËµñÂåÖ...");try{console.log("   Ê≠£Âú®ÂÆâË£Ö svgliteÔºàÁî®‰∫éÊ≠£Á°ÆÊ∏≤ÊüìÂ≠ó‰ΩìÔºâ..."),await this.webR.installPackages(["svglite"]),console.log("   ‚úÖ svglite ÂÆâË£ÖÊàêÂäü")}catch(e){console.warn("   ‚ö†Ô∏è svglite ÂÆâË£ÖÂ§±Ë¥•ÔºàÂ∞Ü‰ΩøÁî®Âü∫Á°Ä svg() ËÆæÂ§áÔºåÂ≠ó‰ΩìÂèØËÉΩÊó†Ê≥ïÊ≠£Á°ÆÊòæÁ§∫Ôºâ:",e)}await this.installSelectedPackages(),console.log("‚öôÔ∏è [Ê≠•È™§ 5/5] Ê≠£Âú®ËÆæÁΩÆ R ÁéØÂ¢ÉÂÖºÂÆπÊÄßÈÄâÈ°πÂíåÂ≠ó‰ΩìÈÖçÁΩÆ...");try{const{useBlockStore:e}=t(357),{fontConfig:n}=e.getState();await this.webR.evalR(`\n          # ÊäëÂà∂ dplyr ÁöÑÂàÜÁªÑË≠¶ÂëäÔºàÂÖºÂÆπ‰∏çÂ∏¶ .groups ÂèÇÊï∞ÁöÑ summarizeÔºâ\n          options(dplyr.summarise.inform = FALSE)\n          \n          # ÊäëÂà∂ tidyr ÁöÑÂºÉÁî®Ë≠¶ÂëäÔºàÂÖºÂÆπ gather/spread Á≠âÊóßÂáΩÊï∞Ôºâ\n          options(lifecycle_verbosity = "quiet")\n          \n          # ÊäëÂà∂ÂåÖÂä†ËΩΩÊ∂àÊÅØ\n          suppressPackageStartupMessages(library(ggplot2, quietly = TRUE))\n          \n          # ËÆæÁΩÆÂÖ®Â±ÄÂ≠ó‰ΩìÈÖçÁΩÆÔºàÁî®‰∫é‰∏ªÈ¢òÂáΩÊï∞Ôºâ\n          options(\n            ggplot_chinese_font = "${n.chineseFont}",\n            ggplot_english_font = "${n.englishFont}"\n          )\n          \n          cat("‚úÖ Â≠ó‰ΩìÈÖçÁΩÆ: ‰∏≠Êñá=${n.chineseFont}, Ëã±Êñá=${n.englishFont}\\n")\n        `),console.log("‚úÖ ÂÖºÂÆπÊÄßÈÄâÈ°πÂíåÂ≠ó‰ΩìÈÖçÁΩÆÂ∑≤ÂÖ®Â±ÄËÆæÁΩÆ"),console.log(`   Â≠ó‰Ωì: ‰∏≠Êñá=${n.chineseFont}, Ëã±Êñá=${n.englishFont}`)}catch(e){console.warn("‚ö†Ô∏è ËÆæÁΩÆÂÖºÂÆπÊÄßÈÄâÈ°πÂ§±Ë¥•Ôºà‰ΩÜ‰∏çÂΩ±Âìç‰ΩøÁî®Ôºâ:",e)}console.log("üéâ ========================================"),console.log("üéâ WebR ÁéØÂ¢ÉÂÆåÂÖ®Â∞±Áª™ÔºÅÂèØ‰ª•ÂºÄÂßã‰ΩøÁî®‰∫ÜÔºÅ"),console.log("üéâ ========================================"),this.updateInitProgress("‚úÖ ÂàùÂßãÂåñÂÆåÊàêÔºÅ"),this.updateStoreReadyState()}catch(e){throw console.error("‚ùå WebR ÂàùÂßãÂåñÂ§±Ë¥•:",e),console.error("   ÈîôËØØËØ¶ÊÉÖ:",e),this.isInitialized=!1,this.updateInitProgress("‚ùå ÂàùÂßãÂåñÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï"),this.updateStoreReadyState(),new Error(`WebR ÂàùÂßãÂåñÂ§±Ë¥•: ${e instanceof Error?e.message:String(e)}`)}}async installSelectedPackages(){if(!this.webR)throw new Error("WebR Êú™ÂàùÂßãÂåñ");try{const{useBlockStore:e}=t(357),{selectedPackages:n,setInstalledPackages:r,setIsInstallingPackages:a}=e.getState();if(!n||0===n.length)return console.log("‚è≠Ô∏è Ê≤°ÊúâÈÄâÊã©Ë¶ÅÂÆâË£ÖÁöÑÂåÖ"),void this.updateInitProgress("[3/4] Ë∑≥ËøáÂåÖÂÆâË£Ö");const o=this.getCachedPackages(),i=n.filter(e=>o.includes(e)),l=n.filter(e=>!o.includes(e));i.length>0&&(console.log(`üíæ Ê£ÄÊµãÂà∞ ${i.length} ‰∏™ÂåÖ‰πãÂâçÂÆâË£ÖËøáÔºåÊµèËßàÂô®ÂèØËÉΩÂ∑≤ÁºìÂ≠ò`),console.log("   Ê≥®ÊÑèÔºöËôöÊãüÊñá‰ª∂Á≥ªÁªüÂ∑≤ÈáçÁΩÆÔºåÈúÄË¶ÅÈáçÊñ∞ÂÆâË£ÖÔºà‰ΩÜ‰ºö‰ªéÊµèËßàÂô®ÁºìÂ≠òÂø´ÈÄüËØªÂèñÔºâ"),this.updateInitProgress(`[4/5] Ê£ÄÊµãÂà∞ ${i.length} ‰∏™ÂåÖÂèØËÉΩÂ∑≤Ë¢´ÊµèËßàÂô®ÁºìÂ≠òÔºåÂ∞ÜÂø´ÈÄüÂÆâË£Ö...`)),console.log("üì¶ [Ê≠•È™§ 4/5] ÈúÄË¶ÅÂÆâË£ÖÁöÑÂåÖ:",n),console.log("   - Êñ∞ÂåÖÔºàÈúÄ‰∏ãËΩΩÔºâ:",l),console.log("   - ‰πãÂâçË£ÖËøáÁöÑÂåÖÔºàÂèØËÉΩ‰ªéÁºìÂ≠òÂä†ËΩΩÔºâ:",i),a(!0);const s=n.length,c=[];for(let e=0;e<n.length;e++){const t=n[e],r=i.includes(t)?" (ÂèØËÉΩ‰ªéÁºìÂ≠òËØªÂèñ‚ö°)":" (ÈúÄ‰∏ãËΩΩ)",a=`[4/5] Ê≠£Âú®ÂÆâË£ÖÂåÖ ${e+1}/${s}: ${t}${r}`;this.updateInitProgress(a),console.log(`üì¶ [${e+1}/${s}] ÂÆâË£Ö ${t}${r}`);try{await this.webR.installPackages([t]),console.log(`‚úÖ ${t} ÂÆâË£ÖÊàêÂäü`),c.push(t),await this.webR.evalR(`library(${t})`),console.log(`‚úÖ ${t} Âä†ËΩΩÈ™åËØÅÊàêÂäü`)}catch(e){if(console.warn(`‚ö†Ô∏è ${t} ÂÆâË£ÖÂ§±Ë¥•:`,e),this.selectedMirrors.length>1){console.log(`üîÑ Â∞ùËØï‰ΩøÁî®Â§áÁî®ÈïúÂÉèÊ∫êÂÆâË£Ö ${t}...`);for(let e=1;e<Math.min(3,this.selectedMirrors.length);e++)try{const n=this.selectedMirrors[e];console.log(`  Â∞ùËØïÈïúÂÉèÊ∫ê ${e+1}: ${n.name}`),await this.webR.evalR(`\n                  options(repos = c(CRAN = "${n.url}"))\n                `),await this.webR.installPackages([t]),console.log(`‚úÖ ${t} ‰ΩøÁî®Â§áÁî®ÈïúÂÉèÊ∫êÂÆâË£ÖÊàêÂäü`),c.push(t),await this.webR.evalR(`library(${t})`),console.log(`‚úÖ ${t} Âä†ËΩΩÈ™åËØÅÊàêÂäü`);break}catch(n){console.warn(`  ‚ö†Ô∏è Â§áÁî®ÈïúÂÉèÊ∫ê ${e+1} ‰πüÂ§±Ë¥•‰∫Ü`)}}}}if(this.selectedMirrors.length>0)try{await this.webR.evalR(`\n            options(repos = c(CRAN = "${this.selectedMirrors[0].url}"))\n          `)}catch(e){console.warn("‚ö†Ô∏è ÊÅ¢Â§ç‰∏ªÈïúÂÉèÊ∫êÂ§±Ë¥•:",e)}console.log("üîç ÊâÄÊúâÂåÖÂÆâË£ÖÂÆåÊàê");const d=c.filter(e=>l.includes(e)).length,u=c.filter(e=>i.includes(e)).length;this.updateInitProgress(`Â∑≤ÂÆâË£Ö ${c.length} ‰∏™ÂåÖÔºà${d} Êñ∞Ôºå${u} ÈáçË£ÖÔºâ`),r(c),a(!1),this.saveCachedPackages(c),console.log("‚úÖ ÂåÖÂÆâË£ÖÊµÅÁ®ãÂÆåÊàêÔºàÂ∑≤ËÆ∞ÂΩïÂà∞ localStorageÔºåÊµèËßàÂô®Â∑≤ÁºìÂ≠ò WASM Êñá‰ª∂Ôºâ")}catch(e){console.error("‚ùå ÂåÖÂÆâË£ÖËøáÁ®ãÂá∫Èîô:",e);const{useBlockStore:n}=t(357),{setIsInstallingPackages:r}=n.getState();r(!1),this.updateInitProgress("[3/4] ÂåÖÂÆâË£ÖÂ§±Ë¥•Ôºå‰ΩÜÂèØ‰ª•ÁªßÁª≠‰ΩøÁî®")}}updateInitProgress(e){try{const{useBlockStore:n}=t(357),{setWebRInitProgress:r}=n.getState();r(e)}catch(e){console.warn("‚ö†Ô∏è Êó†Ê≥ïÊõ¥Êñ∞ÂàùÂßãÂåñËøõÂ∫¶:",e)}}updateStoreReadyState(){try{const{useBlockStore:e}=t(357),{setIsWebRReady:n}=e.getState();n(!0),console.log("‚úÖ Store Áä∂ÊÄÅÂ∑≤Êõ¥Êñ∞ÔºöWebR Â∞±Áª™")}catch(e){console.warn("‚ö†Ô∏è Êó†Ê≥ïÊõ¥Êñ∞ Store Áä∂ÊÄÅ:",e)}}async runCode(e){try{if(this.isInitialized||await this.initialize(),!this.webR)throw new Error("WebR Êú™ÂàùÂßãÂåñ");console.log("üîÑ Ê≠£Âú®ËøêË°å R ‰ª£Á†Å...");try{await this.webR.evalR('\n          options(dplyr.summarise.inform = FALSE)\n          options(lifecycle_verbosity = "quiet")\n          options(warn = -1)\n        ')}catch(e){console.warn("‚ö†Ô∏è ËÆæÁΩÆÂÖºÂÆπÊÄßÈÄâÈ°πÂ§±Ë¥•:",e)}const n=await this.webR.evalR(e),t=await n.toJs();return console.log("‚úÖ ‰ª£Á†ÅÊâßË°åÊàêÂäüÔºÅ"),{success:!0,output:JSON.stringify(t,null,2)}}catch(e){return console.error("‚ùå ‰ª£Á†ÅÊâßË°åÂ§±Ë¥•:",e),{success:!1,error:e instanceof Error?e.message:String(e)}}}async runPlot(e,n){try{if(this.isInitialized||await this.initialize(),!this.webR)throw new Error("WebR Êú™ÂàùÂßãÂåñ");const r=n?.width??20,a=n?.height??20,o=n?.dpi??720,i=r*o,l=a*o;console.log(`üìä Ê≠£Âú®ÁîüÊàêÂõæË°®... (${r}√ó${a} Ëã±ÂØ∏, ${o} DPI = ${i}√ó${l} ÂÉèÁ¥†)`);try{await this.webR.evalR('\n          # ÊäëÂà∂ dplyr ÁöÑÂàÜÁªÑË≠¶ÂëäÔºàÂÖºÂÆπ‰∏çÂ∏¶ .groups ÂèÇÊï∞ÁöÑ summarizeÔºâ\n          options(dplyr.summarise.inform = FALSE)\n          \n          # ÊäëÂà∂ tidyr ÁöÑÂºÉÁî®Ë≠¶ÂëäÔºàÂÖºÂÆπ gather/spread Á≠âÊóßÂáΩÊï∞Ôºâ\n          options(lifecycle_verbosity = "quiet")\n          \n          # ËÆæÁΩÆÊõ¥ÂÆΩÊùæÁöÑÈîôËØØÂ§ÑÁêÜ\n          options(warn = -1)  # ÊäëÂà∂ÊâÄÊúâË≠¶Âëä\n        '),console.log("‚úÖ ÂÖºÂÆπÊÄßÈÄâÈ°πÂ∑≤ËÆæÁΩÆ")}catch(e){console.warn("‚ö†Ô∏è ËÆæÁΩÆÂÖºÂÆπÊÄßÈÄâÈ°πÂ§±Ë¥•Ôºå‰ΩÜÁªßÁª≠ÊâßË°å:",e)}try{await this.webR.evalR('if (!require("ggplot2", quietly = TRUE)) { stop("ggplot2 not available") }')}catch(e){console.log("üì¶ Ê≠£Âú®ÂÆâË£Ö ggplot2..."),await this.webR.installPackages(["ggplot2"]),await this.webR.evalR("library(ggplot2)")}const{useBlockStore:s}=t(357),{fontConfig:c}=s.getState();console.log(`üî§ ‰ΩøÁî®Â≠ó‰ΩìÈÖçÁΩÆ: ‰∏≠Êñá=${c.chineseFont}, Ëã±Êñá=${c.englishFont}`);let d=e.trim();d.includes("print(p)")||d.includes("print(plot)")||(d+="\nprint(p)");const u=`\nlibrary(ggplot2)\n\n# ËÆæÁΩÆÂÖ®Â±ÄÂ≠ó‰ΩìÈÄâÈ°πÔºàËÆ©Áî®Êà∑‰ª£Á†Å‰∏≠ÁöÑ getOption() ËÉΩËé∑ÂèñÂà∞Ê≠£Á°ÆÁöÑÂ≠ó‰ΩìÔºâ\noptions(ggplot_chinese_font = "${c.chineseFont}")\noptions(ggplot_english_font = "${c.englishFont}")\n\n# ÂàõÂª∫‰∏¥Êó∂ SVG Êñá‰ª∂ÔºàÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆÔºö${r}√ó${a} Ëã±ÂØ∏Ôºâ\n# SVG ÊòØÁü¢ÈáèÊ†ºÂºèÔºåWebR ÁéØÂ¢É‰∏≠ÊúÄÁ®≥ÂÆö\ntemp_file <- "/tmp/plot.svg"\n\n# Â∞ùËØïÂä†ËΩΩ svglite ÂåÖÔºàÂ¶ÇÊûúÂèØÁî®Ôºâ\nuse_svglite <- requireNamespace("svglite", quietly = TRUE)\n\nif (use_svglite) {\n  # ‰ΩøÁî® svgliteÔºàÂØπÂ≠ó‰ΩìÊîØÊåÅÊõ¥Â•ΩÔºâ\n  cat("‚úÖ ‰ΩøÁî® svglite ÂåÖÁîüÊàê SVG\\n")\n  svglite::svglite(temp_file, \n                   width = ${r}, \n                   height = ${a}, \n                   bg = "white",\n                   system_fonts = list(\n                     sans = "${c.chineseFont}",\n                     serif = "${c.chineseFont}",\n                     mono = "Courier New"\n                   ))\n} else {\n  # ÂõûÈÄÄÂà∞Âü∫Á°Ä svg()\n  cat("‚ö†Ô∏è svglite ‰∏çÂèØÁî®Ôºå‰ΩøÁî®Âü∫Á°Ä svg()\\n")\n  svg(temp_file, \n      width = ${r}, \n      height = ${a}, \n      bg = "white",\n      family = "sans")  # ‰ΩøÁî®ÈÄöÁî®ÂêçÁß∞ÔºåÂêéÁª≠Âú®ÊµèËßàÂô®Á´ØÊõøÊç¢\n}\n\n# ËÆæÁΩÆ ggplot2 ÈªòËÆ§‰∏ªÈ¢òÂ≠ó‰Ωì\n# ‰ΩøÁî® theme_update() ÂÖ®Â±ÄËÆæÁΩÆÂ≠ó‰ΩìÔºåÁ°Æ‰øùÊâÄÊúâÊñáÊú¨ÂÖÉÁ¥†ÈÉΩ‰ΩøÁî®ÊåáÂÆöÂ≠ó‰Ωì\n# Ëøô‰ºöÂΩ±ÂìçÊâÄÊúâÂêéÁª≠ÁöÑ ggplot ÂØπË±°ÔºåÂç≥‰ΩøÁî®Êà∑‰ª£Á†Å‰∏≠Êúâ theme() ‰πü‰ºöÁªßÊâøËøô‰∫õËÆæÁΩÆ\ntheme_update(\n  text = element_text(family = "${c.chineseFont}"),\n  plot.title = element_text(family = "${c.chineseFont}"),\n  plot.subtitle = element_text(family = "${c.chineseFont}"),\n  axis.title = element_text(family = "${c.chineseFont}"),\n  axis.text = element_text(family = "${c.chineseFont}"),\n  legend.title = element_text(family = "${c.chineseFont}"),\n  legend.text = element_text(family = "${c.chineseFont}"),\n  strip.text = element_text(family = "${c.chineseFont}")\n)\n\n# ÊâßË°åÁî®Êà∑‰ª£Á†Å\n${d}\n\n# ÂÖ≥Èó≠ËÆæÂ§á\ndev.off()\n\n# ËØªÂèñ SVG ÂÜÖÂÆπ\nsvg_content <- readLines(temp_file, warn = FALSE)\nsvg_text <- paste(svg_content, collapse = "\\n")\n\n# Ë∞ÉËØïÔºöÊ£ÄÊü• SVG ‰∏≠ÁöÑÂ≠ó‰ΩìËÆæÁΩÆÔºàÂú® JavaScript Â§ÑÁêÜ‰πãÂâçÔºâ\ncat("\\nüìä SVG ÁîüÊàêÂÆåÊàêÔºåÊ£ÄÊü•ÂéüÂßãÂ≠ó‰ΩìËÆæÁΩÆ:\\n")\n# ‰ΩøÁî®ÁÆÄÂçïÁöÑÊ®°ÂºèÂåπÈÖç\nif (grepl("font-family", svg_text)) {\n  cat("   ‚úÖ SVG ‰∏≠ÂåÖÂê´ font-family ËÆæÁΩÆ\\n")\n  # Â∞ùËØïÊèêÂèñÁ¨¨‰∏Ä‰∏™ font-family ÂÄº‰Ωú‰∏∫Á§∫‰æã\n  sample_match <- regmatches(svg_text, regexpr("font-family[=:][^;>]{1,50}", svg_text))\n  if (length(sample_match) > 0) {\n    cat("   Á§∫‰æã:", sample_match[1], "\\n")\n  }\n} else {\n  cat("   ‚ÑπÔ∏è ÂéüÂßã SVG Êú™ÂåÖÂê´ font-familyÔºàÊ≠£Â∏∏ÔºåJavaScript ‰ºöÊ∑ªÂä†Ôºâ\\n")\n}\n\n# ÁªüËÆ°ÊñáÊú¨ÂÖÉÁ¥†Êï∞Èáè\ntext_count <- length(gregexpr("<text", svg_text)[[1]])\nif (text_count > 0) {\n  cat("   üìù SVG ÂåÖÂê´", text_count, "‰∏™ <text> ÂÖÉÁ¥†\\n")\n}\n\nsvg_text\n`,p=await this.webR.evalR(u);let f=await p.toString();try{const e=[c.chineseFont,"sans-serif"].map(e=>`"${e}"`).join(", "),n=(f.match(/font-family/gi)||[]).length;n>0&&(f=f.replace(/font-family\s*[:=]\s*["']?[^"';>]+["']?/gi,`font-family="${e}"`),console.log(`‚úÖ ÊõøÊç¢‰∫Ü ${n} ‰∏™Áé∞ÊúâÁöÑ font-family Â±ûÊÄß`)),f=f.replace(/<text([^>]*?)>/gi,(n,t)=>/font-family/i.test(t)?n:`<text${t} font-family="${e}">`);const t=`\n              text, tspan {\n                font-family: ${e} !important;\n                -webkit-font-smoothing: antialiased;\n                -moz-osx-font-smoothing: grayscale;\n              }\n            `;f=f.includes("<style")?f.replace(/<style[^>]*>/,`$&${t}`):f.replace(/<svg[^>]*>/,`$&<style>${t}</style>`);const r=f.match(/font-family="[^"]+"/gi),a=f.match(/<text[^>]*>/gi);if(console.log("‚úÖ SVG Â≠ó‰ΩìÂ§ÑÁêÜÂÆåÊàê:"),console.log(`   - ÁõÆÊ†áÂ≠ó‰Ωì: ${c.chineseFont}`),console.log(`   - <text> ÂÖÉÁ¥†Êï∞Èáè: ${a?.length||0}`),console.log(`   - font-family Â±ûÊÄßÊï∞Èáè: ${r?.length||0}`),r&&r.length>0){const e={};r.forEach(n=>{const t=n.match(/font-family="([^"]+)"/)?.[1]||"unknown";e[t]=(e[t]||0)+1}),console.log("   - Â≠ó‰ΩìÁªüËÆ°:",e)}f.includes("<style>")&&console.log("   - ‚úÖ Â∑≤Ê∑ªÂä†ÂÖ®Â±Ä <style> Ê†áÁ≠æ‰Ωú‰∏∫Â≠ó‰ΩìÂêéÂ§á");const o=f.match(/[\u4e00-\u9fa5]+/g);o&&console.log(`üìù SVG ‰∏≠ÂåÖÂê´ ${o.length} ‰∏™‰∏≠ÊñáÊñáÊú¨ÁâáÊÆµÔºåÁ§∫‰æã:`,o.slice(0,3)),a&&a.length>0&&(console.log("\nüîç Ââç3‰∏™ <text> ÂÖÉÁ¥†Á§∫‰æã:"),a.slice(0,3).forEach((e,n)=>{console.log(`   ${n+1}. ${e.substring(0,150)}...`)}));const i=f.substring(0,800);console.log("\nüîç SVG ÂºÄÂ§¥ÈÉ®ÂàÜ:",i);const l=f.includes("<symbol"),s=f.includes("glyph"),d=f.includes("<use");(l||s)&&(console.warn("‚ö†Ô∏è SVG ‰ΩøÁî®‰∫Ü glyph/symbol Ê∏≤ÊüìÊñáÂ≠óÔºàÊñáÂ≠óË¢´ËΩ¨Êç¢ÊàêË∑ØÂæÑÔºâ"),console.warn("   ËøôÊÑèÂë≥ÁùÄÂ≠ó‰ΩìËÆæÁΩÆÊó†Ê≥ïÁîüÊïàÔºåÂõ†‰∏∫ÊñáÂ≠ó‰∏çÊòØ <text> ÂÖÉÁ¥†"),console.warn("   Ëß£ÂÜ≥ÊñπÊ°àÔºöÈúÄË¶Å‰ΩøÁî® svglite ÂåÖËÄå‰∏çÊòØÂü∫Á°Ä svg() ËÆæÂ§á"),console.log(`   - ÂåÖÂê´ <symbol>: ${l}`),console.log(`   - ÂåÖÂê´ glyph: ${s}`),console.log(`   - ÂåÖÂê´ <use>: ${d}`))}catch(e){console.warn("‚ö†Ô∏è SVG Â≠ó‰ΩìÂêéÂ§ÑÁêÜÂ§±Ë¥•:",e)}const g=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(f)))}`;return console.log(`‚úÖ ÂõæË°®ÁîüÊàêÊàêÂäüÔºÅÔºà${r}√ó${a} Ëã±ÂØ∏ÔºåSVG Áü¢ÈáèÊ†ºÂºèÔºåÂ≠ó‰ΩìÔºö${c.chineseFont}Ôºâ`),{success:!0,plotUrl:g,output:`High-quality SVG plot generated successfully (${r}√ó${a} in, vector format)`}}catch(e){return console.error("‚ùå ÂõæË°®ÁîüÊàêÂ§±Ë¥•:",e),{success:!1,error:e instanceof Error?e.message:String(e)}}}async captureOutput(e){if(!this.webR)throw new Error("WebR Êú™ÂàùÂßãÂåñ");const n=await new this.webR.Shelter;try{return(await n.captureR(e,{withAutoprint:!0,captureStreams:!0,captureConditions:!1})).output.filter(e=>"stdout"===e.type||"stderr"===e.type).map(e=>e.data)}finally{n.purge()}}isReady(){return this.isInitialized}getWebR(){return this.webR}async cleanup(){this.webR&&(await this.webR.close(),this.webR=null,this.isInitialized=!1)}clearCache(){try{localStorage.removeItem(qn),console.log("üóëÔ∏è ÁºìÂ≠òÂ∑≤Ê∏ÖÈô§")}catch(e){console.warn("‚ö†Ô∏è Ê∏ÖÈô§ÁºìÂ≠òÂ§±Ë¥•:",e)}}getCacheInfo(){const e=this.getCachedPackages();return{cachedPackages:e,hasCachedData:e.length>0}}async updateFontConfig(e,n){if(this.webR&&this.isInitialized)try{console.log(`üî§ Ê≠£Âú®Êõ¥Êñ∞Â≠ó‰ΩìÈÖçÁΩÆ: ‰∏≠Êñá=${e}, Ëã±Êñá=${n}`),await this.webR.evalR(`\n        # Êõ¥Êñ∞ÂÖ®Â±ÄÂ≠ó‰ΩìÈÖçÁΩÆ\n        options(\n          ggplot_chinese_font = "${e}",\n          ggplot_english_font = "${n}"\n        )\n        cat("‚úÖ Â≠ó‰ΩìÈÖçÁΩÆÂ∑≤Êõ¥Êñ∞: ‰∏≠Êñá=${e}, Ëã±Êñá=${n}\\n")\n      `),console.log("‚úÖ Â≠ó‰ΩìÈÖçÁΩÆÊõ¥Êñ∞ÊàêÂäü")}catch(e){throw console.error("‚ùå Êõ¥Êñ∞Â≠ó‰ΩìÈÖçÁΩÆÂ§±Ë¥•:",e),e}else console.warn("‚ö†Ô∏è WebR Â∞öÊú™ÂàùÂßãÂåñÔºåÊó†Ê≥ïÊõ¥Êñ∞Â≠ó‰ΩìÈÖçÁΩÆ")}}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},848:(e,n,t)=>{e.exports=t(20)},888:(e,n,t)=>{e.exports=t(493)},944:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/**\n * Ant Design È£éÊ†ºËÆæËÆ°Á≥ªÁªü\n * Âü∫‰∫é Ant Design 5.x ÁöÑËÆæËÆ°ËßÑËåÉ\n */\n\n/* ==================== ËÆæËÆ°‰ª§Áâå (Design Tokens) ==================== */\n:root {\n  /* === È¢úËâ≤Á≥ªÁªü === */\n  /* ÂìÅÁâåËâ≤ - Primary (ËìùËâ≤) */\n  --ant-primary-1: #e6f4ff;\n  --ant-primary-2: #bae0ff;\n  --ant-primary-3: #91caff;\n  --ant-primary-4: #69b1ff;\n  --ant-primary-5: #4096ff;\n  --ant-primary-6: #1677ff; /* ‰∏ªËâ≤ */\n  --ant-primary-7: #0958d9;\n  --ant-primary-8: #003eb3;\n  --ant-primary-9: #002c8c;\n  --ant-primary-10: #001d66;\n\n  /* ÊàêÂäüËâ≤ - Success (ÁªøËâ≤) */\n  --ant-success-1: #f6ffed;\n  --ant-success-2: #d9f7be;\n  --ant-success-3: #b7eb8f;\n  --ant-success-4: #95de64;\n  --ant-success-5: #73d13d;\n  --ant-success-6: #52c41a; /* ‰∏ªËâ≤ */\n  --ant-success-7: #389e0d;\n  --ant-success-8: #237804;\n  --ant-success-9: #135200;\n  --ant-success-10: #092b00;\n\n  /* Ë≠¶ÂëäËâ≤ - Warning (Ê©ôËâ≤) */\n  --ant-warning-1: #fffbe6;\n  --ant-warning-2: #fff1b8;\n  --ant-warning-3: #ffe58f;\n  --ant-warning-4: #ffd666;\n  --ant-warning-5: #ffc53d;\n  --ant-warning-6: #faad14; /* ‰∏ªËâ≤ */\n  --ant-warning-7: #d48806;\n  --ant-warning-8: #ad6800;\n  --ant-warning-9: #874d00;\n  --ant-warning-10: #613400;\n\n  /* ÈîôËØØËâ≤ - Error (Á∫¢Ëâ≤) */\n  --ant-error-1: #fff1f0;\n  --ant-error-2: #ffccc7;\n  --ant-error-3: #ffa39e;\n  --ant-error-4: #ff7875;\n  --ant-error-5: #ff4d4f;\n  --ant-error-6: #f5222d; /* ‰∏ªËâ≤ */\n  --ant-error-7: #cf1322;\n  --ant-error-8: #a8071a;\n  --ant-error-9: #820014;\n  --ant-error-10: #5c0011;\n\n  /* ‰ø°ÊÅØËâ≤ - Info (ËìùËâ≤) */\n  --ant-info-1: #e6f4ff;\n  --ant-info-2: #bae0ff;\n  --ant-info-3: #91caff;\n  --ant-info-4: #69b1ff;\n  --ant-info-5: #4096ff;\n  --ant-info-6: #1677ff; /* ‰∏ªËâ≤ */\n  --ant-info-7: #0958d9;\n  --ant-info-8: #003eb3;\n  --ant-info-9: #002c8c;\n  --ant-info-10: #001d66;\n\n  /* ‰∏≠ÊÄßËâ≤ - Neutral */\n  --ant-gray-1: #ffffff;\n  --ant-gray-2: #fafafa;\n  --ant-gray-3: #f5f5f5;\n  --ant-gray-4: #f0f0f0;\n  --ant-gray-5: #d9d9d9;\n  --ant-gray-6: #bfbfbf;\n  --ant-gray-7: #8c8c8c;\n  --ant-gray-8: #595959;\n  --ant-gray-9: #434343;\n  --ant-gray-10: #262626;\n  --ant-gray-11: #1f1f1f;\n  --ant-gray-12: #141414;\n  --ant-gray-13: #000000;\n\n  /* === Èó¥Ë∑ùÁ≥ªÁªü === */\n  --ant-spacing-xs: 8px;\n  --ant-spacing-sm: 12px;\n  --ant-spacing-md: 16px;\n  --ant-spacing-lg: 24px;\n  --ant-spacing-xl: 32px;\n  --ant-spacing-xxl: 48px;\n\n  /* === ÂúÜËßíÁ≥ªÁªü === */\n  --ant-border-radius-sm: 2px;\n  --ant-border-radius-base: 6px;\n  --ant-border-radius-lg: 8px;\n  --ant-border-radius-xl: 12px;\n  --ant-border-radius-xxl: 16px;\n  --ant-border-radius-round: 100px;\n  --ant-border-radius-circle: 50%;\n\n  /* === Èò¥ÂΩ±Á≥ªÁªü === */\n  --ant-shadow-1: 0 1px 2px 0 rgba(0, 0, 0, 0.03),\n                  0 1px 6px -1px rgba(0, 0, 0, 0.02),\n                  0 2px 4px 0 rgba(0, 0, 0, 0.02);\n  --ant-shadow-2: 0 3px 6px -4px rgba(0, 0, 0, 0.12),\n                  0 6px 16px 0 rgba(0, 0, 0, 0.08),\n                  0 9px 28px 8px rgba(0, 0, 0, 0.05);\n  --ant-shadow-3: 0 6px 16px 0 rgba(0, 0, 0, 0.08),\n                  0 3px 6px -4px rgba(0, 0, 0, 0.12),\n                  0 9px 28px 8px rgba(0, 0, 0, 0.05);\n\n  /* === Â≠ó‰ΩìÁ≥ªÁªü === */\n  --ant-font-size-sm: 12px;\n  --ant-font-size-base: 14px;\n  --ant-font-size-lg: 16px;\n  --ant-font-size-xl: 20px;\n  --ant-font-size-xxl: 24px;\n  --ant-font-size-heading-1: 38px;\n  --ant-font-size-heading-2: 30px;\n  --ant-font-size-heading-3: 24px;\n  --ant-font-size-heading-4: 20px;\n  --ant-font-size-heading-5: 16px;\n\n  --ant-line-height-base: 1.5715;\n  --ant-line-height-heading: 1.35;\n\n  /* === Âä®ÁîªÁ≥ªÁªü === */\n  --ant-motion-duration-fast: 0.1s;\n  --ant-motion-duration-mid: 0.2s;\n  --ant-motion-duration-slow: 0.3s;\n  --ant-motion-ease-in-out: cubic-bezier(0.645, 0.045, 0.355, 1);\n  --ant-motion-ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);\n  --ant-motion-ease-in: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  --ant-motion-ease-out-back: cubic-bezier(0.12, 0.4, 0.29, 1.46);\n\n  /* === Â±ÇÁ∫ßÁ≥ªÁªü === */\n  --ant-z-index-base: 0;\n  --ant-z-index-popup: 1000;\n  --ant-z-index-modal: 1050;\n  --ant-z-index-notification: 1060;\n  --ant-z-index-message: 1070;\n  --ant-z-index-tooltip: 1080;\n}\n\n/* ==================== ÊåâÈíÆÁªÑ‰ª∂ ==================== */\n.ant-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--ant-spacing-xs);\n  padding: 4px 15px;\n  font-size: var(--ant-font-size-base);\n  line-height: var(--ant-line-height-base);\n  font-weight: 400;\n  border: 1px solid transparent;\n  border-radius: var(--ant-border-radius-base);\n  cursor: pointer;\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  user-select: none;\n  white-space: nowrap;\n  text-align: center;\n  background: var(--ant-gray-1);\n  border-color: var(--ant-gray-5);\n  color: var(--ant-gray-13);\n  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.02);\n}\n\n.ant-btn:hover {\n  color: var(--ant-primary-6);\n  border-color: var(--ant-primary-6);\n  background: var(--ant-gray-1);\n}\n\n.ant-btn:active {\n  color: var(--ant-primary-7);\n  border-color: var(--ant-primary-7);\n}\n\n.ant-btn:disabled {\n  cursor: not-allowed;\n  opacity: 0.4;\n}\n\n/* ÊåâÈíÆÂ∞∫ÂØ∏ */\n.ant-btn-sm {\n  padding: 0px 7px;\n  font-size: var(--ant-font-size-sm);\n  height: 24px;\n}\n\n.ant-btn-lg {\n  padding: 6.4px 15px;\n  font-size: var(--ant-font-size-lg);\n  height: 40px;\n}\n\n/* ÊåâÈíÆÁ±ªÂûã - Primary */\n.ant-btn-primary {\n  background: var(--ant-primary-6);\n  border-color: var(--ant-primary-6);\n  color: var(--ant-gray-1);\n  box-shadow: 0 2px 0 rgba(5, 145, 255, 0.1);\n}\n\n.ant-btn-primary:hover {\n  background: var(--ant-primary-5);\n  border-color: var(--ant-primary-5);\n  color: var(--ant-gray-1);\n}\n\n.ant-btn-primary:active {\n  background: var(--ant-primary-7);\n  border-color: var(--ant-primary-7);\n}\n\n/* ÊåâÈíÆÁ±ªÂûã - Dashed */\n.ant-btn-dashed {\n  border-style: dashed;\n}\n\n/* ÊåâÈíÆÁ±ªÂûã - Text */\n.ant-btn-text {\n  border-color: transparent;\n  background: transparent;\n  box-shadow: none;\n}\n\n.ant-btn-text:hover {\n  background: var(--ant-gray-3);\n  border-color: transparent;\n}\n\n/* ÊåâÈíÆÁ±ªÂûã - Link */\n.ant-btn-link {\n  border-color: transparent;\n  background: transparent;\n  box-shadow: none;\n  color: var(--ant-primary-6);\n}\n\n.ant-btn-link:hover {\n  color: var(--ant-primary-5);\n  background: transparent;\n  border-color: transparent;\n}\n\n/* ÊåâÈíÆÁ±ªÂûã - Danger */\n.ant-btn-danger {\n  background: var(--ant-error-6);\n  border-color: var(--ant-error-6);\n  color: var(--ant-gray-1);\n}\n\n.ant-btn-danger:hover {\n  background: var(--ant-error-5);\n  border-color: var(--ant-error-5);\n}\n\n/* ÊåâÈíÆÁ±ªÂûã - Success */\n.ant-btn-success {\n  background: var(--ant-success-6);\n  border-color: var(--ant-success-6);\n  color: var(--ant-gray-1);\n}\n\n.ant-btn-success:hover {\n  background: var(--ant-success-5);\n  border-color: var(--ant-success-5);\n}\n\n/* ÊåâÈíÆÂΩ¢Áä∂ */\n.ant-btn-circle {\n  min-width: 32px;\n  padding: 4px;\n  border-radius: var(--ant-border-radius-circle);\n}\n\n.ant-btn-round {\n  border-radius: var(--ant-border-radius-round);\n}\n\n/* ==================== Âç°ÁâáÁªÑ‰ª∂ ==================== */\n.ant-card {\n  background: var(--ant-gray-1);\n  border-radius: var(--ant-border-radius-lg);\n  border: 1px solid var(--ant-gray-4);\n  box-shadow: var(--ant-shadow-1);\n  transition: box-shadow var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.ant-card:hover {\n  box-shadow: var(--ant-shadow-2);\n}\n\n.ant-card-head {\n  padding: var(--ant-spacing-md) var(--ant-spacing-lg);\n  border-bottom: 1px solid var(--ant-gray-4);\n  font-size: var(--ant-font-size-lg);\n  font-weight: 500;\n  color: var(--ant-gray-13);\n}\n\n.ant-card-body {\n  padding: var(--ant-spacing-lg);\n}\n\n.ant-card-bordered {\n  border: 1px solid var(--ant-gray-5);\n}\n\n.ant-card-hoverable {\n  cursor: pointer;\n}\n\n.ant-card-hoverable:hover {\n  border-color: var(--ant-primary-6);\n  box-shadow: var(--ant-shadow-3);\n}\n\n/* ==================== ËæìÂÖ•Ê°ÜÁªÑ‰ª∂ ==================== */\n.ant-input {\n  width: 100%;\n  padding: 4px 11px;\n  font-size: var(--ant-font-size-base);\n  line-height: var(--ant-line-height-base);\n  color: var(--ant-gray-13);\n  background: var(--ant-gray-1);\n  border: 1px solid var(--ant-gray-5);\n  border-radius: var(--ant-border-radius-base);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.ant-input:hover {\n  border-color: var(--ant-primary-5);\n}\n\n.ant-input:focus {\n  outline: none;\n  border-color: var(--ant-primary-6);\n  box-shadow: 0 0 0 2px rgba(5, 145, 255, 0.1);\n}\n\n.ant-input:disabled {\n  background: var(--ant-gray-3);\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.ant-input-lg {\n  padding: 6.5px 11px;\n  font-size: var(--ant-font-size-lg);\n}\n\n.ant-input-sm {\n  padding: 0px 7px;\n  font-size: var(--ant-font-size-sm);\n}\n\n/* ==================== Ê†áÁ≠æÈ°µÁªÑ‰ª∂ ==================== */\n.ant-tabs {\n  display: flex;\n  flex-direction: column;\n}\n\n.ant-tabs-nav {\n  display: flex;\n  border-bottom: 1px solid var(--ant-gray-4);\n  margin-bottom: var(--ant-spacing-md);\n}\n\n.ant-tabs-tab {\n  padding: var(--ant-spacing-sm) var(--ant-spacing-md);\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid transparent;\n  color: var(--ant-gray-8);\n  cursor: pointer;\n  font-size: var(--ant-font-size-base);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n  position: relative;\n}\n\n.ant-tabs-tab:hover {\n  color: var(--ant-primary-6);\n}\n\n.ant-tabs-tab-active {\n  color: var(--ant-primary-6);\n  border-bottom-color: var(--ant-primary-6);\n  font-weight: 500;\n}\n\n.ant-tabs-content {\n  animation: fadeIn var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* ==================== Ê†áÁ≠æÁªÑ‰ª∂ ==================== */\n.ant-tag {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--ant-spacing-xs);\n  padding: 0 7px;\n  font-size: var(--ant-font-size-sm);\n  line-height: 20px;\n  border: 1px solid var(--ant-gray-5);\n  border-radius: var(--ant-border-radius-sm);\n  background: var(--ant-gray-2);\n  color: var(--ant-gray-13);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.ant-tag-primary {\n  background: var(--ant-primary-1);\n  border-color: var(--ant-primary-3);\n  color: var(--ant-primary-7);\n}\n\n.ant-tag-success {\n  background: var(--ant-success-1);\n  border-color: var(--ant-success-3);\n  color: var(--ant-success-7);\n}\n\n.ant-tag-warning {\n  background: var(--ant-warning-1);\n  border-color: var(--ant-warning-3);\n  color: var(--ant-warning-7);\n}\n\n.ant-tag-error {\n  background: var(--ant-error-1);\n  border-color: var(--ant-error-3);\n  color: var(--ant-error-7);\n}\n\n/* ==================== ÈÄöÁü•ÁªÑ‰ª∂ ==================== */\n.ant-alert {\n  padding: var(--ant-spacing-sm) var(--ant-spacing-md);\n  border-radius: var(--ant-border-radius-base);\n  border: 1px solid transparent;\n  margin-bottom: var(--ant-spacing-md);\n}\n\n.ant-alert-info {\n  background: var(--ant-info-1);\n  border-color: var(--ant-info-3);\n  color: var(--ant-info-7);\n}\n\n.ant-alert-success {\n  background: var(--ant-success-1);\n  border-color: var(--ant-success-3);\n  color: var(--ant-success-7);\n}\n\n.ant-alert-warning {\n  background: var(--ant-warning-1);\n  border-color: var(--ant-warning-3);\n  color: var(--ant-warning-7);\n}\n\n.ant-alert-error {\n  background: var(--ant-error-1);\n  border-color: var(--ant-error-3);\n  color: var(--ant-error-7);\n}\n\n/* ==================== ÂàÜÂâ≤Á∫øÁªÑ‰ª∂ ==================== */\n.ant-divider {\n  border-top: 1px solid var(--ant-gray-4);\n  margin: var(--ant-spacing-lg) 0;\n}\n\n.ant-divider-vertical {\n  display: inline-block;\n  width: 1px;\n  height: 1em;\n  margin: 0 var(--ant-spacing-xs);\n  vertical-align: middle;\n  border-left: 1px solid var(--ant-gray-4);\n}\n\n/* ==================== ÂæΩÁ´†ÁªÑ‰ª∂ ==================== */\n.ant-badge {\n  position: relative;\n  display: inline-block;\n}\n\n.ant-badge-count {\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n  background: var(--ant-error-6);\n  color: var(--ant-gray-1);\n  font-size: var(--ant-font-size-sm);\n  line-height: 20px;\n  min-width: 20px;\n  height: 20px;\n  padding: 0 6px;\n  border-radius: var(--ant-border-radius-round);\n  text-align: center;\n  box-shadow: 0 0 0 1px var(--ant-gray-1);\n}\n\n.ant-badge-dot {\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n  width: 6px;\n  height: 6px;\n  background: var(--ant-error-6);\n  border-radius: var(--ant-border-radius-circle);\n  box-shadow: 0 0 0 1px var(--ant-gray-1);\n}\n\n/* ==================== ÂºÄÂÖ≥ÁªÑ‰ª∂ ==================== */\n.ant-switch {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 22px;\n  background: var(--ant-gray-6);\n  border-radius: var(--ant-border-radius-round);\n  cursor: pointer;\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.ant-switch::after {\n  content: '';\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  width: 18px;\n  height: 18px;\n  background: var(--ant-gray-1);\n  border-radius: var(--ant-border-radius-circle);\n  transition: all var(--ant-motion-duration-mid) var(--ant-motion-ease-out-back);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.ant-switch-checked {\n  background: var(--ant-primary-6);\n}\n\n.ant-switch-checked::after {\n  left: calc(100% - 20px);\n}\n\n.ant-switch:hover {\n  box-shadow: 0 0 0 2px rgba(5, 145, 255, 0.1);\n}\n\n/* ==================== Ê®°ÊÄÅÊ°ÜÁªÑ‰ª∂ ==================== */\n.ant-modal-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.45);\n  z-index: var(--ant-z-index-modal);\n  animation: fadeIn var(--ant-motion-duration-mid) var(--ant-motion-ease-in-out);\n}\n\n.ant-modal-wrap {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: var(--ant-z-index-modal);\n}\n\n.ant-modal {\n  background: var(--ant-gray-1);\n  border-radius: var(--ant-border-radius-lg);\n  box-shadow: var(--ant-shadow-3);\n  max-width: 520px;\n  width: 90%;\n  animation: zoomIn var(--ant-motion-duration-mid) var(--ant-motion-ease-out-back);\n}\n\n@keyframes zoomIn {\n  from {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.ant-modal-header {\n  padding: var(--ant-spacing-md) var(--ant-spacing-lg);\n  border-bottom: 1px solid var(--ant-gray-4);\n}\n\n.ant-modal-title {\n  font-size: var(--ant-font-size-lg);\n  font-weight: 500;\n  color: var(--ant-gray-13);\n  margin: 0;\n}\n\n.ant-modal-body {\n  padding: var(--ant-spacing-lg);\n}\n\n.ant-modal-footer {\n  padding: var(--ant-spacing-sm) var(--ant-spacing-md);\n  border-top: 1px solid var(--ant-gray-4);\n  display: flex;\n  justify-content: flex-end;\n  gap: var(--ant-spacing-xs);\n}\n\n/* ==================== Â∑•ÂÖ∑ÊèêÁ§∫ÁªÑ‰ª∂ ==================== */\n.ant-tooltip {\n  position: absolute;\n  z-index: var(--ant-z-index-tooltip);\n  max-width: 250px;\n  padding: 6px 8px;\n  background: rgba(0, 0, 0, 0.85);\n  color: var(--ant-gray-1);\n  font-size: var(--ant-font-size-sm);\n  border-radius: var(--ant-border-radius-base);\n  box-shadow: var(--ant-shadow-2);\n  animation: fadeIn var(--ant-motion-duration-fast) var(--ant-motion-ease-in-out);\n}\n\n/* ==================== Âä†ËΩΩÂä®Áîª ==================== */\n.ant-spin {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  border: 2px solid var(--ant-primary-1);\n  border-top-color: var(--ant-primary-6);\n  border-radius: var(--ant-border-radius-circle);\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.ant-spin-lg {\n  width: 32px;\n  height: 32px;\n  border-width: 3px;\n}\n\n.ant-spin-sm {\n  width: 14px;\n  height: 14px;\n  border-width: 2px;\n}\n\n/* ==================== Á©∫Áä∂ÊÄÅÁªÑ‰ª∂ ==================== */\n.ant-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--ant-spacing-xxl) var(--ant-spacing-md);\n  color: var(--ant-gray-7);\n}\n\n.ant-empty-image {\n  font-size: 64px;\n  margin-bottom: var(--ant-spacing-md);\n  opacity: 0.4;\n}\n\n.ant-empty-description {\n  font-size: var(--ant-font-size-base);\n  color: var(--ant-gray-7);\n}\n\n/* ==================== Â∑•ÂÖ∑Á±ª ==================== */\n.ant-text-primary {\n  color: var(--ant-primary-6);\n}\n\n.ant-text-success {\n  color: var(--ant-success-6);\n}\n\n.ant-text-warning {\n  color: var(--ant-warning-6);\n}\n\n.ant-text-error {\n  color: var(--ant-error-6);\n}\n\n.ant-text-secondary {\n  color: var(--ant-gray-7);\n}\n\n.ant-text-disabled {\n  color: var(--ant-gray-6);\n}\n\n.ant-bg-primary {\n  background: var(--ant-primary-1);\n}\n\n.ant-bg-success {\n  background: var(--ant-success-1);\n}\n\n.ant-bg-warning {\n  background: var(--ant-warning-1);\n}\n\n.ant-bg-error {\n  background: var(--ant-error-1);\n}\n\n/* ==================== ÂìçÂ∫îÂºèÂ∑•ÂÖ∑Á±ª ==================== */\n@media (max-width: 576px) {\n  .ant-hidden-xs {\n    display: none !important;\n  }\n}\n\n@media (max-width: 768px) {\n  .ant-hidden-sm {\n    display: none !important;\n  }\n}\n\n@media (max-width: 992px) {\n  .ant-hidden-md {\n    display: none !important;\n  }\n}\n\n@media (max-width: 1200px) {\n  .ant-hidden-lg {\n    display: none !important;\n  }\n}\n\n@media (max-width: 1600px) {\n  .ant-hidden-xl {\n    display: none !important;\n  }\n}\n",""]);const l=i},947:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,"/* ========== ÁßØÊú®ËäÇÁÇπÊ†∑Âºè ========== */\n.block-node {\n  position: relative;\n  min-width: 220px;\n  padding: var(--spacing-md);\n  padding-top: var(--spacing-xl);\n  padding-bottom: var(--spacing-xl);\n  background: var(--bg-white);\n  border: var(--border-width-thick) solid var(--border-color);\n  border-left: 5px solid #3b82f6;\n  border-radius: var(--radius-lg);\n  box-shadow: var(--shadow-md);\n  cursor: move;\n  transition: box-shadow var(--transition-base);\n  user-select: none;\n}\n\n/* ÂÆπÂô®Á±ªÁßØÊú®ÁöÑÊµÖÁ¥´Ëâ≤ËÉåÊôØ */\n.block-node.container-block {\n  background: var(--bg-container);\n}\n\n.block-node:hover {\n  box-shadow: var(--shadow-lg);\n  transform: translateY(-2px);\n}\n\n.block-node.selected {\n  border-color: var(--color-primary);\n  box-shadow: var(--shadow-primary);\n  animation: selected-glow 2s ease-in-out infinite;\n}\n\n.block-node.dragging {\n  opacity: 0.8;\n  cursor: grabbing;\n  box-shadow: var(--shadow-xl);\n  z-index: var(--z-dragging);\n  transform: none !important;\n  pointer-events: none; /* ËÆ©ÊãñÊãΩÁöÑÂÖÉÁ¥†‰∏çÈòªÊå°Èº†Ê†á‰∫ã‰ª∂Ôºå‰Ωø‰∫ã‰ª∂ËÉΩÁ©øÈÄèÂà∞‰∏ãÈù¢ÁöÑÊèíÊßΩ */\n}\n\n/* ========== ÁßØÊú®Â§¥ÈÉ® ========== */\n.block-node-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-sm);\n}\n\n.block-node-label {\n  font-weight: var(--font-semibold);\n  font-size: var(--font-md);\n  color: var(--color-gray-800);\n}\n\n.block-node-delete {\n  padding: 0.2rem;\n  background: transparent;\n  border: none;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  color: var(--color-gray-400);\n  transition: var(--transition-all);\n}\n\n.block-node-delete:hover {\n  background: var(--color-danger-bg);\n  color: var(--color-danger);\n}\n\n/* ========== ÂèÇÊï∞ÊòæÁ§∫ ========== */\n.block-node-params {\n  display: flex;\n  flex-direction: column;\n  gap: 0.3rem;\n}\n\n.param-display {\n  display: flex;\n  gap: var(--spacing-sm);\n  font-size: var(--font-sm);\n}\n\n.param-label {\n  color: var(--color-gray-500);\n  font-weight: var(--font-medium);\n}\n\n.param-value {\n  color: var(--color-gray-800);\n  font-weight: var(--font-semibold);\n}\n\n/* ========== ËøûÊé•ÁÇπ ========== */\n.connection-point {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--bg-white);\n  border: var(--border-width-thick) solid var(--border-color);\n  border-radius: var(--radius-full);\n  cursor: pointer;\n  transition: var(--transition-all);\n  z-index: var(--z-dropdown);\n}\n\n.connection-point:hover {\n  transform: translateX(-50%) scale(1.3);\n  border-color: var(--color-primary);\n  box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.3);\n}\n\n.connection-point:active {\n  transform: translateX(-50%) scale(1.15);\n  background: var(--color-primary);\n}\n\n.connection-input {\n  top: -12px;\n}\n\n.connection-output {\n  bottom: -12px;\n}\n\n/* üîß Âæ™ÁéØ‰ΩìËøûÊé•ÁÇπÔºàÂú®ÊèíÊßΩÂÜÖÈÉ®Ôºâ */\n.connection-body-input,\n.connection-body-output {\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 20px;\n  height: 20px;\n  margin: 4px auto;\n  background: rgba(147, 51, 234, 0.1); /* ÊµÖÁ¥´Ëâ≤ËÉåÊôØÔºåÊõ¥ÊòæÁúº */\n  border: 2px solid #9333ea; /* Á¥´Ëâ≤ËæπÊ°Ü */\n  border-radius: var(--radius-full);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: crosshair; /* ÂçÅÂ≠óÂÖâÊ†áË°®Á§∫ÂèØ‰ª•ËøûÊé• */\n  transition: var(--transition-all);\n  z-index: 5;\n}\n\n.connection-body-input {\n  margin-bottom: 8px;\n}\n\n.connection-body-output {\n  margin-top: 8px;\n}\n\n.connection-body-input:hover,\n.connection-body-output:hover {\n  transform: translateX(-50%) scale(1.3);\n  background: rgba(147, 51, 234, 0.2);\n  border-color: #7e22ce;\n  box-shadow: 0 0 0 3px rgba(147, 51, 234, 0.2);\n}\n\n.connection-body-input svg,\n.connection-body-output svg {\n  stroke: #9333ea;\n  stroke-width: 2;\n}\n\n.connection-point svg {\n  stroke: var(--color-gray-500);\n  stroke-width: 1.5;\n}\n\n.connection-point:hover svg {\n  stroke: var(--color-primary);\n}\n\n/* ========== È°∫Â∫èÊ†áËÆ∞ ========== */\n.block-order-badge {\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  width: 24px;\n  height: 24px;\n  background: var(--gradient-purple);\n  color: var(--bg-white);\n  border-radius: var(--radius-full);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: var(--font-xs);\n  font-weight: var(--font-bold);\n  box-shadow: var(--shadow-sm);\n  z-index: 5;\n}\n\n/* ========== ÂÆπÂô®ÂûãÁßØÊú®ÔºàCÂûãÔºâÁöÑÊ†∑Âºè ========== */\n.block-slots {\n  margin-top: var(--spacing-md);\n  margin-bottom: var(--spacing-md);\n}\n\n.block-slot {\n  margin: var(--spacing-md) 0;  /* Â¢ûÂä†ÊèíÊßΩ‰πãÈó¥ÁöÑÈó¥Ë∑ù */\n}\n\n.slot-label {\n  font-size: 11px;\n  font-weight: var(--font-semibold);\n  color: var(--color-gray-500);\n  margin-bottom: var(--spacing-sm);\n  padding: 0 var(--spacing-sm);\n}\n\n.slot-drop-zone {\n  min-height: 60px;\n  background: rgba(243, 244, 246, 0.8);\n  border: var(--border-width-thick) dashed var(--border-color-light);\n  border-radius: var(--radius-md);\n  padding: var(--spacing-md);  /* Â¢ûÂä†ÊèíÊßΩÂÜÖÁöÑpadding */\n  margin: 0 var(--spacing-sm);\n  transition: var(--transition-all) ease;\n  /* Á°Æ‰øùÊèíÊßΩÂÜÖÂÆπÂèØËßÅÔºå‰∏ç‰ΩøÁî® max-height Âíå overflow: hidden */\n  /* Â¶ÇÊûúÂÜÖÂÆπÂ§™Â§öÔºåÊï¥‰∏™ÂÆπÂô®‰ºöÂèòÈ´òÔºåËÄå‰∏çÊòØÈöêËóèÂÜÖÂÆπ */\n}\n\n.slot-drop-zone:hover {\n  background: rgba(243, 244, 246, 1);\n  border-color: var(--color-gray-400);\n}\n\n.slot-placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 44px;\n  font-size: 12px;\n  color: var(--color-gray-400);\n  font-style: italic;\n  pointer-events: none; /* ËÆ©Âç†‰ΩçÁ¨¶‰∏çÈòªÊå°Èº†Ê†á‰∫ã‰ª∂ */\n}\n\n.slot-children {\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);  /* Â¢ûÂä†ÁßØÊú®‰πãÈó¥ÁöÑÈó¥Ë∑ù */\n  /* ‰∏çËÆæÁΩÆ max-height Âíå overflowÔºåÁ°Æ‰øùÊâÄÊúâÂ≠êÂÖÉÁ¥†ÈÉΩÂèØËßÅ */\n  /* ËøôÊ†∑ËøûÊé•Á∫øÊâçËÉΩÊ≠£Á°ÆËÆ°ÁÆó‰ΩçÁΩÆ */\n}\n\n.slot-children .block-node {\n  margin: var(--spacing-xs) 0;  /* Ê∑ªÂä†‰∏ä‰∏ãÈó¥Ë∑ù */\n  width: 100%;\n}\n\n",""]);const l=i},961:(e,n,t)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=t(551)},982:(e,n,t)=>{e.exports=t(463)},998:(e,n,t)=>{var r,a;t.d(n,{C:()=>r,_:()=>a}),function(e){e.BASE="base",e.DATA="data",e.GEOM="geom",e.AES="aes",e.SCALE="scale",e.THEME="theme",e.COORD="coord",e.STAT="stat",e.FACET="facet",e.LABS="labs"}(r||(r={})),function(e){e.START="start",e.LIBRARY="library",e.PRINT="print",e.ASSIGN="assign",e.FOR_LOOP="for_loop",e.IF_STATEMENT="if_statement",e.FUNCTION_CALL="function_call",e.COMMENT="comment",e.CUSTOM_CODE="custom_code",e.C_VECTOR="c_vector",e.SEQ="seq",e.REP="rep",e.PASTE="paste",e.FACTOR="factor",e.AS_FACTOR="as_factor",e.IFELSE="ifelse",e.DATA_FRAME="data_frame",e.MATRIX="matrix",e.RBIND="rbind",e.CBIND="cbind",e.NROW="nrow",e.NCOL="ncol",e.COLNAMES="colnames",e.ROWNAMES="rownames",e.LEVELS="levels",e.NLEVELS="nlevels",e.SUM="sum",e.MEAN="mean",e.MIN="min",e.MAX="max",e.MEDIAN="median",e.SD="sd",e.VAR="var",e.LENGTH="length",e.SAMPLE="sample",e.DATA_IMPORT="data_import",e.GGPLOT_INIT="ggplot_init",e.AES="aes",e.GEOM_POINT="geom_point",e.GEOM_LINE="geom_line",e.GEOM_BAR="geom_bar",e.GEOM_COL="geom_col",e.GEOM_HISTOGRAM="geom_histogram",e.GEOM_BOXPLOT="geom_boxplot",e.GEOM_SMOOTH="geom_smooth",e.GEOM_TEXT="geom_text",e.GEOM_AREA="geom_area",e.GEOM_SEGMENT="geom_segment",e.SCALE_X_CONTINUOUS="scale_x_continuous",e.SCALE_Y_CONTINUOUS="scale_y_continuous",e.SCALE_COLOR_MANUAL="scale_color_manual",e.SCALE_FILL_MANUAL="scale_fill_manual",e.SCALE_COLOR_BREWER="scale_color_brewer",e.SCALE_FILL_BREWER="scale_fill_brewer",e.SCALE_FILL_GRADIENT="scale_fill_gradient",e.SCALE_FILL_VIRIDIS="scale_fill_viridis",e.COORD_FLIP="coord_flip",e.COORD_CARTESIAN="coord_cartesian",e.COORD_POLAR="coord_polar",e.YLIM="ylim",e.FACET_WRAP="facet_wrap",e.FACET_GRID="facet_grid",e.STAT_SUMMARY="stat_summary",e.STAT_SMOOTH="stat_smooth",e.LABS="labs",e.GGTITLE="ggtitle",e.XLAB="xlab",e.YLAB="ylab",e.THEME_MINIMAL="theme_minimal",e.THEME_CLASSIC="theme_classic",e.THEME_BW="theme_bw",e.THEME_GRAY="theme_gray",e.THEME_LIGHT="theme_light",e.THEME_DARK="theme_dark",e.THEME_VOID="theme_void",e.THEME="theme",e.GGSAVE="ggsave",e.ANNOTATE="annotate",e.GATHER="gather",e.ARRANGE="arrange",e.MUTATE="mutate",e.SUMMARIZE="summarize",e.GROUP_BY="group_by",e.ROWWISE="rowwise",e.UNIT="unit",e.ELEMENT_BLANK="element_blank",e.PIPE_OPERATOR="pipe_operator",e.INDEX_ACCESS="index_access",e.ARITHMETIC_EXPR="arithmetic_expr",e.SUBSET_ACCESS="subset_access",e.NEGATIVE_INDEX="negative_index",e.NAMESPACE_CALL="namespace_call"}(a||(a={}))}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0;var r=t(848),a=t(540),o=t(338),i=t(998),l=t(380);const s={[i.C.BASE]:"‚öôÔ∏è Âü∫Á°ÄËØ≠Âè•",[i.C.DATA]:"üìä Êï∞ÊçÆ",[i.C.GEOM]:"üìà Âá†‰ΩïÂØπË±°",[i.C.AES]:"üé® ÁæéÂ≠¶Êò†Â∞Ñ",[i.C.SCALE]:"üìè Ê†áÂ∫¶",[i.C.THEME]:"üé≠ ‰∏ªÈ¢ò",[i.C.COORD]:"üìê ÂùêÊ†áÁ≥ª",[i.C.STAT]:"üìä ÁªüËÆ°",[i.C.FACET]:"üî≤ ÂàÜÈù¢",[i.C.LABS]:"üè∑Ô∏è Ê†áÁ≠æ"},c=({onBlockDragStart:e})=>{const[n,t]=(0,a.useState)(i.C.BASE),o=Object.keys(l.k),c=l.k[n]||[];return(0,r.jsxs)("div",{className:"block-palette",children:[(0,r.jsx)("div",{className:"palette-header",children:(0,r.jsx)("h2",{children:"ÁßØÊú®Èù¢Êùø"})}),(0,r.jsx)("div",{className:"category-tabs",children:o.map(e=>(0,r.jsx)("button",{className:"category-tab "+(n===e?"active":""),onClick:()=>t(e),children:s[e]},e))}),(0,r.jsx)("div",{className:"blocks-list",children:c.map(n=>(0,r.jsxs)("div",{className:"block-item",onMouseDown:t=>{t.preventDefault(),e(n,t)},style:{borderLeftColor:n.color,cursor:"grab"},children:[(0,r.jsx)("div",{className:"block-header",children:(0,r.jsx)("span",{className:"block-label",children:n.label})}),(0,r.jsx)("div",{className:"block-description",children:n.description})]},n.id))})]})};var d=t(357),u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=(e,n)=>{const t=(0,a.forwardRef)(({color:t="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,children:l,...s},c)=>{return(0,a.createElement)("svg",{ref:c,...u,width:r,height:r,stroke:t,strokeWidth:i?24*Number(o)/Number(r):o,className:`lucide lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...s},[...n.map(([e,n])=>(0,a.createElement)(e,n)),...(Array.isArray(l)?l:[l])||[]]);var d});return t.displayName=`${e}`,t},f=p("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),g=p("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m=({block:e,definition:n,onClick:t,onDelete:o,onMouseDown:i,onConnectionStart:s,onConnectionEnd:c,onDropToSlot:u,isDragging:p=!1,isSelected:h=!1,dropTarget:b=null})=>{const{blocks:y}=(0,d.useBlockStore)(),v=(n,t)=>{n.stopPropagation(),n.preventDefault(),s&&s(e.id,t,n)},x=(n,t)=>{n.stopPropagation(),n.preventDefault(),c&&c(e.id,t)},w=n.slots&&n.slots.length>0;return(0,r.jsxs)("div",{className:`block-node ${w?"container-block":""} ${h?"selected":""} ${p?"dragging":""}`,"data-block-id":e.id,style:{borderLeftColor:n.color,boxShadow:h?"0 0 0 3px rgba(79, 70, 229, 0.5)":void 0},onClick:t,onMouseDown:i,children:[(0,r.jsx)("div",{className:"connection-point connection-input",onMouseDown:e=>v(e,"input"),onMouseUp:e=>x(e,"input"),title:"ËæìÂÖ•ËøûÊé•ÁÇπ - ËøûÊé•Âà∞‰∏ä‰∏Ä‰∏™ÁßØÊú®",children:(0,r.jsx)(f,{size:12,fill:e.connections.input?n.color:"white"})}),(0,r.jsxs)("div",{className:"block-node-header",children:[(0,r.jsx)("span",{className:"block-node-label",children:n.label}),(0,r.jsx)("button",{className:"block-node-delete",onClick:n=>{n.stopPropagation(),o(e.id)},onMouseDown:e=>{e.stopPropagation()},children:(0,r.jsx)(g,{size:14})})]}),(0,r.jsx)("div",{className:"block-node-params",children:Object.entries(e.params).map(([e,t])=>{const a=n.params.find(n=>n.name===e);return a&&void 0!==t&&""!==t?(0,r.jsxs)("div",{className:"param-display",children:[(0,r.jsxs)("span",{className:"param-label",children:[a.label,":"]}),(0,r.jsx)("span",{className:"param-value",children:String(t)})]},e):null})}),n.isContainer&&n.slots&&(0,r.jsx)("div",{className:"block-slots",children:n.slots.map(d=>{const p=e.children?.[d.name]||[],g=b?.containerId===e.id&&b?.slotName===d.name;return(0,r.jsxs)("div",{className:"block-slot "+(g?"drop-target":""),children:[(0,r.jsx)("div",{className:"slot-label",children:d.label}),(0,r.jsx)("div",{className:"connection-point connection-body-input",onMouseDown:e=>v(e,"bodyInput"),onMouseUp:e=>x(e,"bodyInput"),title:"Âæ™ÁéØ‰ΩìËæìÂÖ• - ËøûÊé•Âà∞Âæ™ÁéØ‰ΩìÁ¨¨‰∏Ä‰∏™ÁßØÊú®",children:(0,r.jsx)(f,{size:10,fill:e.connections.bodyInput?n.color:"white"})}),(0,r.jsx)("div",{className:"slot-drop-zone",children:0===p.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"slot-placeholder",children:"ÊãñÊãΩÁßØÊú®Âà∞ËøôÈáå"}),g&&(0,r.jsx)("div",{className:"drop-indicator",style:{top:0}})]}):(0,r.jsxs)("div",{className:"slot-children",children:[p.map((e,n)=>{const d=y.find(n=>n.id===e),p=d?(f=d.blockType,l.e.find(e=>e.type===f)):null;var f;return d&&p?(0,r.jsxs)(a.Fragment,{children:[g&&b.insertIndex===n&&(0,r.jsx)("div",{className:"drop-indicator"}),(0,r.jsx)(m,{block:d,definition:p,onClick:e=>{e.stopPropagation(),t(e)},onDelete:o,onMouseDown:e=>{e.stopPropagation(),i?.(e)},onConnectionStart:s,onConnectionEnd:c,onDropToSlot:u,dropTarget:b})]},e):null}),g&&b.insertIndex===p.length&&(0,r.jsx)("div",{className:"drop-indicator"})]})}),(0,r.jsx)("div",{className:"connection-point connection-body-output",onMouseDown:e=>v(e,"bodyOutput"),onMouseUp:e=>x(e,"bodyOutput"),title:"Âæ™ÁéØ‰ΩìËæìÂá∫ - ËøûÊé•Âà∞Âæ™ÁéØ‰ΩìÊúÄÂêé‰∏Ä‰∏™ÁßØÊú®",children:(0,r.jsx)(f,{size:10,fill:e.connections.bodyOutput?n.color:"white"})})]},d.name)})}),(0,r.jsx)("div",{className:"connection-point connection-output",onMouseDown:e=>v(e,"output"),onMouseUp:e=>x(e,"output"),title:"ËæìÂá∫ËøûÊé•ÁÇπ - ËøûÊé•Âà∞‰∏ã‰∏Ä‰∏™ÁßØÊú®",children:(0,r.jsx)(f,{size:12,fill:e.connections.output?n.color:"white"})}),e.order>0&&(0,r.jsxs)("div",{className:"block-order-badge",children:["#",e.order+1]})]})},h=m;var b=t(704);const y=(e,n)=>({source:{...e,connections:{...e.connections,output:n.id}},target:{...n,connections:{...n.connections,input:e.id},order:e.order+1}}),v=(e,n)=>{const t=new Map(e.map(e=>[e.id,e])),r=[...e];let a=t.get(n),o=0;for(;a;){const e=r.findIndex(e=>e.id===a.id);-1!==e&&(r[e]={...r[e],order:o}),o++;const n=a.connections.output;a=n?t.get(n):void 0}return r},x=(0,a.forwardRef)((e,n)=>{const{blocks:t,addBlock:o,removeBlock:i,updateBlock:s,updateBlocks:c,setSelectedBlock:u,setGeneratedCode:p,selectedBlockIds:f,setSelectedBlocks:g,toggleBlockSelection:m,clearSelection:x,setSyncSource:w}=(0,d.useBlockStore)(),[k,_]=(0,a.useState)(null),[S,E]=(0,a.useState)(null),[j,C]=(0,a.useState)(null),[T,N]=(0,a.useState)(null),[A,R]=(0,a.useState)(null),O=(0,a.useRef)(0),M=(0,a.useRef)(null),[I,z]=(0,a.useState)(!1),[P,L]=(0,a.useState)(null),[D,$]=(0,a.useState)(null),[U,B]=(0,a.useState)(!1),[F,q]=(0,a.useState)([]),[W,V]=(0,a.useState)(null);(0,a.useEffect)(()=>{const{syncSource:e}=d.useBlockStore.getState();if("code"===e){const e=setTimeout(()=>{w(null)},100);return()=>clearTimeout(e)}w("blocks");const n=(0,b.generateRCode)(t);p(n);const r=setTimeout(()=>{w(null)},100);return()=>clearTimeout(r)},[t,p,w]),(0,a.useLayoutEffect)(()=>{const e=requestAnimationFrame(()=>{const e=ue();q(e)});return()=>cancelAnimationFrame(e)},[t,k]);const G=(0,a.useCallback)((e,n)=>{n.preventDefault();const t=M.current;if(!t)return;const r=t.getBoundingClientRect(),a=Math.max(0,n.clientX-r.left-100),i=Math.max(0,n.clientY-r.top-20),l={id:`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,blockType:e.type,position:{x:a,y:i},params:e.params.reduce((e,n)=>(e[n.name]=n.defaultValue,e),{}),connections:{input:null,output:null},order:0};o(l),_(l.id),C({x:100,y:20}),u(l.id)},[o,u]);(0,a.useImperativeHandle)(n,()=>({handleBlockDragStart:G})),(0,a.useCallback)(e=>{},[]);const H=(0,a.useCallback)((e,n)=>{U?B(!1):n.ctrlKey||n.metaKey?m(e):u(e)},[u,m,U]),X=(0,a.useCallback)((e,n,r,a)=>{const o=t.find(n=>n.id===e),i=t.find(e=>e.id===r);if(!o||!i)return;if(e===r)return;if(i.connections?.input){const e=t.find(e=>e.id===i.connections.input);e&&s(e.id,{connections:{...e.connections,output:null}})}if(i.connections?.output){const e=t.find(e=>e.id===i.connections.output);e&&s(e.id,{connections:{...e.connections,input:null}})}if(i.parentId){const e=t.find(e=>e.id===i.parentId);if(e&&e.children&&i.slotName){const n=e.children[i.slotName]||[];s(e.id,{children:{...e.children,[i.slotName]:n.filter(e=>e!==r)}})}}s(r,{parentId:e,slotName:n,connections:{input:null,output:null},position:{x:0,y:0}});const l=o.children||{},c=(l[n]||[]).filter(e=>e!==r);let d;d=void 0!==a&&a>=0&&a<=c.length?[...c.slice(0,a),r,...c.slice(a)]:[...c,r],s(e,{children:{...l,[n]:d}})},[t,s]),Y=(0,a.useCallback)(e=>{if(0!==e.button)return;const n=e.target,t=n.closest(".block-container")||n.closest(".block-node")||n.closest(".connection-layer")||n.closest(".selection-box");if(console.log("Canvas mousedown:",{target:n,isClickOnBlock:t,className:n.className}),t)return;const r=M.current;if(!r)return;const a=r.getBoundingClientRect(),o=r.scrollLeft,i=r.scrollTop,l=e.clientX-a.left+o,s=e.clientY-a.top+i;console.log("Canvas mousedown - starting selection:",{x:l,y:s}),z(!0),L({x:l,y:s}),$({x:l,y:s}),B(!1),e.ctrlKey||e.metaKey||x()},[x]),Q=(0,a.useCallback)(e=>{if(!I||!P||!M.current)return;const n=M.current,r=n.getBoundingClientRect(),a=n.scrollLeft,o=n.scrollTop,i=e.clientX-r.left+a,l=e.clientY-r.top+o,s=Math.abs(i-P.x),c=Math.abs(l-P.y);if((s>5||c>5)&&B(!0),console.log("Selection move:",{x:i,y:l,deltaX:s,deltaY:c,isSelecting:I,selectionStart:P}),$({x:i,y:l}),s>5||c>5){const e=Math.min(P.x,i),n=Math.max(P.x,i),r=Math.min(P.y,l),a=Math.max(P.y,l),o=[];t.forEach(t=>{const i=t.position.x,l=t.position.y,s=document.querySelector(`[data-block-id="${t.id}"]`);let c=220,d=80;if(s){const e=s.querySelector(".block-node");if(e){const n=e.getBoundingClientRect();c=n.width,d=n.height}}i+c>=e&&i<=n&&l+d>=r&&l<=a&&o.push(t.id)}),g(o)}},[I,P,t,g]),K=(0,a.useCallback)(()=>{z(!1),L(null),$(null)},[]),J=(0,a.useCallback)((e,n)=>{e.stopPropagation();const r=t.find(e=>e.id===n);if(!r)return;const a=document.querySelector(".canvas-content");if(!a)return;const o=a.getBoundingClientRect(),i=a.scrollLeft,l=a.scrollTop;if(f.includes(n)||e.ctrlKey||e.metaKey||u(n),r.parentId){const a=document.querySelector(`[data-block-id="${n}"]`);if(a){const c=a.getBoundingClientRect(),d=c.left-o.left+i,u=c.top-o.top+l;C({x:e.clientX-c.left,y:e.clientY-c.top}),_(n),B(!1),requestAnimationFrame(()=>{const e=t.find(e=>e.id===r.parentId);if(e&&e.children&&r.slotName){const t=e.children[r.slotName]||[];s(e.id,{children:{...e.children,[r.slotName]:t.filter(e=>e!==n)}})}s(n,{parentId:void 0,slotName:void 0,position:{x:d,y:u}})})}}else C({x:e.clientX-o.left-r.position.x,y:e.clientY-o.top-r.position.y}),_(n),B(!1)},[t,u,f,s]),Z=(e,n,t,r)=>Math.sqrt(Math.pow(t-e,2)+Math.pow(r-n,2)),ee=(0,a.useCallback)(e=>{if(!k||!j)return;B(!0);const n=document.querySelector(".canvas-content");if(!n)return;const r=n.getBoundingClientRect(),a=Math.max(0,e.clientX-r.left-j.x),o=Math.max(0,e.clientY-r.top-j.y),i=t.find(e=>e.id===k);if(!i)return;const d=document.elementFromPoint(e.clientX,e.clientY),u=d?.closest(".slot-drop-zone");if(u){const n=u.closest(".block-slot"),r=n?.closest("[data-block-id]");if(r){const a=r.getAttribute("data-block-id"),o=n?.querySelector(".slot-label")?.textContent;if(!a)return;const i=t.find(e=>e.id===a);if(i&&a!==k){const n=l.e.find(e=>e.type===i.blockType),t=n?.slots?.find(e=>e.label===o);if(t){let n=0;const r=u.querySelector(".slot-children");if(r){const t=Array.from(r.children),a=e.clientY;for(let e=0;e<t.length;e++){const r=t[e].getBoundingClientRect();if(a<r.top+r.height/2){n=e;break}}if(0===n&&t.length>0){const e=t[0].getBoundingClientRect();a>=e.top+e.height/2&&(n=t.length)}else 0===n&&(n=0)}V({containerId:a,slotName:t.name,insertIndex:n}),E(null)}}}}else{V(null);const e=((e,n,r)=>{let a=null;const o=r+80,i=r;if(!document.querySelector(".canvas-content"))return null;const l=document.querySelector(`[data-block-id="${k}"]`),s=n+(l?.querySelector(".block-node")?.getBoundingClientRect().width||200)/2;return t.forEach(n=>{if(n.id===k)return;const t=document.querySelector(`[data-block-id="${n.id}"]`);if(!t)return;const r=t.querySelector(".block-node")?.getBoundingClientRect().width||200,l=n.position.x+r/2;if(e.connections.output!==n.id&&!n.connections.input){const e=n.position.y,t=Z(s,o,l,e);t<50&&(!a||t<a.distance)&&(a={blockId:n.id,type:"input",distance:t})}if(n.connections.output!==k&&!e.connections.input){const e=n.position.y+80,t=Z(l,e,s,i);t<50&&(!a||t<a.distance)&&(a={blockId:n.id,type:"output",distance:t})}}),a})(i,a,o);E(e)}const p=a-i.position.x,g=o-i.position.y,m=Date.now();if(m-O.current>=16)if(O.current=m,f.length>1&&f.includes(k)){const e=t.map(e=>f.includes(e.id)?{...e,position:{x:Math.max(0,e.position.x+p),y:Math.max(0,e.position.y+g)}}:e);c(e)}else s(k,{position:{x:a,y:o}})},[k,j,t,s,c,16,f,l.e]),ne=(0,a.useCallback)(e=>{if(!k)return;const n=document.elementFromPoint(e.clientX,e.clientY);console.log("üéØ Drop target element:",n,n?.className);const r=n?.closest(".slot-drop-zone");if(console.log("üì¶ Slot drop zone:",r),r){const n=r.closest(".block-slot"),a=n?.closest("[data-block-id]");if(console.log("üîç Found container:",a?.getAttribute("data-block-id")),console.log("üîç Found slot:",n?.querySelector(".slot-label")?.textContent),a){const o=a.getAttribute("data-block-id"),i=n?.querySelector(".slot-label")?.textContent,s=t.find(e=>e.id===o);if(s){const n=l.e.find(e=>e.type===s.blockType),t=n?.slots?.find(e=>e.label===i);if(console.log("‚úÖ Dropping to slot:",t?.name,"in container:",o),t&&o){let n;const a=r.querySelector(".slot-children");if(a){const t=Array.from(a.children),r=e.clientY;for(let e=0;e<t.length;e++){const a=t[e].getBoundingClientRect();if(r<a.top+a.height/2){n=e;break}}void 0===n&&(n=t.length)}return X(o,t.name,k,n),_(null),C(null),E(null),void V(null)}}}}if(S){const e=t.find(e=>e.id===k),n=t.find(e=>e.id===S.blockId);if(e&&n){let r,a;"input"===S.type?({source:r,target:a}=y(e,n)):({source:r,target:a}=y(n,e));const o=t.map(e=>e.id===r.id?r:e.id===a.id?a:e),i=le(o,r.id),l=v(o,i);c(l)}}_(null),C(null),E(null),V(null)},[k,S,t,c,X,l.e]),[te,re]=(0,a.useState)(null),ae=(0,a.useCallback)((e,n,r)=>{const a=t.find(n=>n.id===e);if(a){if(r?.shiftKey)return console.log("üîó [Canvas] Shift+ÊãñÊãΩÔºöÂáÜÂ§áÂàõÂª∫ ggplot ËôöÁ∫øËøûÊé•"),void N({blockId:e,type:n,isGgplotConnection:!0});if("output"===n&&a.connections.output){const n=a.connections.output;re({sourceId:e,targetId:n});const r=t.find(e=>e.id===n);if(r){const e={...a,connections:{...a.connections,output:null}},n={...r,connections:{...r.connections,input:null},order:0};s(e.id,e),s(n.id,n)}}else if("input"===n&&a.connections.input){const n=a.connections.input;re({sourceId:n,targetId:e});const r=t.find(e=>e.id===n);if(r){const e={...r,connections:{...r.connections,output:null}},n={...a,connections:{...a.connections,input:null},order:0};s(e.id,e),s(n.id,n)}}else"bodyInput"===n&&a.connections.bodyInput?s(e,{connections:{...a.connections,bodyInput:null}}):"bodyOutput"===n&&a.connections.bodyOutput&&s(e,{connections:{...a.connections,bodyOutput:null}});N({blockId:e,type:n,isGgplotConnection:!1})}},[t,s]),oe=(0,a.useCallback)((e,n)=>{if(!T)return;const r=t.find(e=>e.id===T.blockId),a=t.find(n=>n.id===e);if(!r||!a||r.id===a.id)return N(null),void re(null);if(T.isGgplotConnection){console.log("‚úÖ [Canvas] ÂàõÂª∫ ggplot ËôöÁ∫øËøûÊé•:",r.id,"->",a.id);const e={...r,ggplotConnections:[...r.ggplotConnections||[],a.id]};return s(r.id,e),N(null),void R(null)}if("bodyInput"===T.type)return console.log("‚úÖ [Canvas] ËøûÊé• bodyInput:",r.id,"->",a.id),s(r.id,{connections:{...r.connections,bodyInput:a.id}}),N(null),re(null),void R(null);if("bodyOutput"===T.type)return console.log("‚úÖ [Canvas] ËøûÊé• bodyOutput:",r.id,"->",a.id),s(r.id,{connections:{...r.connections,bodyOutput:a.id}}),N(null),re(null),void R(null);if("output"===T.type&&"input"===n){const{source:e,target:n}=y(r,a),o=t.map(t=>t.id===e.id?e:t.id===n.id?n:t),i=le(o,e.id),l=v(o,i);c(l),re(null)}else if("input"===T.type&&"output"===n){const{source:e,target:n}=y(a,r),o=t.map(t=>t.id===e.id?e:t.id===n.id?n:t),i=le(o,e.id),l=v(o,i);c(l),re(null)}N(null),R(null)},[T,t,c,s]);(0,a.useEffect)(()=>{if(k)return window.addEventListener("mousemove",ee),window.addEventListener("mouseup",ne),()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",ne)}},[k,ee,ne]),(0,a.useEffect)(()=>{if(I)return window.addEventListener("mousemove",Q),window.addEventListener("mouseup",K),()=>{window.removeEventListener("mousemove",Q),window.removeEventListener("mouseup",K)}},[I,Q,K]),(0,a.useEffect)(()=>{if(T){const e=e=>{const n=document.querySelector(".canvas-content");if(!n)return;const t=n.getBoundingClientRect();R({x:e.clientX-t.left,y:e.clientY-t.top})},n=()=>{N(null),R(null),re(null)};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",n),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n)}}},[T]);const ie=(0,a.useCallback)(e=>{const n=t.find(n=>n.id===e);if(n){if(n.connections.input){const e=t.find(e=>e.id===n.connections.input);if(e){const n={...e,connections:{...e.connections,output:null}};s(e.id,n)}}if(n.connections.output){const e=t.find(e=>e.id===n.connections.output);if(e){const n={...e,connections:{...e.connections,input:null},order:0};s(e.id,n)}}if(n.parentId){const r=t.find(e=>e.id===n.parentId);if(r&&r.children){const n={...r.children};Object.keys(n).forEach(t=>{n[t]=n[t].filter(n=>n!==e)}),s(r.id,{children:n})}}n.children&&Object.values(n.children).flat().forEach(e=>{t.find(n=>n.id===e)&&s(e,{parentId:void 0})}),i(e),u(null)}},[t,i,u,s]);(0,a.useEffect)(()=>{const e=e=>{if("Escape"===e.key&&(x(),z(!1),L(null),$(null)),(e.ctrlKey||e.metaKey)&&"a"===e.key){e.preventDefault();const n=t.map(e=>e.id);g(n)}"Delete"===e.key&&f.length>0&&(e.preventDefault(),f.forEach(e=>{ie(e)}))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x,t,g,f,ie]);const le=(e,n)=>{const t=e.find(e=>e.id===n);return t&&t.connections.input?le(e,t.connections.input):n},se=(e,n)=>{const r=t.find(n=>n.id===e);if(!r)return null;const a=document.querySelector(`[data-block-id="${e}"]`);let o=220,i=80;if(a){const e=a.getBoundingClientRect(),n=document.querySelector(".canvas-content");if(n){const t=n.style.transform;let r=1;if(t){const e=t.match(/scale\(([\d.]+)\)/);e&&(r=parseFloat(e[1]))}o=e.width/r,i=e.height/r}}return"input"===n?{x:r.position.x+o/2,y:r.position.y}:{x:r.position.x+o/2,y:r.position.y+i}},ce=(e,n)=>{const r=t.find(n=>n.id===e);if(!r)return null;const a=document.querySelectorAll(".block-node");let o=null;for(let n=0;n<a.length;n++){const t=a[n];if(t.getAttribute("data-block-id")===e){o=t;break}}if(!o){const n=!r.parentId;return console.warn(`Êó†Ê≥ïÊâæÂà∞ÁßØÊú®ÂÖÉÁ¥†: ${e}`,{blockData:r,shouldBeRendered:n,parentId:r.parentId,hasOutputConnection:!!r.connections.output,totalBlockNodesInDOM:a.length,allBlockIdsInDOM:Array.from(a).map(e=>e.getAttribute("data-block-id")).slice(0,20)}),null}const i=document.querySelector(".canvas-content");if(!i)return null;const l=o.getBoundingClientRect();if(0===l.width||0===l.height)return console.warn(`ÁßØÊú®ÂÖÉÁ¥†Ë¢´ÈöêËóèÊàñÊäòÂè†: ${e}`,l),null;const s=i.getBoundingClientRect(),c=i.scrollLeft,d=i.scrollTop,u=l.left-s.left+c,p=l.top-s.top+d;if("input"===n)return{x:u+l.width/2,y:p};if("output"===n)return{x:u+l.width/2,y:p+l.height};if("bodyInput"===n){const e=o.querySelector(".connection-body-input");if(e){const n=e.getBoundingClientRect();return{x:n.left-s.left+c+n.width/2,y:n.top-s.top+d+n.height/2}}return{x:u+l.width/2,y:p+60}}if("bodyOutput"===n){const e=o.querySelector(".connection-body-output");if(e){const n=e.getBoundingClientRect();return{x:n.left-s.left+c+n.width/2,y:n.top-s.top+d+n.height/2}}return{x:u+l.width/2,y:p+l.height-20}}return null},de=()=>{const e=document.querySelector(".canvas-content");if(!e)return{width:2e3,height:2e3};const n=document.querySelectorAll(".block-node");let t=e.clientWidth,r=e.clientHeight;return n.forEach(n=>{const a=n.getBoundingClientRect(),o=e.getBoundingClientRect(),i=e.scrollLeft,l=e.scrollTop,s=a.left-o.left+i+a.width,c=a.top-o.top+l+a.height;t=Math.max(t,s),r=Math.max(r,c)}),{width:Math.max(t+200,e.clientWidth),height:Math.max(r+200,e.clientHeight)}},ue=()=>{const e=[],n=t.filter(e=>!e.parentId),a=t.filter(e=>e.parentId),o=Array.from(document.querySelectorAll(".block-node")).map(e=>e.getAttribute("data-block-id")).filter(e=>null!==e),i=n.filter(e=>!o.includes(e.id));if((i.length>0||a.length>0)&&console.log("[Canvas] ÁßØÊú®Ê∏≤ÊüìÁªüËÆ°:",{totalBlocks:t.length,topLevelBlocks:n.length,topLevelBlockIds:n.map(e=>e.id),domBlockCount:o.length,missingBlocksCount:i.length,missingBlockIds:i.map(e=>e.id),childBlocks:a.length,childBlockIds:a.map(e=>e.id),childBlockParents:a.map(e=>({id:e.id,parentId:e.parentId}))}),t.forEach(n=>{if(n.connections.output){const a=t.find(e=>e.id===n.connections.output);if(!a)return void console.warn(`ËøûÊé•ÁõÆÊ†áÁßØÊú®‰∏çÂ≠òÂú®: ${n.connections.output}`);const o=l.e.find(e=>e.type===n.blockType),i=o?.color||"#666",s=ce(n.id,"output"),c=ce(a.id,"input");if(!s||!c)return void console.warn("Êó†Ê≥ïËé∑ÂèñËøûÊé•ÁÇπ‰ΩçÁΩÆ:",{sourceBlock:n.id,targetBlock:a.id,startPoint:s,endPoint:c,sourceParentId:n.parentId,targetParentId:a.parentId});const d=s.x,u=s.y,p=c.x,f=c.y,g=.5*Math.abs(f-u),m=`M ${d} ${u} C ${d} ${u+g}, ${p} ${f-g}, ${p} ${f}`;e.push((0,r.jsx)("path",{d:m,stroke:i,strokeWidth:"2",fill:"none",className:"connection-line connection-line-solid"},`solid-${n.id}-${n.connections.output}`))}if(n.ggplotConnections&&n.ggplotConnections.length>0){console.log(`[ËôöÁ∫øÊ∏≤Êüì] ÁßØÊú® ${n.id} (${n.blockType}) Êúâ ${n.ggplotConnections.length} ‰∏™ËôöÁ∫øËøûÊé•:`,n.ggplotConnections);const a=l.e.find(e=>e.type===n.blockType),o=a?.color||"#4f46e5";n.ggplotConnections.forEach(a=>{const i=t.find(e=>e.id===a);if(!i)return void console.warn(`ggplotËøûÊé•ÁõÆÊ†áÁßØÊú®‰∏çÂ≠òÂú®: ${a}`);const l=ce(n.id,"output"),s=ce(i.id,"input");if(console.log(`[ËôöÁ∫ø] Â∞ùËØïËøûÊé• ${n.id} -> ${a}:`,{startPoint:l,endPoint:s}),!l||!s)return void console.warn("‚ùå Êó†Ê≥ïËé∑ÂèñggplotËøûÊé•ÁÇπ‰ΩçÁΩÆ:",{sourceBlock:n.id,targetBlock:i.id,startPoint:l,endPoint:s});const c=l.x,d=l.y,u=s.x,p=s.y,f=.5*Math.abs(p-d),g=`M ${c} ${d} C ${c} ${d+f}, ${u} ${p-f}, ${u} ${p}`;e.push((0,r.jsx)("path",{d:g,stroke:o,strokeWidth:"2",strokeDasharray:"8,4",fill:"none",className:"connection-line connection-line-dashed",opacity:"0.8"},`dashed-${n.id}-${a}`))})}if(n.connections.bodyInput){const a=t.find(e=>e.id===n.connections.bodyInput);if(a){const t=l.e.find(e=>e.type===n.blockType),o=t?.color||"#4f46e5",i=ce(n.id,"bodyInput"),s=ce(a.id,"input");if(i&&s){const t=`M ${i.x} ${i.y} L ${s.x} ${s.y}`;e.push((0,r.jsx)("path",{d:t,stroke:o,strokeWidth:"2",strokeDasharray:"4,4",fill:"none",className:"connection-line connection-line-body-input",opacity:"0.6"},`body-input-${n.id}`))}}}if(n.connections.bodyOutput){const a=t.find(e=>e.id===n.connections.bodyOutput);if(a){const t=l.e.find(e=>e.type===n.blockType),o=t?.color||"#4f46e5",i=ce(a.id,"output"),s=ce(n.id,"bodyOutput");if(i&&s){const t=`M ${i.x} ${i.y} L ${s.x} ${s.y}`;e.push((0,r.jsx)("path",{d:t,stroke:o,strokeWidth:"2",strokeDasharray:"4,4",fill:"none",className:"connection-line connection-line-body-output",opacity:"0.6"},`body-output-${n.id}`))}}}}),S&&k){const n=t.find(e=>e.id===k),a=t.find(e=>e.id===S.blockId);if(n&&a){const t=l.e.find(e=>e.type===n.blockType),a=t?.color||"#4f46e5";let o,i;if("input"===S.type?(o=se(k,"output"),i=ce(S.blockId,"input")):(o=ce(S.blockId,"output"),i=se(k,"input")),o&&i){const n=o.x,t=o.y,l=i.x,s=i.y,c=.5*Math.abs(s-t),d=`M ${n} ${t} C ${n} ${t+c}, ${l} ${s-c}, ${l} ${s}`;e.push((0,r.jsxs)("g",{children:[(0,r.jsx)("path",{id:"snap-preview-path",d,stroke:a,strokeWidth:"3",strokeDasharray:"8,4",fill:"none",opacity:"0.8",className:"snap-preview-line"}),(0,r.jsx)("circle",{r:"10",fill:a,opacity:"0.6",className:"snap-target-highlight",children:(0,r.jsx)("animateMotion",{dur:"2s",repeatCount:"indefinite",path:d})}),(0,r.jsx)("circle",{cx:n,cy:t,r:"6",fill:a,opacity:"0.5"}),(0,r.jsx)("circle",{cx:l,cy:s,r:"6",fill:a,opacity:"0.5"})]},"snap-preview"))}}}if(T&&A){const n=t.find(e=>e.id===T.blockId);if(n){const t=l.e.find(e=>e.type===n.blockType),a=t?.color||"#4f46e5",o=ce(T.blockId,T.type);if(!o)return e;const i=o.x,s=o.y,c=A.x,d=A.y,u=.5*Math.abs(d-s),p=`M ${i} ${s} C ${i} ${s+("output"===T.type?u:-u)}, ${c} ${d+("output"===T.type?-u:u)}, ${c} ${d}`,f=T.isGgplotConnection;e.push((0,r.jsxs)("g",{children:[(0,r.jsx)("path",{d:p,stroke:a,strokeWidth:"2",strokeDasharray:f?"8,4":"5,5",fill:"none",opacity:f?"0.7":"0.6",className:f?"connection-preview-dashed":"connection-preview"}),(0,r.jsx)("circle",{r:"8",fill:a,opacity:"0.6",children:(0,r.jsx)("animateMotion",{dur:"1.5s",repeatCount:"indefinite",path:p,calcMode:"linear"})}),f&&(0,r.jsx)("text",{x:i,y:s-15,fill:a,fontSize:"12",fontWeight:"600",textAnchor:"middle",children:"ggplot +"})]},"preview-connection"))}}return e};return(0,r.jsxs)("div",{className:"canvas",children:[(0,r.jsxs)("div",{className:"canvas-header",children:[(0,r.jsx)("h2",{children:"ÁîªÂ∏É"}),(0,r.jsxs)("div",{className:"canvas-info",children:["Â∑≤Ê∑ªÂä† ",t.length," ‰∏™ÁßØÊú®",f.length>0&&(0,r.jsxs)("span",{style:{marginLeft:"1rem",color:"#4f46e5",fontWeight:600},children:["| Â∑≤ÈÄâ‰∏≠ ",f.length," ‰∏™"]})]})]}),(0,r.jsx)("div",{className:"canvas-content",ref:M,onMouseDown:Y,children:0===t.length?(0,r.jsxs)("div",{className:"canvas-empty",children:[(0,r.jsx)("p",{children:"‰ªéÂ∑¶‰æßÊãñÊãΩÁßØÊú®Âà∞ËøôÈáåÂºÄÂßãÂàõÂª∫ÂõæË°®"}),(0,r.jsx)("p",{className:"canvas-tip",children:"üí° ÁßØÊú®ÂèØ‰ª•ÈÄöËøá‰∏ä‰∏ãËøûÊé•ÁÇπËøõË°åÁªÑÂêà"}),(0,r.jsx)("p",{className:"canvas-tip",style:{marginTop:"0.5rem"},children:"üñ±Ô∏è Âú®Á©∫ÁôΩÂå∫ÂüüÊãñÂä®Èº†Ê†áÂèØ‰ª•Ê°ÜÈÄâÂ§ö‰∏™ÁßØÊú®ÔºåÊâπÈáèÁßªÂä®"})]}):(0,r.jsxs)("div",{className:"canvas-blocks",children:[t.filter(e=>!e.parentId).map(e=>{const n=l.e.find(n=>n.type===e.blockType);return n?(0,r.jsx)("div",{"data-block-id":e.id,className:"block-container",style:{left:`${e.position.x}px`,top:`${e.position.y}px`,zIndex:1},children:(0,r.jsx)(h,{block:e,definition:n,onClick:n=>H(e.id,n),onDelete:ie,onMouseDown:e=>{const n=e.target.closest("[data-block-id]"),t=n?.getAttribute("data-block-id");t&&J(e,t)},onConnectionStart:ae,onConnectionEnd:oe,onDropToSlot:(n,t)=>X(e.id,n,t),isDragging:k===e.id,isSelected:f.includes(e.id),dropTarget:W})},e.id):null}),(0,r.jsx)("svg",{className:"connection-layer",style:{zIndex:10,width:`${de().width}px`,height:`${de().height}px`,position:"absolute",top:0,left:0,pointerEvents:"none"},children:F}),I&&P&&D&&(()=>{const e=Math.abs(D.x-P.x),n=Math.abs(D.y-P.y),t=e>5||n>5;return console.log("Render selection box:",{isSelecting:I,selectionStart:P,selectionEnd:D,deltaX:e,deltaY:n,shouldShow:t}),t})()&&(0,r.jsx)("div",{className:"selection-box",style:{position:"absolute",left:`${Math.min(P.x,D.x)}px`,top:`${Math.min(P.y,D.y)}px`,width:`${Math.abs(D.x-P.x)}px`,height:`${Math.abs(D.y-P.y)}px`,border:"2px dashed #4f46e5",backgroundColor:"rgba(79, 70, 229, 0.1)",pointerEvents:"none",zIndex:1e3}})]})})]})});x.displayName="Canvas";const w=x;function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){k(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach(function(n){j(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function N(e){return function n(){for(var t=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return a.length>=e.length?e.apply(this,a):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,[].concat(a,r))}}}function A(e){return{}.toString.call(e).includes("Object")}function R(e){return"function"==typeof e}var O=N(function(e,n){throw new Error(e[n]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),M=function(e,n){return A(n)||O("changeType"),Object.keys(n).some(function(n){return t=e,r=n,!Object.prototype.hasOwnProperty.call(t,r);var t,r})&&O("changeField"),n},I=function(e){R(e)||O("selectorType")},z=function(e){R(e)||A(e)||O("handlerType"),A(e)&&Object.values(e).some(function(e){return!R(e)})&&O("handlersType")},P=function(e){var n;e||O("initialIsRequired"),A(e)||O("initialType"),n=e,Object.keys(n).length||O("initialContent")};function L(e,n){return R(n)?n(e.current):n}function D(e,n){return e.current=T(T({},e.current),n),n}function $(e,n,t){return R(n)?n(e.current):Object.keys(t).forEach(function(t){var r;return null===(r=n[t])||void 0===r?void 0:r.call(n,e.current[t])}),t}const U={create:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};P(e),z(n);var t={current:e},r=N($)(t,n),a=N(D)(t),o=N(M)(e),i=N(L)(t);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return I(e),e(t.current)},function(e){!function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.reduceRight(function(e,n){return n(e)},e)}}(r,a,o,i)(e)}]}};var B,F={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},q=(B=function(e,n){throw new Error(e[n]||e.default)},function e(){for(var n=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.length>=B.length?B.apply(this,r):function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e.apply(n,[].concat(r,a))}})(F);const W={config:function(e){return e||q("configIsRequired"),n=e,{}.toString.call(n).includes("Object")||q("configType"),e.urls?(console.warn(F.deprecation),{paths:{vs:e.urls.monacoBase}}):e;var n}},V=function e(n,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&n[r]&&Object.assign(t[r],e(n[r],t[r]))}),S(S({},n),t)};var G={type:"cancelation",msg:"operation is manually canceled"};const H=function(e){var n=!1,t=new Promise(function(t,r){e.then(function(e){return n?r(G):t(e)}),e.catch(r)});return t.cancel=function(){return n=!0},t};var X,Y=function(e){if(Array.isArray(e))return e}(X=U.create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],t=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done)&&(n.push(o.value),2!==n.length);t=!0);}catch(e){r=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}return n}}(X)||function(e){if(e){if("string"==typeof e)return E(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,2):void 0}}(X)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Q=Y[0],K=Y[1];function J(e){return document.body.appendChild(e)}function Z(e){var n,t,r=Q(function(e){return{config:e.config,reject:e.reject}}),a=(n="".concat(r.config.paths.vs,"/loader.js"),t=document.createElement("script"),n&&(t.src=n),t);return a.onload=function(){return e()},a.onerror=r.reject,a}function ee(){var e=Q(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),n=window.require;n.config(e.config),n(["vs/editor/editor.main"],function(n){ne(n),e.resolve(n)},function(n){e.reject(n)})}function ne(e){Q().monaco||K({monaco:e})}var te=new Promise(function(e,n){return K({resolve:e,reject:n})}),re={config:function(e){var n=W.config(e),t=n.monaco,r=function(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(n,["monaco"]);K(function(e){return{config:V(e.config,r),monaco:t}})},init:function(){var e=Q(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(K({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),H(te);if(window.monaco&&window.monaco.editor)return ne(window.monaco),e.resolve(window.monaco),H(te);!function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.reduceRight(function(e,n){return n(e)},e)}}(J,Z)(ee)}return H(te)},__getMonacoInstance:function(){return Q(function(e){return e.monaco})}};const ae=re;var oe={display:"flex",position:"relative",textAlign:"initial"},ie={width:"100%"},le={display:"none"},se={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},ce=function({children:e}){return a.createElement("div",{style:se.container},e)},de=(0,a.memo)(function({width:e,height:n,isEditorReady:t,loading:r,_ref:o,className:i,wrapperProps:l}){return a.createElement("section",{style:{...oe,width:e,height:n},...l},!t&&a.createElement(ce,null,r),a.createElement("div",{ref:o,style:{...ie,...!t&&le},className:i}))}),ue=function(e){(0,a.useEffect)(e,[])},pe=function(e,n,t=!0){let r=(0,a.useRef)(!0);(0,a.useEffect)(r.current||!t?()=>{r.current=!1}:e,n)};function fe(){}function ge(e,n,t,r){return function(e,n){return e.editor.getModel(me(e,n))}(e,r)||function(e,n,t,r){return e.editor.createModel(n,t,r?me(e,r):void 0)}(e,n,t,r)}function me(e,n){return e.Uri.parse(n)}(0,a.memo)(function({original:e,modified:n,language:t,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:l,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:p={},height:f="100%",width:g="100%",className:m,wrapperProps:h={},beforeMount:b=fe,onMount:y=fe}){let[v,x]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!0),_=(0,a.useRef)(null),S=(0,a.useRef)(null),E=(0,a.useRef)(null),j=(0,a.useRef)(y),C=(0,a.useRef)(b),T=(0,a.useRef)(!1);ue(()=>{let e=ae.init();return e.then(e=>(S.current=e)&&k(!1)).catch(e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e)),()=>_.current?function(){let e=_.current?.getModel();s||e?.original?.dispose(),c||e?.modified?.dispose(),_.current?.dispose()}():e.cancel()}),pe(()=>{if(_.current&&S.current){let n=_.current.getOriginalEditor(),a=ge(S.current,e||"",r||t||"text",i||"");a!==n.getModel()&&n.setModel(a)}},[i],v),pe(()=>{if(_.current&&S.current){let e=_.current.getModifiedEditor(),r=ge(S.current,n||"",o||t||"text",l||"");r!==e.getModel()&&e.setModel(r)}},[l],v),pe(()=>{let e=_.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[n],v),pe(()=>{_.current?.getModel()?.original.setValue(e||"")},[e],v),pe(()=>{let{original:e,modified:n}=_.current.getModel();S.current.editor.setModelLanguage(e,r||t||"text"),S.current.editor.setModelLanguage(n,o||t||"text")},[t,r,o],v),pe(()=>{S.current?.editor.setTheme(d)},[d],v),pe(()=>{_.current?.updateOptions(p)},[p],v);let N=(0,a.useCallback)(()=>{if(!S.current)return;C.current(S.current);let a=ge(S.current,e||"",r||t||"text",i||""),s=ge(S.current,n||"",o||t||"text",l||"");_.current?.setModel({original:a,modified:s})},[t,n,o,e,r,i,l]),A=(0,a.useCallback)(()=>{!T.current&&E.current&&(_.current=S.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...p}),N(),S.current?.editor.setTheme(d),x(!0),T.current=!0)},[p,d,N]);return(0,a.useEffect)(()=>{v&&j.current(_.current,S.current)},[v]),(0,a.useEffect)(()=>{!w&&!v&&A()},[w,v,A]),a.createElement(de,{width:g,height:f,isEditorReady:v,loading:u,_ref:E,className:m,wrapperProps:h})});var he=new Map,be=(0,a.memo)(function({defaultValue:e,defaultLanguage:n,defaultPath:t,value:r,language:o,path:i,theme:l="light",line:s,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:p=!0,keepCurrentModel:f=!1,width:g="100%",height:m="100%",className:h,wrapperProps:b={},beforeMount:y=fe,onMount:v=fe,onChange:x,onValidate:w=fe}){let[k,_]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!0),j=(0,a.useRef)(null),C=(0,a.useRef)(null),T=(0,a.useRef)(null),N=(0,a.useRef)(v),A=(0,a.useRef)(y),R=(0,a.useRef)(),O=(0,a.useRef)(r),M=function(e){let n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=e},[e]),n.current}(i),I=(0,a.useRef)(!1),z=(0,a.useRef)(!1);ue(()=>{let e=ae.init();return e.then(e=>(j.current=e)&&E(!1)).catch(e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e)),()=>C.current?(R.current?.dispose(),f?p&&he.set(i,C.current.saveViewState()):C.current.getModel()?.dispose(),void C.current.dispose()):e.cancel()}),pe(()=>{let a=ge(j.current,e||r||"",n||o||"",i||t||"");a!==C.current?.getModel()&&(p&&he.set(M,C.current?.saveViewState()),C.current?.setModel(a),p&&C.current?.restoreViewState(he.get(i)))},[i],k),pe(()=>{C.current?.updateOptions(d)},[d],k),pe(()=>{!C.current||void 0===r||(C.current.getOption(j.current.editor.EditorOption.readOnly)?C.current.setValue(r):r!==C.current.getValue()&&(z.current=!0,C.current.executeEdits("",[{range:C.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),C.current.pushUndoStop(),z.current=!1))},[r],k),pe(()=>{let e=C.current?.getModel();e&&o&&j.current?.editor.setModelLanguage(e,o)},[o],k),pe(()=>{void 0!==s&&C.current?.revealLine(s)},[s],k),pe(()=>{j.current?.editor.setTheme(l)},[l],k);let P=(0,a.useCallback)(()=>{if(T.current&&j.current&&!I.current){A.current(j.current);let a=i||t,c=ge(j.current,r||e||"",n||o||"",a||"");C.current=j.current?.editor.create(T.current,{model:c,automaticLayout:!0,...d},u),p&&C.current.restoreViewState(he.get(a)),j.current.editor.setTheme(l),void 0!==s&&C.current.revealLine(s),_(!0),I.current=!0}},[e,n,t,r,o,i,d,u,p,l,s]);return(0,a.useEffect)(()=>{k&&N.current(C.current,j.current)},[k]),(0,a.useEffect)(()=>{!S&&!k&&P()},[S,k,P]),O.current=r,(0,a.useEffect)(()=>{k&&x&&(R.current?.dispose(),R.current=C.current?.onDidChangeModelContent(e=>{z.current||x(C.current.getValue(),e)}))},[k,x]),(0,a.useEffect)(()=>{if(k){let e=j.current.editor.onDidChangeMarkers(e=>{let n=C.current.getModel()?.uri;if(n&&e.find(e=>e.path===n.path)){let e=j.current.editor.getModelMarkers({resource:n});w?.(e)}});return()=>{e?.dispose()}}return()=>{}},[k,w]),a.createElement(de,{width:g,height:m,isEditorReady:k,loading:c,_ref:T,className:h,wrapperProps:b})});const ye=p("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),ve=p("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),xe=p("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),we=p("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ke=p("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_e=()=>{const{generatedCode:e,updateCodeAndSync:n,enableCodeNormalization:t}=(0,d.useBlockStore)(),[o,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(e),c=(0,a.useRef)(null),u=(0,a.useRef)(null),p=(0,a.useRef)(0);return(0,a.useEffect)(()=>{Date.now()-p.current<5e3?console.log("‚è≠Ô∏è [CodePreview] Áî®Êà∑ÊúÄËøëÁºñËæëËøáÔºåË∑≥ËøáÊõ¥Êñ∞"):(console.log("‚ú® [CodePreview] Êõ¥Êñ∞Êú¨Âú∞‰ª£Á†ÅÔºàËßÑËåÉÂåñÂêéÔºâ"),s(e))},[e]),(0,a.useEffect)(()=>()=>{c.current&&clearTimeout(c.current),u.current&&clearTimeout(u.current)},[]),(0,r.jsxs)("div",{className:"code-preview",children:[(0,r.jsxs)("div",{className:"code-actions",children:[(0,r.jsxs)("button",{className:"action-btn "+(o?"active":""),onClick:()=>{i(!o),o||s(e)},title:o?"ÈîÅÂÆö‰ª£Á†ÅÔºàÂè™ËØªÔºâ":"Ëß£ÈîÅ‰ª£Á†ÅÔºàÂèØÁºñËæëÔºâ",children:[o?(0,r.jsx)(ye,{size:16}):(0,r.jsx)(ve,{size:16}),o?"ÂèØÁºñËæë":"Âè™ËØª"]}),o&&(0,r.jsxs)("button",{className:"action-btn sync-btn",onClick:async()=>{console.log("üîÑ [CodePreview] ÊâãÂä®Ëß¶ÂèëÂêåÊ≠•");const e=l;console.log("üìä [CodePreview] ÂêåÊ≠•Ââç‰ª£Á†ÅÈïøÂ∫¶:",e.length),c.current&&clearTimeout(c.current),u.current&&clearTimeout(u.current),await n(e),console.log("‚úÖ [CodePreview] ÊâãÂä®ÂêåÊ≠•ÂÆåÊàê"),setTimeout(()=>{const{generatedCode:n,enableCodeNormalization:t}=d.useBlockStore.getState();t?(console.log("üé® [CodePreview] ‰ª£Á†ÅËßÑËåÉÂåñÂ∑≤ÂêØÁî®ÔºåÁ´ãÂç≥Â∫îÁî®ËßÑËåÉÂåñ"),console.log("üìä [CodePreview] ËßÑËåÉÂåñÂêé‰ª£Á†ÅÈïøÂ∫¶:",n.length),console.log("üìä [CodePreview] ÂêåÊ≠•Ââç‰ª£Á†ÅÂâç100Â≠óÁ¨¶:",e.substring(0,100)),console.log("üìä [CodePreview] ËßÑËåÉÂåñÂêéÂâç100Â≠óÁ¨¶:",n.substring(0,100)),console.log("üìä [CodePreview] ‰ª£Á†ÅÊòØÂê¶Áõ∏Âêå:",e===n),s(n)):console.log("‚è≠Ô∏è [CodePreview] ‰ª£Á†ÅËßÑËåÉÂåñÂ∑≤Á¶ÅÁî®Ôºå‰øùÊåÅÁî®Êà∑ÁºñËæëÁöÑ‰ª£Á†Å")},0)},title:"Á´ãÂç≥ÂêåÊ≠•Âà∞ÁßØÊú®Âùó",children:[(0,r.jsx)(xe,{size:16}),"ÂêåÊ≠•"]}),(0,r.jsxs)("button",{className:"action-btn",onClick:()=>{navigator.clipboard.writeText(l),alert("‰ª£Á†ÅÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ")},title:"Â§çÂà∂‰ª£Á†Å",children:[(0,r.jsx)(we,{size:16}),"Â§çÂà∂"]}),(0,r.jsxs)("button",{className:"action-btn",onClick:()=>{const e=new Blob([l],{type:"text/plain"}),n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download="ggplot_code.R",t.click(),URL.revokeObjectURL(n)},title:"‰∏ãËΩΩ‰ª£Á†Å",children:[(0,r.jsx)(ke,{size:16}),"‰∏ãËΩΩ"]})]}),(0,r.jsx)("div",{className:"code-editor",children:(0,r.jsx)(be,{height:"100%",defaultLanguage:"r",value:l,theme:"vs-dark",onChange:e=>{if(!e)return;console.log("üìù [CodePreview] ‰ª£Á†ÅÂèòÊõ¥ÔºåÈïøÂ∫¶:",e.length);const t=e;s(t),p.current=Date.now(),c.current&&clearTimeout(c.current),u.current&&clearTimeout(u.current),c.current=setTimeout(async()=>{o&&(console.log("‚è∞ [CodePreview] 500msËÆ°Êó∂Âô®Ëß¶ÂèëÔºåÂêåÊ≠•Âà∞ÁßØÊú®Âùó..."),console.log("üìä [CodePreview] ÂêåÊ≠•ÁöÑ‰ª£Á†ÅÈïøÂ∫¶:",t.length),await n(t),console.log("‚úÖ [CodePreview] ÁßØÊú®ÂùóÂêåÊ≠•ÂÆåÊàê"),u.current=setTimeout(()=>{const e=Date.now()-p.current,{enableCodeNormalization:n}=d.useBlockStore.getState();if(e>=5e3)if(n){console.log("üé® [CodePreview] 5ÁßíÊó†ÁºñËæëÔºåÂáÜÂ§áÂ∫îÁî®‰ª£Á†ÅËßÑËåÉÂåñ");const{generatedCode:e}=d.useBlockStore.getState();console.log("üìä [CodePreview] ÁºñËæëÊó∂ÁöÑ‰ª£Á†ÅÈïøÂ∫¶:",t.length),console.log("üìä [CodePreview] ËßÑËåÉÂåñÂêé‰ª£Á†ÅÈïøÂ∫¶:",e.length),console.log("üìä [CodePreview] ÁºñËæëÊó∂‰ª£Á†ÅÂâç100Â≠óÁ¨¶:",t.substring(0,100)),console.log("üìä [CodePreview] ËßÑËåÉÂåñÂêéÂâç100Â≠óÁ¨¶:",e.substring(0,100)),console.log("üìä [CodePreview] ‰ª£Á†ÅÊòØÂê¶Áõ∏Âêå:",t===e),t!==e?(console.log("‚úÖ [CodePreview] Â∫îÁî®ËßÑËåÉÂåñ‰ª£Á†Å"),s(e)):console.log("‚è≠Ô∏è [CodePreview] ‰ª£Á†ÅÂ∑≤ÁªèÊòØËßÑËåÉÂåñÁöÑÔºåÊó†ÈúÄÊõ¥Êñ∞")}else console.log("‚è≠Ô∏è [CodePreview] ‰ª£Á†ÅËßÑËåÉÂåñÂ∑≤Á¶ÅÁî®Ôºå‰øùÊåÅÁî®Êà∑ÁºñËæëÁöÑ‰ª£Á†Å");else console.log("‚è≠Ô∏è [CodePreview] Áî®Êà∑ÁªßÁª≠ÁºñËæë‰∫ÜÔºåË∑≥ËøáËßÑËåÉÂåñ")},5e3))},500)},options:{readOnly:!o,minimap:{enabled:!1},fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",tabSize:2}})}),o&&(0,r.jsxs)("div",{className:"code-sync-hint",children:[(0,r.jsx)("span",{className:"hint-icon",children:"üí°"}),(0,r.jsxs)("span",{children:["ÁºñËæë‰ª£Á†ÅÂêé‰ºöËá™Âä®ÂêåÊ≠•Âà∞ÁßØÊú®ÂùóÔºà500msÂêéÔºâ",t&&"Ôºå5ÁßíÊó†ÁºñËæëÊó∂Ëá™Âä®ËßÑËåÉÂåñÊòæÁ§∫"]})]})]})},Se=p("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Ee=p("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),je=p("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ce=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var Te=t(762);const Ne=()=>{const{plotUrl:e,generatedCode:n,isRunning:t,runError:o,isWebRInitialized:i,plotWidth:l,plotHeight:s,plotDPI:c,exportFormat:u,fontConfig:p,setPlotUrl:f,setIsRunning:g,setRunError:m,setIsWebRInitialized:h,setPlotSettings:b,setExportFormat:y}=(0,d.useBlockStore)(),[v,x]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1),[_,S]=(0,a.useState)(l),[E,j]=(0,a.useState)(s),[C,T]=(0,a.useState)(c),[N,A]=(0,a.useState)(u),[R,O]=(0,a.useState)(!1);(0,a.useEffect)(()=>{M()},[]);const M=async()=>{if(Te.webRRunner.isReady()){h(!0);try{await Te.webRRunner.updateFontConfig(p.chineseFont,p.englishFont),console.log("‚úÖ Â∑≤Â∫îÁî®ÁºìÂ≠òÁöÑÂ≠ó‰ΩìÈÖçÁΩÆ:",p)}catch(e){console.warn("‚ö†Ô∏è Â∫îÁî®Â≠ó‰ΩìÈÖçÁΩÆÂ§±Ë¥•:",e)}}else try{x("Ê≠£Âú®ÂàùÂßãÂåñ WebR..."),await Te.webRRunner.initialize(),h(!0),x("");try{await Te.webRRunner.updateFontConfig(p.chineseFont,p.englishFont),console.log("‚úÖ WebR ÂàùÂßãÂåñÂÆåÊàêÔºåÂ∑≤Â∫îÁî®Â≠ó‰ΩìÈÖçÁΩÆ:",p)}catch(e){console.warn("‚ö†Ô∏è Â∫îÁî®Â≠ó‰ΩìÈÖçÁΩÆÂ§±Ë¥•:",e)}}catch(e){console.error("WebR ÂàùÂßãÂåñÂ§±Ë¥•:",e),m(e instanceof Error?e.message:"WebR ÂàùÂßãÂåñÂ§±Ë¥•"),x("")}},I=async()=>{if(n&&!n.includes("ËØ∑Ê∑ªÂä†ÁßØÊú®")){g(!0),m(null),f(null);try{Te.webRRunner.isReady()||await M();const e=await Te.webRRunner.runPlot(n,{width:l,height:s,dpi:c});e.success&&e.plotUrl?(f(e.plotUrl),m(null)):m(e.error||"ÂõæË°®ÁîüÊàêÂ§±Ë¥•")}catch(e){console.error("‰ª£Á†ÅÊâßË°åÂ§±Ë¥•:",e),m(e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ")}finally{g(!1)}}};(0,a.useEffect)(()=>{S(l),j(s),T(c)},[l,s,c]),(0,a.useEffect)(()=>{A(u)},[u]);const z=_*C,P=E*C,L=z*P*3/1048576;return(0,r.jsxs)("div",{className:"plot-preview",children:[w&&(0,r.jsx)("div",{className:"settings-overlay",onClick:()=>k(!1),children:(0,r.jsxs)("div",{className:"settings-panel",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{children:"ÂõæÁâáÂØºÂá∫ËÆæÁΩÆ"}),(0,r.jsx)("div",{className:"setting-group",children:(0,r.jsxs)("label",{children:["ÂÆΩÂ∫¶ÔºàËã±ÂØ∏Ôºâ:",(0,r.jsx)("input",{type:"number",min:"1",max:"100",step:"1",value:_,onChange:e=>S(Number(e.target.value))})]})}),(0,r.jsx)("div",{className:"setting-group",children:(0,r.jsxs)("label",{children:["È´òÂ∫¶ÔºàËã±ÂØ∏Ôºâ:",(0,r.jsx)("input",{type:"number",min:"1",max:"100",step:"1",value:E,onChange:e=>j(Number(e.target.value))})]})}),(0,r.jsx)("div",{className:"setting-group",children:(0,r.jsxs)("label",{children:["DPI (ÂàÜËæ®Áéá):",(0,r.jsx)("input",{type:"number",min:"72",max:"2400",step:"72",value:C,onChange:e=>T(Number(e.target.value))})]})}),(0,r.jsxs)("div",{className:"settings-info",children:[(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)("span",{children:"ËæìÂá∫Â∞∫ÂØ∏Ôºö"}),(0,r.jsxs)("strong",{children:[z," √ó ",P," ÂÉèÁ¥†"]})]}),(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)("span",{children:"È¢Ñ‰º∞Â§ßÂ∞èÔºö"}),(0,r.jsxs)("strong",{className:L>500?"warning":"",children:["Á∫¶ ",L.toFixed(0)," MB",L>500&&" ‚ö†Ô∏è"]})]}),L>500&&(0,r.jsx)("div",{className:"warning-message",children:"‚ö†Ô∏è ÂõæÁâáÂ§™Â§ßÂèØËÉΩÂØºËá¥ÊµèËßàÂô®ÂÜÖÂ≠ò‰∏çË∂≥ÔºÅÂª∫ËÆÆÈôç‰ΩéÂ∞∫ÂØ∏Êàñ DPI„ÄÇ"})]}),(0,r.jsxs)("div",{className:"settings-presets",children:[(0,r.jsx)("h4",{children:"Âø´ÈÄüÈ¢ÑËÆæÔºö"}),(0,r.jsx)("button",{onClick:()=>{S(10),j(10),T(300)},children:"ÁΩëÈ°µ (10√ó10, 300 DPI)"}),(0,r.jsx)("button",{onClick:()=>{S(16),j(16),T(600)},children:"ËÆ∫Êñá (16√ó16, 600 DPI)"}),(0,r.jsx)("button",{onClick:()=>{S(20),j(20),T(720)},children:"ÈªòËÆ§ (20√ó20, 720 DPI)"}),(0,r.jsx)("button",{onClick:()=>{S(40),j(20),T(720)},children:"Ë∂ÖÂÆΩ (40√ó20, 720 DPI)"})]}),(0,r.jsx)("div",{className:"settings-note",style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:"üí° ÊèêÁ§∫ÔºöË∂ÖÂ§ßÂ∞∫ÂØ∏‰ºöËá™Âä®Ë∞ÉÊï¥DPI‰ª•ÈÄÇÂ∫îÊµèËßàÂô®ÈôêÂà∂ÔºàÊúÄÂ§ß32767ÂÉèÁ¥†Ôºâ"}),(0,r.jsxs)("div",{className:"settings-actions",children:[(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>{S(20),j(20),T(720)},children:"ÈáçÁΩÆ‰∏∫ÈªòËÆ§"}),(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>k(!1),children:"ÂèñÊ∂à"}),(0,r.jsx)("button",{className:"btn-primary",onClick:()=>{b(_,E,C),k(!1),e&&alert("ËÆæÁΩÆÂ∑≤‰øùÂ≠òÔºÅËØ∑ÈáçÊñ∞ËøêË°å‰ª£Á†Å‰ª•Â∫îÁî®Êñ∞ÁöÑÂõæÁâáÂ∞∫ÂØ∏„ÄÇ")},children:"Â∫îÁî®ËÆæÁΩÆ"})]})]})}),t?(0,r.jsxs)("div",{className:"plot-loading",children:[(0,r.jsx)(Se,{size:48,className:"spinner"}),(0,r.jsx)("h3",{children:"Ê≠£Âú®ÁîüÊàêÂõæË°®..."}),(0,r.jsx)("p",{children:"ËØ∑Á®çÂÄôÔºåWebR Ê≠£Âú®ËøêË°åÊÇ®ÁöÑ R ‰ª£Á†Å"})]}):o?(0,r.jsxs)("div",{className:"plot-error",children:[(0,r.jsx)("div",{className:"error-icon",children:(0,r.jsx)(Ee,{size:48,color:"#ef4444"})}),(0,r.jsx)("h3",{children:"‰ª£Á†ÅÊâßË°åÂá∫Èîô"}),(0,r.jsx)("div",{className:"error-message",children:(0,r.jsx)("pre",{children:o})}),(0,r.jsxs)("button",{className:"run-button",onClick:I,disabled:!n||n.includes("ËØ∑Ê∑ªÂä†ÁßØÊú®"),children:[(0,r.jsx)(xe,{size:16}),"ÈáçËØï"]})]}):e?(0,r.jsxs)("div",{className:"plot-display",children:[(0,r.jsxs)("div",{className:"plot-actions",children:[(0,r.jsx)("div",{className:"action-left",children:(0,r.jsxs)("span",{className:"plot-info",children:["üìê ",l,"√ó",s," Ëã±ÂØ∏ ¬∑ ",c," DPI"]})}),(0,r.jsxs)("div",{className:"action-right",children:[(0,r.jsxs)("button",{className:"action-btn",onClick:()=>k(!0),title:"ÂõæÁâáËÆæÁΩÆ",children:[(0,r.jsx)(Ce,{size:16}),"ËÆæÁΩÆ"]}),(0,r.jsxs)("div",{className:"format-selector",style:{display:"inline-flex",alignItems:"center",marginRight:"8px"},children:[(0,r.jsx)("label",{htmlFor:"export-format",style:{marginRight:"6px",fontSize:"13px",color:"#666"},children:"Ê†ºÂºè:"}),(0,r.jsxs)("select",{id:"export-format",value:N,onChange:e=>{return n=e.target.value,A(n),void y(n);var n},className:"format-select",style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db",fontSize:"13px",backgroundColor:"white",cursor:"pointer"},title:(D=N,{png:"Êó†ÊçüÂéãÁº©ÔºåÈÄÇÂêàÁΩëÈ°µÂ±ïÁ§∫ÂíåÊâìÂç∞ÔºåÊîØÊåÅÈÄèÊòéËÉåÊôØ",svg:"Áü¢ÈáèÊ†ºÂºèÔºåÊó†ÈôêÁº©Êîæ‰∏çÂ§±ÁúüÔºåÈÄÇÂêàÁºñËæëÂíåÈ´òË¥®ÈáèÂç∞Âà∑",jpeg:"ÊúâÊçüÂéãÁº©ÔºåÊñá‰ª∂Â∞èÔºåÈÄÇÂêàÁÖßÁâáÂíåÁΩëÈ°µÔºå‰∏çÊîØÊåÅÈÄèÊòéËÉåÊôØ",pdf:"ÊñáÊ°£Ê†ºÂºèÔºåÈÄÇÂêàÊâìÂç∞ÂíåÂàÜ‰∫´ÔºåÈúÄË¶ÅÈ¢ùÂ§ñÂ∫ìÊîØÊåÅÔºàÊöÇ‰∏çÂèØÁî®Ôºâ"}[D]),children:[(0,r.jsx)("option",{value:"png",children:"PNG"}),(0,r.jsx)("option",{value:"jpeg",children:"JPEG"}),(0,r.jsx)("option",{value:"svg",children:"SVG"}),(0,r.jsx)("option",{value:"pdf",disabled:!0,children:"PDF (ÊöÇ‰∏çÂèØÁî®)"})]})]}),(0,r.jsx)("button",{className:"action-btn",onClick:async()=>{if(e)try{if(O(!0),"svg"===N){const n=document.createElement("a");return n.href=e,n.download=`ggplot_chart.${N}`,n.click(),void O(!1)}if("pdf"===N)return alert("PDF Ê†ºÂºèÊöÇ‰∏çÊîØÊåÅÔºåËØ∑ÈÄâÊã© PNG„ÄÅJPEG Êàñ SVG Ê†ºÂºè"),void O(!1);const n=32767,t=l*c,r=s*c;if(t>n||r>n){const e=Math.max(l,s),a=Math.floor(n/e*.95);console.warn(`‚ö†Ô∏è ËØ∑Ê±ÇÂ∞∫ÂØ∏ ${t}√ó${r} Ë∂ÖÂá∫ÊµèËßàÂô®ÈôêÂà∂ÔºåÂ∞ÜËá™Âä®Ë∞ÉÊï¥ DPI ‰ªé ${c} Âà∞ ${a}`)}console.log(`üîÑ ÂºÄÂßãËΩ¨Êç¢ÂõæÂÉèÊ†ºÂºè: ${N.toUpperCase()}`);const a=await async function(e,n,t,r,a=720){if("svg"===n)return e;if("pdf"===n)throw new Error("PDF Ê†ºÂºèÊöÇ‰∏çÊîØÊåÅÔºåËØ∑‰ΩøÁî® PNG Êàñ SVG Ê†ºÂºè");let o=Math.round(t*a),i=Math.round(r*a);console.log(`üîÑ ËΩ¨Êç¢ÂõæÂÉèÊ†ºÂºè: ${n.toUpperCase()}, ${t}√ó${r} Ëã±ÂØ∏, ${a} DPI = ${o}√ó${i} ÂÉèÁ¥†`);const l=32767;let s=a;if(o>l||i>l){const e=Math.max(t,r);s=Math.floor(l/e*.95),o=Math.round(t*s),i=Math.round(r*s),console.warn(`‚ö†Ô∏è ÂéüÂßãÂ∞∫ÂØ∏Ë∂ÖÂá∫ÊµèËßàÂô®ÈôêÂà∂ÔºåËá™Âä®Ë∞ÉÊï¥ DPI: ${a} ‚Üí ${s}`),console.log(`üìê Ë∞ÉÊï¥ÂêéÂ∞∫ÂØ∏: ${o}√ó${i} ÂÉèÁ¥†`)}return new Promise((t,r)=>{const a=e.split(",")[1],l=decodeURIComponent(escape(atob(a))).match(/font-family\s*[:=]\s*["']([^"']+)["']/),s=l?l[1]:"Microsoft YaHei, sans-serif";if(console.log(`üî§ Ê£ÄÊµãÂà∞ SVG ‰ΩøÁî®Â≠ó‰Ωì: ${s}`),document.fonts){const e=s.split(",").map(e=>e.trim().replace(/['"]/g,""));console.log("üîç Ê£ÄÊü•Â≠ó‰ΩìÂèØÁî®ÊÄß:",e);for(const n of e){const e=document.fonts.check(`12px "${n}"`);console.log(`   ${n}: ${e?"‚úÖ ÂèØÁî®":"‚ùå ‰∏çÂèØÁî®"}`)}}const c=new Image;c.onload=async()=>{try{document.fonts&&document.fonts.ready&&(await document.fonts.ready,console.log("‚úÖ Â≠ó‰ΩìÂ∑≤Âä†ËΩΩÂÆåÊàê"));const e=document.createElement("canvas");e.width=o,e.height=i;const a=e.getContext("2d");if(!a)return void r(new Error("Êó†Ê≥ïËé∑Âèñ Canvas ‰∏ä‰∏ãÊñá"));a.fillStyle="white",a.fillRect(0,0,o,i),a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high";const l=o/i,s=c.width/c.height;let d=o,u=i;Math.abs(l-s)>.01&&(s>l?u=o/s:d=i*s);const p=(o-d)/2,f=(i-u)/2;let g;console.log(`üìê ÂõæÂÉèÁªòÂà∂: SVG=${c.width}√ó${c.height}, Canvas=${o}√ó${i}, ÁªòÂà∂=${d.toFixed(0)}√ó${u.toFixed(0)}`),a.drawImage(c,p,f,d,u);let m=.95;switch(n){case"png":g="image/png";break;case"jpeg":g="image/jpeg",m=.95;break;default:return void r(new Error(`‰∏çÊîØÊåÅÁöÑÊ†ºÂºè: ${n}`))}const h=e.toDataURL(g,m);console.log(`‚úÖ ÂõæÂÉèËΩ¨Êç¢ÊàêÂäü: ${n.toUpperCase()}, Â§ßÂ∞èÁ∫¶ ${(h.length/1024/1024).toFixed(2)} MB`),t(h)}catch(e){r(e)}},c.onerror=e=>{console.error("‚ùå SVG Âä†ËΩΩÂ§±Ë¥•:",e),r(new Error("SVG Âä†ËΩΩÂ§±Ë¥•"))},c.src=e})}(e,N,l,s,c),o=document.createElement("a");o.href=a,o.download=`ggplot_chart.${N}`,o.click(),console.log(`‚úÖ ÂõæÂÉè‰∏ãËΩΩÂÆåÊàê: ggplot_chart.${N}`)}catch(e){console.error("‚ùå ÂõæÂÉèËΩ¨Êç¢/‰∏ãËΩΩÂ§±Ë¥•:",e),alert(`ÂõæÂÉèËΩ¨Êç¢Â§±Ë¥•: ${e instanceof Error?e.message:"Êú™Áü•ÈîôËØØ"}`)}finally{O(!1)}},title:`‰∏ãËΩΩ‰∏∫ ${N.toUpperCase()} Ê†ºÂºè`,disabled:R,children:R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{size:16,className:"spinner"}),"ËΩ¨Êç¢‰∏≠..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ke,{size:16}),"‰∏ãËΩΩ ",N.toUpperCase()]})}),(0,r.jsxs)("button",{className:"action-btn",onClick:()=>{I()},title:"ÈáçÊñ∞ËøêË°å",children:[(0,r.jsx)(xe,{size:16}),"ÈáçÊñ∞ËøêË°å"]})]})]}),(0,r.jsx)("img",{src:e,alt:"Generated plot"})]}):(0,r.jsx)("div",{className:"plot-empty",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se,{size:48,className:"spinner"}),(0,r.jsx)("h3",{children:v}),(0,r.jsx)("p",{children:"È¶ñÊ¨°‰ΩøÁî®ÈúÄË¶Å‰∏ãËΩΩ R ËøêË°åÁéØÂ¢ÉÔºàÁ∫¶ 10-20 ÁßíÔºâ"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"empty-icon",children:(0,r.jsx)(Ee,{size:48})}),(0,r.jsx)("h3",{children:"ÊöÇÊó†ÂõæË°®È¢ÑËßà"}),(0,r.jsx)("p",{children:"ÁÇπÂáª‰∏ãÊñπÊåâÈíÆËøêË°å‰ª£Á†ÅÁîüÊàêÂõæË°®"}),(0,r.jsxs)("button",{className:"run-button",onClick:I,disabled:!n||n.includes("ËØ∑Ê∑ªÂä†ÁßØÊú®")||!i,children:[(0,r.jsx)(je,{size:16}),i?"ËøêË°å‰ª£Á†Å":"ÂàùÂßãÂåñ‰∏≠..."]}),(0,r.jsxs)("div",{className:"info-box",children:[(0,r.jsx)("strong",{children:"‚ú® WebR Â∑≤ÈõÜÊàêÔºÅ"}),(0,r.jsx)("p",{children:"Áé∞Â∑≤ÊîØÊåÅÔºö"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"üöÄ ÊµèËßàÂô®Á´ØËøêË°å R ‰ª£Á†ÅÔºàÊó†ÈúÄÊúçÂä°Âô®Ôºâ"}),(0,r.jsx)("li",{children:"üìä ÂÆûÊó∂ÂõæË°®È¢ÑËßà"}),(0,r.jsx)("li",{children:"üíæ Â§öÊ†ºÂºèÂõæË°®‰∏ãËΩΩÔºàPNG/JPEG/SVGÔºâ"}),(0,r.jsx)("li",{children:"üé® È´òÊ∏ÖÂõæÂÉèÂØºÂá∫ÔºàÊúÄÈ´ò 720 DPIÔºâ"}),(0,r.jsx)("li",{children:"üîÑ Âç≥Êó∂ÈáçÊñ∞ËøêË°å"})]})]})]})})]});var D},Ae=()=>{const[e,n]=(0,a.useState)("code");return(0,r.jsxs)("div",{className:"preview-panel",children:[(0,r.jsx)("div",{className:"preview-header",children:(0,r.jsxs)("div",{className:"preview-tabs",children:[(0,r.jsx)("button",{className:"preview-tab "+("code"===e?"active":""),onClick:()=>n("code"),children:"üìù ‰ª£Á†ÅÈ¢ÑËßà"}),(0,r.jsx)("button",{className:"preview-tab "+("plot"===e?"active":""),onClick:()=>n("plot"),children:"üìä ÂõæË°®È¢ÑËßà"})]})}),(0,r.jsx)("div",{className:"preview-content",children:"code"===e?(0,r.jsx)(_e,{}):(0,r.jsx)(Ne,{})})]})};var Re=t(4);function Oe(e){let n=function(e){let n="",t=!1,r="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(a)n+=i,a=!1;else if("\\"===i&&t)a=!0,n+=i;else if('"'!==i&&"'"!==i||t)if(i===r&&t)t=!1,r="",n+=i;else if(t)n+=i;else if("#"!==i)n+=i;else{for(;o<e.length&&"\n"!==e[o];)o++;o<e.length&&"\n"===e[o]&&(n+="\n")}else t=!0,r=i,n+=i}return n}(e);return n=n.split("\n").map(e=>e.trim()).filter(e=>e.length>0).join("\n"),n=function(e){const n=e.split("\n"),t=[];let r="",a=0,o=0,i=0,l=!1,s="";for(let e=0;e<n.length;e++){const c=n[e].trim();r?r+=" "+c:r=c;for(let e=0;e<c.length;e++){const n=c[e],t=e>0?c[e-1]:"";'"'!==n&&"'"!==n||"\\"===t||(l?n===s&&(l=!1,s=""):(l=!0,s=n)),l||("("===n&&a++,")"===n&&a--,"["===n&&o++,"]"===n&&o--,"{"===n&&i++,"}"===n&&i--)}r.endsWith("+")||r.endsWith("%>%")||r.endsWith(",")||a>0||o>0||i>0||(r&&t.push(r),r="",a=0,o=0,i=0,l=!1,s="")}return r&&t.push(r),t.join("\n")}(n),n=function(e){return e=(e=e.replace(/\b(ggplot2|dplyr|tidyr|tibble)::/g,"")).replace(/ggsave\(([^)]+)\)/g,(e,n)=>{const t=ze(n);if(0===t.length)return e;const r=[];for(let e=0;e<t.length;e++){const n=t[e].trim();n.includes("=")?r.push(n):0===e?n.startsWith('"')||n.startsWith("'")?r.push(`file = ${n}`):r.push(`plot = ${n}`):1===e?r.push(`file = ${n}`):r.push(n)}return`ggsave(${r.join(", ")})`}),e=function(e){let n="",t=!1,r="",a=0;for(;a<e.length;){const o=e[a];if('"'!==o&&"'"!==o||0!==a&&"\\"===e[a-1])if(t)n+=o,a++;else{if("colour"===e.substring(a,a+6)){const t=a>0?e[a-1]:"",r=a+6<e.length?e[a+6]:"",o=!t||/[\s,()=]/.test(t),i=!r||/[\s,()=]/.test(r);if(o&&i){n+="color",a+=6;continue}}n+=o,a++}else t?o===r&&(t=!1,r=""):(t=!0,r=o),n+=o,a++}return n}(e=function(e){const n=/\b(geom_\w+|stat_\w+)\s*\(/g;let t,r="",a=0;for(;null!==(t=n.exec(e));){t[1],t.index;const o=t.index+t[0].length-1;r+=e.substring(a,o+1);const i=Ie(e,o);-1!==i?(r+=Me(e.substring(o+1,i)),r+=")",a=i+1,n.lastIndex=a):a=o+1}return r+=e.substring(a),r}(e)),e}(n),n=function(e){let n="",t=!1,r="",a=!1;for(let o=0;o<e.length;o++){const i=e[o],l=o>0?e[o-1]:"",s=o<e.length-1?e[o+1]:"";if(a)n+=i,a=!1;else if("\\"===i&&t)a=!0,n+=i;else if('"'!==i&&"'"!==i||t)if(i===r&&t)t=!1,r="",n+='"';else if(t)n+=i;else if("("!==i&&"["!==i||" "!==s)if(")"!==i&&"]"!==i||" "!==l)if(","!==i)if("*"!==i&&"/"!==i&&"+"!==i){if("-"===i){if(l&&"("!==l&&"["!==l&&","!==l&&" "!==l&&"="!==l){for(;n.length>0&&" "===n[n.length-1];)n=n.slice(0,-1);if(n+=" "+i," "===s)for(n+=" ";o<e.length-1&&" "===e[o+1];)o++;else s&&" "!==s&&"\n"!==s&&(n+=" ")}else n+=i;continue}if("="===i){const t=n.trimEnd().slice(-1);if("="!==t&&"<"!==t&&">"!==t&&"!"!==t&&"="!==s){for(;n.length>0&&" "===n[n.length-1];)n=n.slice(0,-1);if(n+=" "+i," "===s)for(n+=" ";o<e.length-1&&" "===e[o+1];)o++;else s&&" "!==s&&"\n"!==s&&(n+=" ");continue}}n+=i}else{for(;n.length>0&&" "===n[n.length-1];)n=n.slice(0,-1);if(n+=" "+i," "===s)for(n+=" ";o<e.length-1&&" "===e[o+1];)o++;else s&&" "!==s&&"\n"!==s&&(n+=" ")}else{for(;n.length>0&&" "===n[n.length-1];)n=n.slice(0,-1);if(n+=","," "===s)for(n+=" ";o<e.length-1&&" "===e[o+1];)o++;else s&&")"!==s&&"]"!==s&&"\n"!==s&&(n+=" ")}else{for(;n.length>0&&" "===n[n.length-1];)n=n.slice(0,-1);n+=i}else for(n+=i;o<e.length-1&&" "===e[o+1];)o++;else t=!0,r=i,n+='"'}return n}(n),n}function Me(e){if(!e.trim())return e;const n=ze(e),t=[];for(let e=0;e<n.length;e++){const r=n[e].trim();if(r.startsWith("mapping")&&r.includes("=")){const e=r.indexOf("="),n=r.substring(e+1).trim();if(n.startsWith("aes")){t.push(n);continue}}t.push(r)}return t.join(", ")}function Ie(e,n){let t=1,r=!1,a="";for(let o=n+1;o<e.length;o++){const n=e[o],i=o>0?e[o-1]:"";if('"'!==n&&"'"!==n||"\\"===i){if(!r)if("("===n)t++;else if(")"===n&&(t--,0===t))return o}else r?n===a&&(r=!1,a=""):(r=!0,a=n)}return-1}function ze(e){const n=[];let t="",r=0,a=!1,o="";for(let i=0;i<e.length;i++){const l=e[i],s=i>0?e[i-1]:"";'"'!==l&&"'"!==l||"\\"===s?a?t+=l:"("!==l?")"!==l?","!==l||0!==r?t+=l:(n.push(t.trim()),t=""):(r--,t+=l):(r++,t+=l):(a?l===o&&(a=!1,o=""):(a=!0,o=l),t+=l)}return t.trim()&&n.push(t.trim()),n}async function Pe(e,n){console.log("\nüß™ [ÂèØÈÄÜÊÄßÊµãËØï] ÂºÄÂßãÊµãËØï..."),console.log("üìù [ÂèØÈÄÜÊÄßÊµãËØï] ÂéüÂßã‰ª£Á†Å:\n",e),console.log("\n‚öôÔ∏è [ÂèØÈÄÜÊÄßÊµãËØï] Ê≠•È™§1: Ëß£Êûê‰ª£Á†Å ‚Üí ÁßØÊú®");const t=await(0,Re.parseRCodeToBlocksWithAST)(e,n);console.log(`‚úÖ [ÂèØÈÄÜÊÄßÊµãËØï] Ëß£ÊûêÂÆåÊàêÔºåÂÖ± ${t.length} ‰∏™ÁßØÊú®`),console.log("\nüìä [ÂèØÈÄÜÊÄßÊµãËØï] ÁßØÊú®ÁªìÊûÑ:"),t.forEach(e=>{const n=[];e.connections.input&&n.push(`input: ${e.connections.input}`),e.connections.output&&n.push(`output: ${e.connections.output}`),e.ggplotConnections&&e.ggplotConnections.length>0&&n.push(`ggplot: [${e.ggplotConnections.join(", ")}]`),console.log(`  - ${e.id} (${e.blockType}): ${n.join(", ")||"Êó†ËøûÊé•"}`)}),console.log("\n‚öôÔ∏è [ÂèØÈÄÜÊÄßÊµãËØï] Ê≠•È™§2: ÁßØÊú® ‚Üí ÁîüÊàê‰ª£Á†Å");const r=(0,b.generateRCode)(t);console.log("‚úÖ [ÂèØÈÄÜÊÄßÊµãËØï] ‰ª£Á†ÅÁîüÊàêÂÆåÊàê"),console.log("üìù [ÂèØÈÄÜÊÄßÊµãËØï] ÁîüÊàêÁöÑ‰ª£Á†Å:\n",r),console.log("\n‚öôÔ∏è [ÂèØÈÄÜÊÄßÊµãËØï] Ê≠•È™§3: ËßÑËåÉÂåñ‰ª£Á†Å");const a=Oe(e),o=Oe(r);console.log("üìù [ÂèØÈÄÜÊÄßÊµãËØï] ËßÑËåÉÂåñÂêéÁöÑÂéüÂßã‰ª£Á†Å:\n",a),console.log("üìù [ÂèØÈÄÜÊÄßÊµãËØï] ËßÑËåÉÂåñÂêéÁöÑÁîüÊàê‰ª£Á†Å:\n",o),console.log("\n‚öôÔ∏è [ÂèØÈÄÜÊÄßÊµãËØï] Ê≠•È™§4: ÊØîËæÉ‰ª£Á†Å");const i=a===o;if(i)console.log("‚úÖ [ÂèØÈÄÜÊÄßÊµãËØï] ÊµãËØïÈÄöËøáÔºÅ‰ª£Á†ÅÂÆåÂÖ®ÂèØÈÄÜ");else{console.log("‚ùå [ÂèØÈÄÜÊÄßÊµãËØï] ÊµãËØïÂ§±Ë¥•ÔºÅ‰ª£Á†Å‰∏çÂèØÈÄÜ");const e=Le(a,o);console.log("\nüìã [ÂèØÈÄÜÊÄßÊµãËØï] Â∑ÆÂºÇÔºö"),e.forEach(e=>console.log("  "+e))}return{success:i,originalNormalized:a,generatedNormalized:o,blocks:t,diff:i?void 0:Le(a,o)}}function Le(e,n){const t=e.split("\n"),r=n.split("\n"),a=[],o=Math.max(t.length,r.length);for(let e=0;e<o;e++){const n=t[e]||"",o=r[e]||"";n!==o&&(a.push(`Á¨¨ ${e+1} Ë°å‰∏çÂêå:`),n&&a.push(`  ÂéüÂßã: ${n}`),o&&a.push(`  ÁîüÊàê: ${o}`))}return 0===a.length&&t.length!==r.length&&a.push(`Ë°åÊï∞‰∏çÂêå: ÂéüÂßã ${t.length} Ë°åÔºåÁîüÊàê ${r.length} Ë°å`),a}const De={simpleGgplot:"library(ggplot2)\np <- ggplot(mtcars, aes(x=wt, y=mpg)) +\n  geom_point() +\n  theme_minimal()",withDataImport:'library(ggplot2)\ndata <- read.csv("data.csv")\np <- ggplot(data, aes(x=x, y=y)) +\n  geom_bar(stat="identity")\nggsave(p, "output.png")',multipleStatements:'library(ggplot2)\nlibrary(dplyr)\ndata <- read.csv("data.csv")\np <- ggplot(data, aes(x=x, y=y)) + geom_point()\nprint(p)',complexGgplot:'library(ggplot2)\nggplot(iris, aes(x=Sepal.Length, y=Sepal.Width, color=Species)) +\n  geom_point() +\n  geom_smooth(method="lm") +\n  labs(title="Iris Dataset", x="Sepal Length", y="Sepal Width") +\n  theme_minimal()'},$e=p("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Ue=p("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Be=p("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Fe=({webR:e})=>{const[n,t]=(0,a.useState)("reversibility"),[o,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(null),[c,u]=(0,a.useState)("simpleGgplot"),{generatedCode:p,blocks:f,enableCodeNormalization:g,setEnableCodeNormalization:m}=(0,d.useBlockStore)();return(0,r.jsxs)("div",{className:"developer-panel",children:[(0,r.jsx)("div",{className:"developer-panel-header",children:(0,r.jsx)("h3",{children:"ÂºÄÂèëËÄÖÂ∑•ÂÖ∑"})}),(0,r.jsxs)("div",{className:"developer-panel-tabs",children:[(0,r.jsxs)("button",{className:"developer-tab "+("reversibility"===n?"active":""),onClick:()=>t("reversibility"),children:[(0,r.jsx)($e,{size:16}),"ÂèØÈÄÜÊÄßÊµãËØï"]}),(0,r.jsxs)("button",{className:"developer-tab "+("debug"===n?"active":""),onClick:()=>t("debug"),children:[(0,r.jsx)(Ue,{size:16}),"Ë∞ÉËØï‰ø°ÊÅØ"]}),(0,r.jsxs)("button",{className:"developer-tab "+("performance"===n?"active":""),onClick:()=>t("performance"),children:[(0,r.jsx)(Be,{size:16}),"ÊÄßËÉΩÁõëÊéß"]})]}),(0,r.jsxs)("div",{className:"developer-panel-content",children:["reversibility"===n&&(0,r.jsxs)("div",{className:"developer-tab-content",children:[(0,r.jsxs)("div",{className:"developer-info-box",children:[(0,r.jsx)("h4",{children:"üìã ÂÖ≥‰∫éÂèØÈÄÜÊÄßÊµãËØï"}),(0,r.jsxs)("p",{children:["ÂèØÈÄÜÊÄßÊµãËØïÈ™åËØÅ ",(0,r.jsx)("strong",{children:"‰ª£Á†Å ‚Üí ÁßØÊú® ‚Üí ‰ª£Á†Å"})," ÁöÑËΩ¨Êç¢ÊòØÂê¶‰øùÊåÅËØ≠‰πâ‰∏ÄËá¥„ÄÇ ËøôÁ°Æ‰øù‰∫ÜÁºñËæëÂô®ÁöÑÂèåÂêëËΩ¨Êç¢ÂäüËÉΩÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ"]})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üß™ ÊµãËØïÈÄâÈ°π"}),(0,r.jsxs)("div",{className:"developer-test-group",children:[(0,r.jsx)("label",{children:"ÊµãËØïÂΩìÂâçÁîªÂ∏É‰ª£Á†ÅÔºö"}),(0,r.jsx)("button",{onClick:async()=>{if(p&&e){i(!0),s(null);try{const n=await Pe(p,e);s(n)}catch(e){console.error("ÊµãËØïÂ§±Ë¥•:",e),alert("ÊµãËØïÂ§±Ë¥•: "+e.message)}finally{i(!1)}}else alert("ËØ∑ÂÖàÁîüÊàê‰ª£Á†ÅÊàñÁ≠âÂæÖ WebR ÂàùÂßãÂåñ")},disabled:o||!p,className:"developer-btn primary",children:o?"ÊµãËØï‰∏≠...":"ÊµãËØïÂΩìÂâç‰ª£Á†Å"}),!p&&(0,r.jsx)("p",{className:"developer-hint",children:"ËØ∑ÂÖàÂú®ÁîªÂ∏É‰∏äÊ∑ªÂä†ÁßØÊú®"})]}),(0,r.jsxs)("div",{className:"developer-test-group",children:[(0,r.jsx)("label",{children:"ÊµãËØïÈ¢ÑÂÆö‰πâÁî®‰æãÔºö"}),(0,r.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"developer-select",children:[(0,r.jsx)("option",{value:"simpleGgplot",children:"ÁÆÄÂçï ggplot Èìæ"}),(0,r.jsx)("option",{value:"withDataImport",children:"Â∏¶Êï∞ÊçÆÂØºÂÖ•"}),(0,r.jsx)("option",{value:"multipleStatements",children:"Â§ö‰∏™ËØ≠Âè•"}),(0,r.jsx)("option",{value:"complexGgplot",children:"Â§çÊùÇ ggplot Èìæ"})]}),(0,r.jsx)("button",{onClick:async()=>{if(!e)return void alert("ËØ∑Á≠âÂæÖ WebR ÂàùÂßãÂåñ");const n=De[c];if(n){i(!0),s(null);try{const t=await Pe(n,e);s(t)}catch(e){console.error("ÊµãËØïÂ§±Ë¥•:",e),alert("ÊµãËØïÂ§±Ë¥•: "+e.message)}finally{i(!1)}}else alert("Êó†ÊïàÁöÑÊµãËØïÁî®‰æã")},disabled:o,className:"developer-btn secondary",children:o?"ÊµãËØï‰∏≠...":"ÊµãËØïÈÄâ‰∏≠Áî®‰æã"})]})]}),l&&(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üìä ÊµãËØïÁªìÊûú"}),(0,r.jsx)("div",{className:"developer-result-box "+(l.success?"success":"failure"),children:(0,r.jsx)("strong",{children:l.success?"‚úÖ ÊµãËØïÈÄöËøáÔºÅ‰ª£Á†ÅÂÆåÂÖ®ÂèØÈÄÜ":"‚ùå ÊµãËØïÂ§±Ë¥•ÔºÅ‰ª£Á†Å‰∏çÂèØÈÄÜ"})}),(0,r.jsxs)("div",{className:"developer-code-block",children:[(0,r.jsx)("h5",{children:"ËßÑËåÉÂåñÂêéÁöÑÂéüÂßã‰ª£Á†ÅÔºö"}),(0,r.jsx)("pre",{children:l.originalNormalized})]}),(0,r.jsxs)("div",{className:"developer-code-block",children:[(0,r.jsx)("h5",{children:"ËßÑËåÉÂåñÂêéÁöÑÁîüÊàê‰ª£Á†ÅÔºö"}),(0,r.jsx)("pre",{children:l.generatedNormalized})]}),l.diff&&l.diff.length>0&&(0,r.jsxs)("div",{className:"developer-code-block diff",children:[(0,r.jsx)("h5",{children:"Â∑ÆÂºÇËØ¶ÊÉÖÔºö"}),(0,r.jsx)("pre",{children:l.diff.join("\n")})]})]})]}),"debug"===n&&(0,r.jsxs)("div",{className:"developer-tab-content",children:[(0,r.jsxs)("div",{className:"developer-info-box",children:[(0,r.jsx)("h4",{children:"üêõ Ë∞ÉËØï‰ø°ÊÅØ"}),(0,r.jsx)("p",{children:"Êü•ÁúãÂ∫îÁî®ÁöÑÂÆûÊó∂Áä∂ÊÄÅÂíåË∞ÉËØï‰ø°ÊÅØ"})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"‚öôÔ∏è ÁºñËæëÂô®ËÆæÁΩÆ"}),(0,r.jsxs)("div",{className:"developer-toggle-item",children:[(0,r.jsxs)("div",{className:"toggle-info",children:[(0,r.jsx)("span",{className:"label",children:"‰ª£Á†ÅËßÑËåÉÂåñÔºö"}),(0,r.jsx)("p",{className:"toggle-description",children:"ÂêØÁî®ÂêéÔºåÊâãÂä®ÁºñËæëÁöÑ‰ª£Á†Å‰ºöËá™Âä®Ê†ºÂºèÂåñ‰∏∫Ê†áÂáÜÊ†ºÂºè„ÄÇ Á¶ÅÁî®ÂèØ‰øùÁïôÁî®Êà∑ÁöÑ‰ª£Á†ÅÊ†ºÂºèÔºàÂ¶ÇÁ©∫Ê†º„ÄÅÊç¢Ë°åÁ≠âÔºâ„ÄÇ"})]}),(0,r.jsxs)("label",{className:"toggle-switch",children:[(0,r.jsx)("input",{type:"checkbox",checked:g,onChange:e=>m(e.target.checked)}),(0,r.jsx)("span",{className:"toggle-slider"})]})]}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"ÂΩìÂâçÁä∂ÊÄÅÔºö"}),(0,r.jsx)("span",{className:"value "+(g?"status-enabled":"status-disabled"),children:g?"‚úÖ Â∑≤ÂêØÁî®":"‚ùå Â∑≤Á¶ÅÁî®"})]})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üì¶ ÁßØÊú®Áä∂ÊÄÅ"}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"ÁßØÊú®Êï∞ÈáèÔºö"}),(0,r.jsx)("span",{className:"value",children:f.length})]}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"ÁîüÊàê‰ª£Á†ÅÈïøÂ∫¶Ôºö"}),(0,r.jsxs)("span",{className:"value",children:[p?.length||0," Â≠óÁ¨¶"]})]})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üíª Á≥ªÁªü‰ø°ÊÅØ"}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"ÊµèËßàÂô®Ôºö"}),(0,r.jsx)("span",{className:"value",children:navigator.userAgent.split(" ").slice(-2).join(" ")})]}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"WebR Áä∂ÊÄÅÔºö"}),(0,r.jsx)("span",{className:"value",children:e?"‚úÖ Â∑≤Â∞±Áª™":"‚è≥ Êú™ÂàùÂßãÂåñ"})]})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üîç ÂΩìÂâç‰ª£Á†Å"}),(0,r.jsx)("div",{className:"developer-code-block",children:(0,r.jsx)("pre",{children:p||"// ÊöÇÊó†‰ª£Á†Å"})})]})]}),"performance"===n&&(0,r.jsxs)("div",{className:"developer-tab-content",children:[(0,r.jsxs)("div",{className:"developer-info-box",children:[(0,r.jsx)("h4",{children:"‚ö° ÊÄßËÉΩÁõëÊéß"}),(0,r.jsx)("p",{children:"ÁõëÊéßÂ∫îÁî®ÁöÑÊÄßËÉΩÊåáÊ†áÂíåËµÑÊ∫ê‰ΩøÁî®ÊÉÖÂÜµ"})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üìà ÊÄßËÉΩÊåáÊ†á"}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"ÁßØÊú®Ê∏≤ÊüìÊï∞ÈáèÔºö"}),(0,r.jsx)("span",{className:"value",children:f.length})]}),(0,r.jsxs)("div",{className:"developer-info-item",children:[(0,r.jsx)("span",{className:"label",children:"ÂÜÖÂ≠ò‰ΩøÁî®Ôºö"}),(0,r.jsx)("span",{className:"value",children:performance.memory?`${(performance.memory.usedJSHeapSize/1048576).toFixed(2)} MB`:"‰∏çÂèØÁî®"})]})]}),(0,r.jsxs)("div",{className:"developer-section",children:[(0,r.jsx)("h4",{children:"üéØ ‰ºòÂåñÂª∫ËÆÆ"}),(0,r.jsxs)("ul",{className:"developer-tips",children:[(0,r.jsx)("li",{children:"ÂΩìÁßØÊú®Êï∞ÈáèË∂ÖËøá 50 ‰∏™Êó∂ÔºåËÄÉËôë‰ΩøÁî®ËôöÊãüÊªöÂä®"}),(0,r.jsx)("li",{children:"ÂÆöÊúüÊ∏ÖÁêÜ‰∏çÈúÄË¶ÅÁöÑÁßØÊú®‰ª•ÊèêÈ´òÊÄßËÉΩ"}),(0,r.jsx)("li",{children:"ÈÅøÂÖçÈ¢ëÁπÅÁöÑ‰ª£Á†ÅÁîüÊàêÊìç‰Ωú"})]})]})]})]})]})},qe=()=>{const{isDeveloperMode:e,setIsDeveloperMode:n}=(0,d.useBlockStore)(),[t,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(""),[s,c]=(0,a.useState)(""),u=()=>{"daish"===i?(n(!0),o(!1),l(""),c("")):(c("ÂØÜÈí•ÈîôËØØÔºåËØ∑ÈáçÊñ∞ËæìÂÖ•"),l(""))},p=()=>{o(!1),l(""),c("")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"header-btn "+(e?"developer-active":""),onClick:()=>{e?n(!1):(o(!0),l(""),c(""))},title:e?"ÈÄÄÂá∫ÂºÄÂèëËÄÖÊ®°Âºè":"ËøõÂÖ•ÂºÄÂèëËÄÖÊ®°Âºè",children:[e?(0,r.jsx)(ye,{size:18}):(0,r.jsx)(ve,{size:18}),"ÂºÄÂèëËÄÖ"]}),t&&(0,r.jsx)("div",{className:"developer-key-modal-overlay",children:(0,r.jsxs)("div",{className:"developer-key-modal",children:[(0,r.jsxs)("div",{className:"developer-key-modal-header",children:[(0,r.jsx)(Ce,{size:20}),(0,r.jsx)("h3",{children:"ÂºÄÂèëËÄÖÊ®°Âºè"})]}),(0,r.jsxs)("div",{className:"developer-key-modal-content",children:[(0,r.jsx)("p",{children:"ËØ∑ËæìÂÖ•ÂºÄÂèëËÄÖÂØÜÈí•‰ª•ÂêØÁî®ÂºÄÂèëËÄÖÊ®°ÂºèÔºö"}),(0,r.jsxs)("div",{className:"developer-key-input-group",children:[(0,r.jsx)("input",{type:"password",value:i,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key?u():"Escape"===e.key&&p()},placeholder:"ËØ∑ËæìÂÖ•ÂØÜÈí•",className:"developer-key-input",autoFocus:!0}),s&&(0,r.jsx)("div",{className:"developer-key-error",children:s})]})]}),(0,r.jsxs)("div",{className:"developer-key-modal-actions",children:[(0,r.jsx)("button",{className:"developer-key-btn secondary",onClick:p,children:"ÂèñÊ∂à"}),(0,r.jsx)("button",{className:"developer-key-btn primary",onClick:u,disabled:!i.trim(),children:"Á°ÆËÆ§"})]})]})})]})},We=[{name:"ggplot2",description:"Âº∫Â§ßÁöÑÊï∞ÊçÆÂèØËßÜÂåñÂåÖÔºàÂøÖÈúÄÔºâ",required:!0,category:"ggplot2"},{name:"ggstream",description:"ÊµÅÂõæÔºàStream GraphÔºâ",category:"ggplot2"},{name:"ggridges",description:"Â±±ËÑäÂõæÔºàRidge PlotÔºâ",category:"ggplot2"},{name:"ggalluvial",description:"ÂÜ≤ÁßØÂõæÔºàAlluvial DiagramÔºâ",category:"ggplot2"},{name:"ggforce",description:"ggplot2 Â¢ûÂº∫ÂäüËÉΩ",category:"ggplot2"},{name:"ggrepel",description:"Ëá™Âä®ÈÅøËÆ©ÁöÑÊñáÊú¨Ê†áÁ≠æ",category:"ggplot2"},{name:"gganimate",description:"ÂàõÂª∫Âä®ÁîªÂõæË°®",category:"ggplot2"},{name:"ggpubr",description:"Âá∫ÁâàÁ∫ßÂõæË°®",category:"ggplot2"},{name:"ggthemes",description:"È¢ùÂ§ñÁöÑ‰∏ªÈ¢òÊ†∑Âºè",category:"ggplot2"},{name:"ggcorrplot",description:"Áõ∏ÂÖ≥ÊÄßÁÉ≠Âõæ",category:"ggplot2"},{name:"ggtree",description:"Á≥ªÁªüÂèëËÇ≤Ê†ëÂèØËßÜÂåñ",category:"ggplot2"},{name:"ggraph",description:"ÁΩëÁªúÂõæÂíåÊ†ëÂΩ¢Âõæ",category:"ggplot2"},{name:"patchwork",description:"ÁªÑÂêàÂ§ö‰∏™ ggplot ÂõæË°®",category:"ggplot2"},{name:"cowplot",description:"Âá∫ÁâàÁ∫ßÂõæË°®‰∏ªÈ¢òÂíåÂ∏ÉÂ±Ä",category:"ggplot2"},{name:"gridExtra",description:"ÂõæË°®ÁΩëÊ†ºÂ∏ÉÂ±Ä",category:"ggplot2"},{name:"viridis",description:"Ëâ≤Áõ≤ÂèãÂ•ΩÁöÑÈÖçËâ≤ÊñπÊ°à",category:"color"},{name:"RColorBrewer",description:"ColorBrewer ÈÖçËâ≤ÊñπÊ°à",category:"color"},{name:"scales",description:"ÂùêÊ†áËΩ¥ÂàªÂ∫¶ÂíåÊ†áÁ≠æÊ†ºÂºèÂåñ",category:"color"},{name:"ggsci",description:"ÁßëÂ≠¶ÊúüÂàäÈÖçËâ≤ÊñπÊ°à",category:"color"},{name:"wesanderson",description:"Wes Anderson ÁîµÂΩ±ÈÖçËâ≤",category:"color"},{name:"dplyr",description:"Êï∞ÊçÆÂ§ÑÁêÜÂíåËΩ¨Êç¢",category:"tidyverse"},{name:"tidyr",description:"Êï∞ÊçÆÊï¥ÁêÜÂíåÈáçÂ°ëÔºàÂåÖÂê´ gather Á≠âÔºâ",category:"tidyverse"},{name:"readr",description:"Âø´ÈÄüËØªÂèñÊï∞ÊçÆÊñá‰ª∂",category:"tidyverse"},{name:"tibble",description:"Áé∞‰ª£ÂåñÁöÑÊï∞ÊçÆÊ°Ü",category:"tidyverse"},{name:"stringr",description:"Â≠óÁ¨¶‰∏≤Â§ÑÁêÜ",category:"tidyverse"},{name:"forcats",description:"Âõ†Â≠êÂ§ÑÁêÜ",category:"tidyverse"},{name:"purrr",description:"ÂáΩÊï∞ÂºèÁºñÁ®ãÂ∑•ÂÖ∑",category:"tidyverse"},{name:"lubridate",description:"Êó•ÊúüÊó∂Èó¥Â§ÑÁêÜ",category:"tidyverse"},{name:"networkD3",description:"‰∫§‰∫íÂºèÁΩëÁªúÂõæÂíåÊ°ëÂü∫Âõæ",category:"network"},{name:"igraph",description:"ÁΩëÁªúÂàÜÊûêÂíåÂèØËßÜÂåñ",category:"network"},{name:"visNetwork",description:"‰∫§‰∫íÂºèÁΩëÁªúÂèØËßÜÂåñ",category:"network"},{name:"DiagrammeR",description:"ÊµÅÁ®ãÂõæÂíåÂõæË°®",category:"network"},{name:"sf",description:"Á©∫Èó¥Êï∞ÊçÆÂ§ÑÁêÜ",category:"geo"},{name:"leaflet",description:"‰∫§‰∫íÂºèÂú∞Âõæ",category:"geo"},{name:"maps",description:"Âú∞ÂõæÊï∞ÊçÆ",category:"geo"},{name:"mapdata",description:"È¢ùÂ§ñÂú∞ÂõæÊï∞ÊçÆ",category:"geo"},{name:"mapproj",description:"Âú∞ÂõæÊäïÂΩ±",category:"geo"},{name:"plotly",description:"‰∫§‰∫íÂºèÂõæË°®",category:"interactive"},{name:"DT",description:"‰∫§‰∫íÂºèÊï∞ÊçÆË°®Ê†º",category:"interactive"},{name:"htmlwidgets",description:"HTML Â∞èÈÉ®‰ª∂Ê°ÜÊû∂",category:"interactive"},{name:"highcharter",description:"Highcharts ‰∫§‰∫íÂºèÂõæË°®",category:"interactive"},{name:"zoo",description:"Êó∂Èó¥Â∫èÂàóÂ§ÑÁêÜ",category:"timeseries"},{name:"xts",description:"ÂèØÊâ©Â±ïÊó∂Èó¥Â∫èÂàó",category:"timeseries"},{name:"forecast",description:"Êó∂Èó¥Â∫èÂàóÈ¢ÑÊµã",category:"timeseries"},{name:"tseries",description:"Êó∂Èó¥Â∫èÂàóÂàÜÊûê",category:"timeseries"},{name:"car",description:"ÂõûÂΩíÂàÜÊûêËæÖÂä©Â∑•ÂÖ∑",category:"stats"},{name:"lme4",description:"Á∫øÊÄßÊ∑∑ÂêàÊïàÂ∫îÊ®°Âûã",category:"stats"},{name:"nlme",description:"ÈùûÁ∫øÊÄßÊ∑∑ÂêàÊïàÂ∫îÊ®°Âûã",category:"stats"},{name:"survival",description:"ÁîüÂ≠òÂàÜÊûê",category:"stats"},{name:"MASS",description:"ÁªüËÆ°ÂáΩÊï∞ÈõÜÂêà",category:"stats"},{name:"caret",description:"Êú∫Âô®Â≠¶‰π†ËÆ≠ÁªÉÂ∑•ÂÖ∑",category:"stats"},{name:"circlize",description:"ÂúÜÂΩ¢Â∏ÉÂ±ÄÂèØËßÜÂåñ",category:"specialized"},{name:"vcd",description:"ÂàÜÁ±ªÊï∞ÊçÆÂèØËßÜÂåñ",category:"specialized"},{name:"treemap",description:"Ê†ëÁä∂Âõæ",category:"specialized"},{name:"wordcloud",description:"ËØç‰∫ëÂõæ",category:"specialized"},{name:"corrplot",description:"Áõ∏ÂÖ≥Á≥ªÊï∞ÂèØËßÜÂåñ",category:"specialized"},{name:"jsonlite",description:"JSON Êï∞ÊçÆÂ§ÑÁêÜ",category:"data"},{name:"reshape2",description:"Êï∞ÊçÆÈáçÂ°ëÔºàÂåÖÂê´ melt/castÔºâ",category:"data"},{name:"data.table",description:"È´òÊÄßËÉΩÊï∞ÊçÆÂ§ÑÁêÜ",category:"data"},{name:"tidytext",description:"ÊñáÊú¨Êï∞ÊçÆÂ§ÑÁêÜ",category:"data"},{name:"haven",description:"ËØªÂèñ SPSS/Stata/SAS Êï∞ÊçÆ",category:"data"},{name:"readxl",description:"ËØªÂèñ Excel Êñá‰ª∂",category:"data"},{name:"xml2",description:"XML Êï∞ÊçÆÂ§ÑÁêÜ",category:"data"},{name:"stringi",description:"È´òÁ∫ßÂ≠óÁ¨¶‰∏≤Â§ÑÁêÜ",category:"text"},{name:"glue",description:"Â≠óÁ¨¶‰∏≤ÊèíÂÄº",category:"text"},{name:"tm",description:"ÊñáÊú¨ÊåñÊéò",category:"text"},{name:"base64enc",description:"Base64 ÁºñÁ†ÅÔºàÂõæË°®ÂØºÂá∫ÈúÄË¶ÅÔºâ",category:"utils"},{name:"knitr",description:"Âä®ÊÄÅÊä•ÂëäÁîüÊàê",category:"utils"},{name:"rmarkdown",description:"R Markdown ÊñáÊ°£",category:"utils"},{name:"shiny",description:"‰∫§‰∫íÂºè Web Â∫îÁî®",category:"utils"}],Ve=({onClose:e})=>{const{selectedPackages:n,setSelectedPackages:t}=(0,d.useBlockStore)(),[o,i]=(0,a.useState)(n),[l,s]=(0,a.useState)([]),[c,u]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[g,m]=(0,a.useState)({cachedPackages:[],hasCachedData:!1});(0,a.useEffect)(()=>{const e=Te.webRRunner.getCacheInfo();m(e)},[]);const h=e=>{const n=We.find(n=>n.name===e);n?.required||(o.includes(e)?i(o.filter(n=>n!==e)):i([...o,e]))},b=()=>{if(!c.trim())return;if([...We,...l].some(e=>e.name.toLowerCase()===c.trim().toLowerCase()))return void alert("ËØ•ÂåÖÂ∑≤Â≠òÂú®ÔºÅ");const e={name:c.trim(),description:p.trim()||"Ëá™ÂÆö‰πâÂåÖ"};s([...l,e]),i([...o,e.name]),u(""),f("")},y=We.filter(e=>e.required),v=We.filter(e=>"ggplot2"===e.category&&!e.required),x=We.filter(e=>"color"===e.category),w=We.filter(e=>"tidyverse"===e.category),k=We.filter(e=>"network"===e.category),_=We.filter(e=>"geo"===e.category),S=We.filter(e=>"interactive"===e.category),E=We.filter(e=>"timeseries"===e.category),j=We.filter(e=>"stats"===e.category),C=We.filter(e=>"specialized"===e.category),T=We.filter(e=>"data"===e.category),N=We.filter(e=>"text"===e.category),A=We.filter(e=>"utils"===e.category);return(0,r.jsxs)("div",{className:"r-package-selector",children:[(0,r.jsxs)("div",{className:"package-selector-header",children:[(0,r.jsx)("h3",{children:"üì¶ ÈÄâÊã©Ë¶ÅÂÆâË£ÖÁöÑ R ÂåÖ"}),(0,r.jsx)("p",{className:"package-selector-subtitle",children:"ÈÄâÊã©‰Ω†ÈúÄË¶ÅÁöÑÂåÖÔºåÈ¶ñÊ¨°ÂÆâË£ÖÂèØËÉΩÈúÄË¶ÅÂá†ÂàÜÈíüÊó∂Èó¥"}),g.hasCachedData&&(0,r.jsxs)("div",{className:"cache-info-banner",children:[(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("strong",{children:"üíæ ÁºìÂ≠òÁä∂ÊÄÅÔºö"})," Â∑≤ÁºìÂ≠ò ",g.cachedPackages.length," ‰∏™ÂåÖ",(0,r.jsxs)("div",{style:{fontSize:"0.85rem",marginTop:"4px",color:"#059669"},children:[g.cachedPackages.slice(0,5).join(", "),g.cachedPackages.length>5&&` Á≠â ${g.cachedPackages.length} ‰∏™ÂåÖ`]}),(0,r.jsx)("div",{style:{fontSize:"0.85rem",marginTop:"4px",color:"#6b7280"},children:"‚ö° Ëøô‰∫õÂåÖÂ∞ÜÂø´ÈÄüÂä†ËΩΩÔºåÊó†ÈúÄÈáçÊñ∞‰∏ãËΩΩ"})]}),(0,r.jsx)("button",{className:"clear-cache-btn",onClick:()=>{confirm("Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÂ∑≤ÁºìÂ≠òÁöÑ R ÂåÖÂêóÔºü\n‰∏ãÊ¨°ÂêØÂä®Êó∂ÈúÄË¶ÅÈáçÊñ∞‰∏ãËΩΩÂÆâË£Ö„ÄÇ")&&(Te.webRRunner.clearCache(),m({cachedPackages:[],hasCachedData:!1}),alert("‚úÖ ÁºìÂ≠òÂ∑≤Ê∏ÖÈô§ÔºÅ‰∏ãÊ¨°ÂêØÂä®Â∞ÜÈáçÊñ∞‰∏ãËΩΩÂåÖ„ÄÇ"))},title:"Ê∏ÖÈô§ÁºìÂ≠òÂêéÔºå‰∏ãÊ¨°ÂêØÂä®ÈúÄË¶ÅÈáçÊñ∞‰∏ãËΩΩ",children:"üóëÔ∏è Ê∏ÖÈô§ÁºìÂ≠ò"})]}),(0,r.jsxs)("div",{className:"package-selector-tip",children:["üí° ÊèêÁ§∫Ôºö",(0,r.jsxs)("ul",{style:{marginTop:"8px",marginBottom:"0",paddingLeft:"20px"},children:[(0,r.jsxs)("li",{children:["‰ΩøÁî® ",(0,r.jsx)("code",{children:"library(tidyverse)"}),"ÔºüËØ∑ÈÄâÊã© Tidyverse Á≥ªÂàóÂåÖ"]}),(0,r.jsxs)("li",{children:["ÁªòÂà∂Ê°ëÂü∫ÂõæÔºüËØ∑ÈÄâÊã© ",(0,r.jsx)("code",{children:"networkD3"})," ÂåÖ"]}),(0,r.jsxs)("li",{children:["ÁªòÂà∂ÊµÅÂõæÔºüËØ∑ÈÄâÊã© ",(0,r.jsx)("code",{children:"ggstream"})," ÂåÖ"]}),(0,r.jsxs)("li",{children:["ÈúÄË¶ÅÂØºÂá∫ÂõæË°®Ôºü",(0,r.jsx)("code",{children:"base64enc"})," Â∑≤Âú®Êé®ËçêÂåÖ‰∏≠"]}),(0,r.jsxs)("li",{children:["‚ö° ",(0,r.jsx)("strong",{children:"Êñ∞ÂäüËÉΩÔºö"}),"Â∑≤ÂÆâË£ÖÁöÑÂåÖ‰ºöËá™Âä®ÁºìÂ≠òÔºåÈáçÂêØÂêéÂø´ÈÄüÂä†ËΩΩÔºÅ"]})]})]})]}),(0,r.jsxs)("div",{className:"package-selector-actions",children:[(0,r.jsx)("button",{className:"selector-btn selector-btn-recommended",onClick:()=>{i([...new Set([...o,"ggplot2","dplyr","tidyr","viridis","scales","RColorBrewer","ggstream","ggalluvial","networkD3"])])},title:"ÈÄâÊã©ËøêË°åÂ§ßÂ§öÊï∞Á§∫‰æãÊâÄÈúÄÁöÑÊ†∏ÂøÉÂåÖ",children:"‚≠ê Êé®ËçêÂåÖ"}),(0,r.jsx)("button",{className:"selector-btn selector-btn-ggplot2",onClick:()=>{const e=We.filter(e=>"ggplot2"===e.category).map(e=>e.name);i([...new Set([...o,...e])])},title:"ÈÄâÊã©ÊâÄÊúâ ggplot2 Êâ©Â±ïÂåÖ",children:"üìä ggplot2 Êâ©Â±ï"}),(0,r.jsx)("button",{className:"selector-btn selector-btn-tidyverse",onClick:()=>{const e=We.filter(e=>"tidyverse"===e.category||e.required).map(e=>e.name);i([...new Set([...o,...e])])},children:"üîß Tidyverse"}),(0,r.jsx)("button",{className:"selector-btn selector-btn-primary",onClick:()=>{const e=[...We.map(e=>e.name),...l.map(e=>e.name)];i(e)},children:"‚úì ÂÖ®ÈÄâ"}),(0,r.jsx)("button",{className:"selector-btn",onClick:()=>{i(We.filter(e=>e.required).map(e=>e.name))},children:"‚úó ÂèñÊ∂àÂÖ®ÈÄâ"})]}),(0,r.jsxs)("div",{className:"package-selector-stats",children:["Â∑≤ÈÄâÊã©: ",(0,r.jsx)("strong",{children:o.length})," ‰∏™ÂåÖ"]}),(0,r.jsxs)("div",{className:"package-list",children:[(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"‚úÖ ÂøÖÈúÄÂåÖ"}),y.map(e=>(0,r.jsxs)("label",{className:"package-item package-item-required",children:[(0,r.jsx)("input",{type:"checkbox",checked:!0,disabled:!0}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üìä ggplot2 Êâ©Â±ïÂåÖ"}),v.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üé® ÈÖçËâ≤ÊñπÊ°à"}),x.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üîß Tidyverse Á≥ªÂàó"}),w.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),k.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üï∏Ô∏è ÁΩëÁªúÂõæÂíåÊµÅÁ®ãÂõæ"}),k.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),_.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üó∫Ô∏è Âú∞ÁêÜÁ©∫Èó¥ÂèØËßÜÂåñ"}),_.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),S.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"‚ö° ‰∫§‰∫íÂºèÂèØËßÜÂåñ"}),S.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),E.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üìà Êó∂Èó¥Â∫èÂàóÂàÜÊûê"}),E.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),j.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üìä ÁªüËÆ°Âª∫Ê®°"}),j.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),C.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üéØ ‰∏ì‰∏öÂèØËßÜÂåñ"}),C.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),T.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üíæ Êï∞ÊçÆÂ§ÑÁêÜÂíåËΩ¨Êç¢"}),T.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),N.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üìù Â≠óÁ¨¶‰∏≤ÂíåÊñáÊú¨"}),N.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),A.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üîß ÂÆûÁî®Â∑•ÂÖ∑"}),A.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]})]},e.name))]}),l.length>0&&(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üîñ Ëá™ÂÆö‰πâÂåÖ"}),l.map(e=>(0,r.jsxs)("label",{className:"package-item "+(o.includes(e.name)?"package-item-selected":""),children:[(0,r.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>h(e.name)}),(0,r.jsxs)("div",{className:"package-info",children:[(0,r.jsx)("span",{className:"package-name",children:e.name}),(0,r.jsx)("span",{className:"package-desc",children:e.description})]}),(0,r.jsx)("button",{className:"remove-custom-pkg-btn",onClick:n=>{var t;n.preventDefault(),t=e.name,s(l.filter(e=>e.name!==t)),i(o.filter(e=>e!==t))},title:"Âà†Èô§Ëá™ÂÆö‰πâÂåÖ",children:"‚úï"})]},e.name))]}),(0,r.jsxs)("div",{className:"package-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"‚ûï Ê∑ªÂä†Ëá™ÂÆö‰πâÂåÖ"}),(0,r.jsxs)("div",{className:"add-custom-package",children:[(0,r.jsx)("input",{type:"text",className:"custom-pkg-input",placeholder:"ÂåÖÂêçÔºàÂ¶ÇÔºöggstreamÔºâ",value:c,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&b()}),(0,r.jsx)("input",{type:"text",className:"custom-pkg-input",placeholder:"ÊèèËø∞ÔºàÂèØÈÄâÔºâ",value:p,onChange:e=>f(e.target.value),onKeyPress:e=>"Enter"===e.key&&b()}),(0,r.jsx)("button",{className:"add-custom-pkg-btn",onClick:b,disabled:!c.trim(),children:"Ê∑ªÂä†"})]})]})]}),(0,r.jsx)("div",{className:"package-selector-footer",children:(0,r.jsx)("button",{className:"selector-btn selector-btn-confirm",onClick:()=>{t(o),e&&e()},children:"Á°ÆËÆ§Âπ∂ÂºÄÂßãÂÆâË£Ö"})}),(0,r.jsx)("style",{children:'\n        .r-package-selector {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          max-width: 700px;\n          margin: 0 auto;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n        }\n\n        .package-selector-header {\n          margin-bottom: 20px;\n          text-align: center;\n        }\n\n        .package-selector-header h3 {\n          margin: 0 0 8px 0;\n          font-size: 1.5rem;\n          color: #1f2937;\n        }\n\n        .package-selector-subtitle {\n          margin: 0;\n          color: #6b7280;\n          font-size: 0.9rem;\n        }\n\n        .package-selector-tip {\n          margin-top: 12px;\n          padding: 12px;\n          background: #fef3c7;\n          border-left: 4px solid #f59e0b;\n          border-radius: 6px;\n          font-size: 0.9rem;\n          color: #92400e;\n          text-align: left;\n        }\n\n        .package-selector-tip code {\n          background: #fed7aa;\n          padding: 2px 6px;\n          border-radius: 3px;\n          font-family: monospace;\n          font-size: 0.85rem;\n        }\n\n        .package-selector-actions {\n          display: flex;\n          gap: 12px;\n          margin-bottom: 16px;\n          flex-wrap: wrap;\n        }\n\n        .selector-btn {\n          padding: 8px 16px;\n          border: 1px solid #d1d5db;\n          background: white;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: all 0.2s;\n        }\n\n        .selector-btn:hover {\n          background: #f3f4f6;\n          border-color: #9ca3af;\n        }\n\n        .selector-btn-primary {\n          background: #3b82f6;\n          color: white;\n          border-color: #3b82f6;\n        }\n\n        .selector-btn-primary:hover {\n          background: #2563eb;\n        }\n\n        .selector-btn-recommended {\n          background: #f59e0b;\n          color: white;\n          border-color: #f59e0b;\n          font-weight: 600;\n        }\n\n        .selector-btn-recommended:hover {\n          background: #d97706;\n        }\n\n        .selector-btn-ggplot2 {\n          background: #06b6d4;\n          color: white;\n          border-color: #06b6d4;\n        }\n\n        .selector-btn-ggplot2:hover {\n          background: #0891b2;\n        }\n\n        .selector-btn-tidyverse {\n          background: #8b5cf6;\n          color: white;\n          border-color: #8b5cf6;\n        }\n\n        .selector-btn-tidyverse:hover {\n          background: #7c3aed;\n        }\n\n        .selector-btn-confirm {\n          width: 100%;\n          padding: 12px;\n          background: #10b981;\n          color: white;\n          border: none;\n          font-weight: 600;\n          font-size: 1rem;\n        }\n\n        .selector-btn-confirm:hover {\n          background: #059669;\n        }\n\n        .package-selector-stats {\n          padding: 12px;\n          background: #f0f9ff;\n          border-radius: 6px;\n          margin-bottom: 16px;\n          text-align: center;\n          color: #1e40af;\n        }\n\n        .package-list {\n          max-height: 400px;\n          overflow-y: auto;\n          margin-bottom: 20px;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n        }\n\n        .package-category {\n          margin-bottom: 24px;\n        }\n\n        .package-category:last-child {\n          margin-bottom: 0;\n        }\n\n        .category-title {\n          margin: 0 0 12px 0;\n          font-size: 1rem;\n          color: #4b5563;\n          border-bottom: 2px solid #e5e7eb;\n          padding-bottom: 8px;\n        }\n\n        .package-item {\n          display: flex;\n          align-items: center;\n          padding: 10px;\n          margin-bottom: 8px;\n          border: 1px solid #e5e7eb;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .package-item:hover {\n          background: #f9fafb;\n          border-color: #3b82f6;\n        }\n\n        .package-item-selected {\n          background: #eff6ff;\n          border-color: #3b82f6;\n        }\n\n        .package-item-required {\n          background: #fef3c7;\n          border-color: #fbbf24;\n          cursor: not-allowed;\n          opacity: 0.8;\n        }\n\n        .package-item input[type="checkbox"] {\n          margin-right: 12px;\n          width: 18px;\n          height: 18px;\n          cursor: pointer;\n        }\n\n        .package-item-required input[type="checkbox"] {\n          cursor: not-allowed;\n        }\n\n        .package-info {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .package-name {\n          font-weight: 600;\n          color: #1f2937;\n          font-size: 0.95rem;\n        }\n\n        .package-desc {\n          font-size: 0.85rem;\n          color: #6b7280;\n        }\n\n        .package-selector-footer {\n          border-top: 1px solid #e5e7eb;\n          padding-top: 20px;\n        }\n\n        .add-custom-package {\n          display: flex;\n          gap: 8px;\n          padding: 12px;\n          background: #f9fafb;\n          border: 2px dashed #d1d5db;\n          border-radius: 8px;\n        }\n\n        .custom-pkg-input {\n          flex: 1;\n          padding: 8px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 0.9rem;\n        }\n\n        .custom-pkg-input:focus {\n          outline: none;\n          border-color: #3b82f6;\n        }\n\n        .add-custom-pkg-btn {\n          padding: 8px 20px;\n          background: #10b981;\n          color: white;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.2s;\n        }\n\n        .add-custom-pkg-btn:hover:not(:disabled) {\n          background: #059669;\n        }\n\n        .add-custom-pkg-btn:disabled {\n          background: #9ca3af;\n          cursor: not-allowed;\n        }\n\n        .remove-custom-pkg-btn {\n          padding: 4px 8px;\n          background: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: all 0.2s;\n          margin-left: 8px;\n        }\n\n        .remove-custom-pkg-btn:hover {\n          background: #dc2626;\n        }\n\n        .package-item {\n          position: relative;\n        }\n\n        .cache-info-banner {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          margin-top: 12px;\n          padding: 12px;\n          background: #d1fae5;\n          border-left: 4px solid #10b981;\n          border-radius: 6px;\n          font-size: 0.9rem;\n          color: #065f46;\n        }\n\n        .clear-cache-btn {\n          padding: 8px 16px;\n          background: #ef4444;\n          color: white;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          font-weight: 600;\n          white-space: nowrap;\n          transition: all 0.2s;\n        }\n\n        .clear-cache-btn:hover {\n          background: #dc2626;\n          transform: translateY(-1px);\n          box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);\n        }\n      '})]})},Ge=[{id:"circular-stacked-barplot",name:"ÂúÜÂΩ¢Â†ÜÂè†Êù°ÂΩ¢Âõæ",description:"‰ΩøÁî®ÊûÅÂùêÊ†áÁ≥ªÁªüÂàõÂª∫ÁöÑÂúÜÂΩ¢Â†ÜÂè†Êù°ÂΩ¢ÂõæÔºåÈÄÇÂêàÂ±ïÁ§∫Â§öÁª¥Â∫¶ÂàÜÁ±ªÊï∞ÊçÆ",category:"È´òÁ∫ßÂõæË°®",requiredPackages:["ggplot2","dplyr","tidyr","viridis"],code:'# library\n# Ê≥®ÊÑèÔºöwebR ‰∏çÊîØÊåÅ tidyverse ÂÖÉÂåÖÔºåÈúÄË¶ÅÂàÜÂà´Âä†ËΩΩÊ†∏ÂøÉÂåÖ\nlibrary(ggplot2)  # Áî®‰∫éÁªòÂõæ\nlibrary(dplyr)    # Áî®‰∫é %>%, group_by, summarize, arrange, mutate Á≠â\nlibrary(tidyr)    # Áî®‰∫é gather ÂáΩÊï∞\nlibrary(viridis)  # Áî®‰∫éÈÖçËâ≤\n \n# Create dataset\ndata <- data.frame(\n  individual=paste( "Mister ", seq(1,60), sep=""),\n  group=factor(c( rep(\'A\', 10), rep(\'B\', 30), rep(\'C\', 14), rep(\'D\', 6))) ,\n  value1=sample( seq(10,100), 60, replace=T),\n  value2=sample( seq(10,100), 60, replace=T),\n  value3=sample( seq(10,100), 60, replace=T)\n)\n \n# Transform data in a tidy format (long format)\ndata <- data %>% gather(key = "observation", value="value", -c(1,2))\n\n# Set a number of \'empty bar\' to add at the end of each group\nempty_bar <- 2\nnObsType <- nlevels(as.factor(data$observation))\nto_add <- data.frame( matrix(NA, empty_bar*nlevels(data$group)*nObsType, ncol(data)) )\ncolnames(to_add) <- colnames(data)\nto_add$group <- rep(levels(data$group), each=empty_bar*nObsType )\ndata <- rbind(data, to_add)\ndata <- data %>% arrange(group, individual)\ndata$id <- rep( seq(1, nrow(data)/nObsType) , each=nObsType)\n \n# Get the name and the y position of each label\nlabel_data <- data %>% group_by(id, individual) %>% summarize(tot=sum(value))\nnumber_of_bar <- nrow(label_data)\nangle <- 90 - 360 * (label_data$id-0.5) /number_of_bar     # I substract 0.5 because the letter must have the angle of the center of the bars. Not extreme right(1) or extreme left (0)\nlabel_data$hjust <- ifelse( angle < -90, 1, 0)\nlabel_data$angle <- ifelse(angle < -90, angle+180, angle)\n \n# prepare a data frame for base lines\nbase_data <- data %>% \n  group_by(group) %>% \n  summarize(start=min(id), end=max(id) - empty_bar) %>% \n  rowwise() %>% \n  mutate(title=mean(c(start, end)))\n \n# prepare a data frame for grid (scales)\ngrid_data <- base_data\ngrid_data$end <- grid_data$end[ c( nrow(grid_data), 1:nrow(grid_data)-1)] + 1\ngrid_data$start <- grid_data$start - 1\ngrid_data <- grid_data[-1,]\n \n# Make the plot\np <- ggplot(data) +      \n  \n  # Add the stacked bar\n  geom_bar(aes(x=as.factor(id), y=value, fill=observation), stat="identity", alpha=0.5) +\n  scale_fill_viridis(discrete=TRUE) +\n  \n  # Add a val=100/75/50/25 lines. I do it at the beginning to make sur barplots are OVER it.\n  geom_segment(data=grid_data, aes(x = end, y = 0, xend = start, yend = 0), colour = "grey", alpha=1, linewidth=0.3 , inherit.aes = FALSE ) +\n  geom_segment(data=grid_data, aes(x = end, y = 50, xend = start, yend = 50), colour = "grey", alpha=1, linewidth=0.3 , inherit.aes = FALSE ) +\n  geom_segment(data=grid_data, aes(x = end, y = 100, xend = start, yend = 100), colour = "grey", alpha=1, linewidth=0.3 , inherit.aes = FALSE ) +\n  geom_segment(data=grid_data, aes(x = end, y = 150, xend = start, yend = 150), colour = "grey", alpha=1, linewidth=0.3 , inherit.aes = FALSE ) +\n  geom_segment(data=grid_data, aes(x = end, y = 200, xend = start, yend = 200), colour = "grey", alpha=1, linewidth=0.3 , inherit.aes = FALSE ) +\n  \n  # Add text showing the value of each 100/75/50/25 lines\n  ggplot2::annotate("text", x = rep(max(data$id),5), y = c(0, 50, 100, 150, 200), label = c("0", "50", "100", "150", "200") , color="grey", size=6 , angle=0, fontface="bold", hjust=1) +\n  \n  ylim(-150,max(label_data$tot, na.rm=T)) +\n  theme_minimal() +\n  theme(\n    legend.position = "none",\n    axis.text = element_blank(),\n    axis.title = element_blank(),\n    panel.grid = element_blank(),\n    plot.margin = unit(rep(-1,4), "cm") \n  ) +\n  coord_polar() +\n  \n  # Add labels on top of each bar\n  geom_text(data=label_data, aes(x=id, y=tot+10, label=individual, hjust=hjust), color="black", fontface="bold",alpha=0.6, size=5, angle= label_data$angle, inherit.aes = FALSE ) +\n  \n  # Add base line information\n  geom_segment(data=base_data, aes(x = start, y = -5, xend = end, yend = -5), colour = "black", alpha=0.8, size=0.6 , inherit.aes = FALSE )  +\n  geom_text(data=base_data, aes(x = title, y = -18, label=group), hjust=c(1,1,0,0), colour = "black", alpha=0.8, size=4, fontface="bold", inherit.aes = FALSE)\n\n# ÊòæÁ§∫ÂõæË°®ÔºàwebR ÈúÄË¶ÅÊòæÂºèÊâìÂç∞ÊâçËÉΩÊòæÁ§∫Ôºâ\nprint(p)\n'},{id:"stream-graph",name:"ÊµÅÂõæ",description:"‰ΩøÁî® ggstream ÂàõÂª∫ÁöÑÊµÅÂõæÔºåÈÄÇÂêàÂ±ïÁ§∫Êó∂Èó¥Â∫èÂàóÊï∞ÊçÆÁöÑÂèòÂåñË∂ãÂäø",category:"È´òÁ∫ßÂõæË°®",requiredPackages:["ggplot2","ggstream"],code:'# Âä†ËΩΩÂåÖ\nlibrary(ggplot2)\nlibrary(ggstream)\n\n# ÂàõÂª∫Êï∞ÊçÆ\ndata <- data.frame(\n  year=rep(seq(1990,2016) , each=10),\n  name=rep(letters[1:10] , 27),\n  value=sample( seq(0,1,0.0001) , 270)\n)\n\n# ‰ΩøÁî® ggplot2 Âíå ggstream ÂàõÂª∫ÈùôÊÄÅÊµÅÂõæ\np <- ggplot(data, aes(x = year, y = value, fill = name)) +\n  geom_stream() +\n  scale_fill_brewer(palette = "Spectral") +\n  theme_minimal() +\n  labs(title = "ÊµÅÂõæ",\n       x = "Âπ¥‰ªΩ",\n       y = "ÂÄº",\n       fill = "Á±ªÂà´") +\n  theme(legend.position = "right")\n\n# ‰øùÂ≠ò‰∏∫ PNG Êñá‰ª∂\nprint(p)\n'},{id:"sankey-diagram",name:"Ê°ëÂü∫Âõæ",description:"‰ΩøÁî® ggalluvial ÂàõÂª∫ÁöÑÊ°ëÂü∫ÂõæÔºàÂÜ≤ÁßØÂõæÔºâÔºåÈÄÇÂêàÂ±ïÁ§∫ÊµÅÁ®ãÂíåËÉΩÈáèÊµÅÂä®ÂÖ≥Á≥ª",category:"È´òÁ∫ßÂõæË°®",requiredPackages:["ggplot2","dplyr","ggalluvial"],code:'# ==========================================\n# Ê°ëÂü∫ÂõæÁ§∫‰æã - Ëã±ÂõΩËÉΩÊ∫êÁ≥ªÁªüÊµÅÂä®ÂõæÔºàÈùôÊÄÅÁâàÊú¨Ôºâ\n# ==========================================\n# ËØ¥ÊòéÔºöÊú¨Á§∫‰æãÂ±ïÁ§∫Â¶Ç‰Ωï‰ΩøÁî® ggplot2 Âíå ggalluvial ÂåÖÁªòÂà∂Ê°ëÂü∫ÂõæÔºàAlluvial DiagramÔºâ\n# Ê°ëÂü∫ÂõæÊòØ‰∏ÄÁßçÊµÅÁ®ãÂõæÔºåÁî®‰∫éÂèØËßÜÂåñËÉΩÈáè„ÄÅÁâ©Ë¥®ÊàñÊàêÊú¨Á≠âÂú®Á≥ªÁªü‰∏≠ÁöÑÊµÅÂä®\n# Âõæ‰∏≠ÁöÑÂ∏¶Áä∂ÂÆΩÂ∫¶‰∏éÊµÅÈáèÂ§ßÂ∞èÊàêÊ≠£ÊØîÔºåÈÄÇÂêàÂ±ïÁ§∫Â§çÊùÇÁöÑÊµÅÂä®ÂÖ≥Á≥ª\n# \n# Êï∞ÊçÆÊù•Ê∫êÔºöËã±ÂõΩËÉΩÊ∫êÁ≥ªÁªüÊï∞ÊçÆÔºàÁÆÄÂåñÁâàÔºåÂ±ïÁ§∫‰∏ªË¶ÅËÉΩÊ∫êÊµÅÂä®Ôºâ\n# Âçï‰ΩçÔºöTWhÔºàÂ§™Áì¶Êó∂Ôºâ\n# ==========================================\n\n# Âä†ËΩΩÂøÖÈúÄÁöÑÂåÖ\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggalluvial)\n\n# ÂàõÂª∫ÁÆÄÂåñÁöÑËÉΩÊ∫êÊµÅÂä®Êï∞ÊçÆÔºà‰∏âÂ±ÇÊµÅÂä®ÔºöÊù•Ê∫ê -> ËΩ¨Êç¢ -> ÁªàÁ´Ø‰ΩøÁî®Ôºâ\n# Ëøô‰∏™Êï∞ÊçÆÁªìÊûÑÊõ¥ÈÄÇÂêàÂú® WebR ÁéØÂ¢É‰∏≠‰ΩøÁî® ggalluvial ÂåÖÁªòÂà∂\nenergy_flows <- data.frame(\n  # ËÉΩÊ∫êÊù•Ê∫ê\n  source = c(\n    "ÁÖ§ÁÇ≠", "ÁÖ§ÁÇ≠", "ÁÖ§ÁÇ≠",\n    "Â§©ÁÑ∂Ê∞î", "Â§©ÁÑ∂Ê∞î", "Â§©ÁÑ∂Ê∞î", "Â§©ÁÑ∂Ê∞î",\n    "Áü≥Ê≤π", "Áü≥Ê≤π", "Áü≥Ê≤π",\n    "Ê†∏ËÉΩ", "Ê∞¥Áîµ", "È£éËÉΩ", "Â§™Èò≥ËÉΩ",\n    "ÁîüÁâ©Ë¥®", "ÁîüÁâ©Ë¥®"\n  ),\n  \n  # ËΩ¨Êç¢ËøáÁ®ã\n  conversion = c(\n    "ÁÉ≠ÂäõÂèëÁîµ", "Â∑•‰∏ö", "ÂÆ∂Â∫≠‰æõÊöñ",\n    "ÁÉ≠ÂäõÂèëÁîµ", "Â∑•‰∏ö", "ÂÆ∂Â∫≠‰æõÊöñ", "ÂïÜ‰∏ö‰æõÊöñ",\n    "ÈÅìË∑Ø‰∫§ÈÄö", "Ëà™Á©∫", "Â∑•‰∏ö",\n    "ÁîµÁΩë", "ÁîµÁΩë", "ÁîµÁΩë", "ÁîµÁΩë",\n    "ÁÉ≠ÂäõÂèëÁîµ", "ÁîüÁâ©ÁáÉÊñô"\n  ),\n  \n  # ÁªàÁ´Ø‰ΩøÁî®\n  end_use = c(\n    "ÁîµÁΩë", "Â∑•‰∏öÁî®ËÉΩ", "Â±ÖÊ∞ëÁî®ËÉΩ",\n    "ÁîµÁΩë", "Â∑•‰∏öÁî®ËÉΩ", "Â±ÖÊ∞ëÁî®ËÉΩ", "ÂïÜ‰∏öÁî®ËÉΩ",\n    "‰∫§ÈÄöËøêËæì", "‰∫§ÈÄöËøêËæì", "Â∑•‰∏öÁî®ËÉΩ",\n    "ÁîµÂäõ", "ÁîµÂäõ", "ÁîµÂäõ", "ÁîµÂäõ",\n    "ÁîµÁΩë", "‰∫§ÈÄöËøêËæì"\n  ),\n  \n  # ËÉΩÈáèÂÄºÔºàTWhÔºâ\n  value = c(\n    400, 150, 100,\n    350, 120, 180, 80,\n    500, 130, 80,\n    290, 60, 190, 60,\n    100, 80\n  ),\n  \n  stringsAsFactors = FALSE\n)\n\n# Êü•ÁúãÊï∞ÊçÆÁªìÊûÑ\nprint("ËÉΩÊ∫êÊµÅÂä®Êï∞ÊçÆÔºàÂâç10Ë°åÔºâÔºö")\nhead(energy_flows, 10)\n\n# ‰ΩøÁî® ggalluvial ÂåÖÁªòÂà∂Ê°ëÂü∫ÂõæÔºàÂÜ≤ÁßØÂõæÔºâ\n# ËøôÊòØ‰∏Ä‰∏™ÈùôÊÄÅÂõæË°®ÔºåÂèØ‰ª•Âú® WebR ÁéØÂ¢É‰∏≠Ê≠£Â∏∏ÊòæÁ§∫\np <- ggplot(energy_flows,\n       aes(y = value,\n           axis1 = source,      # Á¨¨‰∏ÄÂ±ÇÔºöËÉΩÊ∫êÊù•Ê∫ê\n           axis2 = conversion,  # Á¨¨‰∫åÂ±ÇÔºöËΩ¨Êç¢ËøáÁ®ã\n           axis3 = end_use)) +  # Á¨¨‰∏âÂ±ÇÔºöÁªàÁ´Ø‰ΩøÁî®\n  \n  # ÁªòÂà∂ÊµÅÂä®Â∏¶ÔºàalluviumÔºâ- ‰ΩøÁî®ÁÅ∞Ëâ≤ÔºåÂè†Âä†ÈÉ®ÂàÜËá™Âä®Âä†Ê∑±\n  geom_alluvium(fill = "grey70",     # Áªü‰∏ÄÁÅ∞Ëâ≤\n                width = 1/12,\n                alpha = 0.5,         # ÂçäÈÄèÊòéÔºåÂè†Âä†Â§ÑËá™Âä®ÂèòÊ∑±\n                decreasing = FALSE) +\n  \n  # ÁªòÂà∂ÂàÜÁ±ªËΩ¥ÔºàstratumÔºâ- ‰ΩøÁî®ÂΩ©Ëâ≤Â°´ÂÖÖ\n  geom_stratum(aes(fill = after_stat(stratum)),  # Ê†πÊçÆËäÇÁÇπÂêçÁß∞ÁùÄËâ≤\n               width = 1/12, \n               color = "white",       # ÁôΩËâ≤ËæπÊ°Ü\n               linewidth = 0.8) +\n  \n  # Ê∑ªÂä†Ê†áÁ≠æ - ÁôΩËâ≤ÊñáÂ≠óÊõ¥Ê∏ÖÊô∞\n  geom_text(stat = "stratum", \n            aes(label = after_stat(stratum)),\n            size = 3.2,\n            fontface = "bold",\n            color = "white",\n            family = getOption("ggplot_chinese_font", "SimSun")) +  # ‰ΩøÁî®ÈÖçÁΩÆÁöÑ‰∏≠ÊñáÂ≠ó‰Ωì\n  \n  # ËÆæÁΩÆÈÖçËâ≤ÊñπÊ°àÔºàÁßëÁ†îËÆ∫Êñá‰∏ìÁî®ÈÖçËâ≤ÔºöColorBrewer Set1/Dark2Ê∑∑ÂêàÔºåËâ≤Áõ≤ÂèãÂ•ΩÔºâ\n  # ÈÖçËâ≤ÂéüÂàôÔºöËÉΩÊ∫êÊù•Ê∫êÁî®Ê∑±Ëâ≤Á≥ªÔºåËΩ¨Êç¢ËøáÁ®ãÁî®‰∏≠Ëâ≤Á≥ªÔºåÁªàÁ´Ø‰ΩøÁî®Áî®ÊµÖËâ≤Á≥ª\n  scale_fill_manual(\n    values = c(\n      # Á¨¨‰∏ÄÂ±ÇÔºöËÉΩÊ∫êÊù•Ê∫êÔºà8ÁßçÔºåÊ∑±Ëâ≤Á≥ªÔºâ\n      "ÁÖ§ÁÇ≠" = "#525252",      # Ê∑±ÁÅ∞Ëâ≤ÔºàÂåñÁü≥ËÉΩÊ∫êÔºâ\n      "Â§©ÁÑ∂Ê∞î" = "#2166AC",    # Ê∑±ËìùËâ≤ÔºàÂ§©ÁÑ∂Ê∞îÔºâ\n      "Áü≥Ê≤π" = "#B2182B",      # Ê∑±Á∫¢Ëâ≤ÔºàÁü≥Ê≤πÔºâ\n      "Ê†∏ËÉΩ" = "#762A83",      # Ê∑±Á¥´Ëâ≤ÔºàÊ†∏ËÉΩÔºâ\n      "Ê∞¥Áîµ" = "#01665E",      # Ê∑±ÈùíËâ≤ÔºàÊ∞¥ÁîµÔºâ\n      "È£éËÉΩ" = "#084594",      # Ê∑±ËìùËâ≤ÔºàÈ£éËÉΩÔºâ\n      "Â§™Èò≥ËÉΩ" = "#D94801",    # Ê∑±Ê©ôËâ≤ÔºàÂ§™Èò≥ËÉΩÔºâ\n      "ÁîüÁâ©Ë¥®" = "#1B7837",    # Ê∑±ÁªøËâ≤ÔºàÁîüÁâ©Ë¥®Ôºâ\n      \n      # Á¨¨‰∫åÂ±ÇÔºöËΩ¨Êç¢ËøáÁ®ãÔºà5ÁßçÔºå‰∏≠Ëâ≤Á≥ªÔºâ\n      "ÁÉ≠ÂäõÂèëÁîµ" = "#E78AC3",  # Á≤âËâ≤ÔºàÂèëÁîµÔºâ\n      "Â∑•‰∏ö" = "#8DA0CB",      # ËìùÁÅ∞Ëâ≤ÔºàÂ∑•‰∏öÔºâ\n      "ÂÆ∂Â∫≠‰æõÊöñ" = "#FC8D62",  # ÁèäÁëöÊ©ôÔºàÂÆ∂Â∫≠Ôºâ\n      "ÂïÜ‰∏ö‰æõÊöñ" = "#FFD92F",  # ÈáëÈªÑËâ≤ÔºàÂïÜ‰∏öÔºâ\n      "ÈÅìË∑Ø‰∫§ÈÄö" = "#66C2A5",  # ËñÑËç∑ÁªøÔºà‰∫§ÈÄöÔºâ\n      "Ëà™Á©∫" = "#A6D854",      # ÈªÑÁªøËâ≤ÔºàËà™Á©∫Ôºâ\n      "ÁîüÁâ©ÁáÉÊñô" = "#B3B3B3",  # ÊµÖÁÅ∞Ëâ≤ÔºàÁáÉÊñôÔºâ\n      "ÁîµÁΩë" = "#E5C494",      # Á±≥ÈªÑËâ≤ÔºàÁîµÁΩëÔºâ\n      \n      # Á¨¨‰∏âÂ±ÇÔºöÁªàÁ´Ø‰ΩøÁî®Ôºà4ÁßçÔºåÊµÖËâ≤Á≥ªÔºâ\n      "ÁîµÂäõ" = "#FEE0B6",      # ÊµÖÊ©ôËâ≤ÔºàÁîµÂäõÔºâ\n      "Â∑•‰∏öÁî®ËÉΩ" = "#D1E5F0",  # ÊµÖËìùËâ≤ÔºàÂ∑•‰∏öÔºâ\n      "Â±ÖÊ∞ëÁî®ËÉΩ" = "#FDDBC7",  # ÊµÖÁ≤âËâ≤ÔºàÂ±ÖÊ∞ëÔºâ\n      "ÂïÜ‰∏öÁî®ËÉΩ" = "#F7F7F7",  # ÊµÖÁÅ∞Ëâ≤ÔºàÂïÜ‰∏öÔºâ\n      "‰∫§ÈÄöËøêËæì" = "#B8E186"   # ÊµÖÁªøËâ≤Ôºà‰∫§ÈÄöÔºâ\n    ),\n    name = "ËäÇÁÇπÁ±ªÂûã",\n    guide = guide_legend(\n      title.position = "top",\n      title.hjust = 0.5,\n      ncol = 2,              # ‰∏§ÂàóÊòæÁ§∫\n      byrow = TRUE,\n      keywidth = unit(0.8, "cm"),\n      keyheight = unit(0.6, "cm"),\n      override.aes = list(color = NA)  # Âõæ‰æã‰∏≠‰∏çÊòæÁ§∫ËæπÊ°Ü\n    )\n  ) +\n  \n  # ËÆæÁΩÆXËΩ¥Ê†áÁ≠æ\n  scale_x_discrete(\n    limits = c("ËÉΩÊ∫êÊù•Ê∫ê", "ËΩ¨Êç¢ËøáÁ®ã", "ÁªàÁ´Ø‰ΩøÁî®"),\n    expand = c(0.1, 0.1)\n  ) +\n  \n  # Ê∑ªÂä†Ê†áÈ¢òÂíåÊ†áÁ≠æ\n  labs(\n    title = "Ëã±ÂõΩËÉΩÊ∫êÁ≥ªÁªüÊµÅÂä®ÂõæÔºàÊ°ëÂü∫ÂõæÔºâ",\n    subtitle = "Â±ïÁ§∫‰ªéËÉΩÊ∫êÊù•Ê∫êÂà∞ÁªàÁ´Ø‰ΩøÁî®ÁöÑËÉΩÈáèÊµÅÂä®Ë∑ØÂæÑ",\n    y = "ËÉΩÈáè (TWh)",\n    caption = "Êï∞ÊçÆÊù•Ê∫êÔºöËã±ÂõΩËÉΩÊ∫êÁ≥ªÁªüÁªüËÆ°Êï∞ÊçÆÔºàÁÆÄÂåñÁâàÔºâ"\n  ) +\n  \n  # ‰ΩøÁî®ÁßëÁ†îËÆ∫Êñá‰∏ìÁî®‰∏ªÈ¢òÔºàNature/Science È£éÊ†ºÔºâ\n  # ‰ΩøÁî®Áî®Êà∑ÈÖçÁΩÆÁöÑÂ≠ó‰ΩìÔºà‰ªéÂÖ®Â±ÄÈÄâÈ°π‰∏≠Ëé∑ÂèñÔºâ\n  theme_minimal(\n    base_size = 12, \n    base_family = getOption("ggplot_chinese_font", "SimSun")  # ÈªòËÆ§ÂÆã‰Ωì\n  ) +\n  theme(\n    # Ê†áÈ¢òËÆæÁΩÆ - ÊòéÁ°ÆÊåáÂÆöÂ≠ó‰Ωì\n    plot.title = element_text(\n      hjust = 0.5, \n      face = "bold", \n      size = 14,\n      margin = margin(b = 8),\n      family = getOption("ggplot_chinese_font", "SimSun")\n    ),\n    plot.subtitle = element_text(\n      hjust = 0.5, \n      size = 11, \n      color = "grey30",\n      margin = margin(b = 15),\n      family = getOption("ggplot_chinese_font", "SimSun")\n    ),\n    plot.caption = element_text(\n      hjust = 1, \n      size = 9, \n      color = "grey50",\n      margin = margin(t = 10),\n      family = getOption("ggplot_chinese_font", "SimSun")\n    ),\n    \n    # Âõæ‰æãËÆæÁΩÆÔºàÁßëÁ†îËÆ∫ÊñáÈ£éÊ†ºÔºâ- ÊòéÁ°ÆÊåáÂÆöÂ≠ó‰Ωì\n    legend.position = "right",\n    legend.title = element_text(face = "bold", size = 11, family = getOption("ggplot_chinese_font", "SimSun")),\n    legend.text = element_text(size = 10, family = getOption("ggplot_chinese_font", "SimSun")),\n    legend.background = element_rect(fill = "white", color = "grey80", linewidth = 0.3),\n    legend.margin = margin(6, 6, 6, 6),\n    legend.key.size = unit(0.6, "cm"),\n    \n    # ÁΩëÊ†ºÂíåËÉåÊôØ\n    panel.grid.major = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.background = element_rect(fill = "white", color = NA),\n    plot.background = element_rect(fill = "white", color = NA),\n    \n    # ÂùêÊ†áËΩ¥ËÆæÁΩÆ - ÊòéÁ°ÆÊåáÂÆöÂ≠ó‰Ωì\n    axis.text.y = element_text(size = 10, color = "grey20", family = getOption("ggplot_chinese_font", "SimSun")),\n    axis.text.x = element_text(size = 10, face = "bold", color = "grey20", family = getOption("ggplot_chinese_font", "SimSun")),\n    axis.title.y = element_text(size = 11, face = "bold", margin = margin(r = 10), family = getOption("ggplot_chinese_font", "SimSun")),\n    axis.title.x = element_blank(),\n    axis.line = element_line(color = "grey50", linewidth = 0.3),\n    axis.ticks = element_line(color = "grey50", linewidth = 0.3),\n    \n    # Êï¥‰ΩìËæπË∑ù\n    plot.margin = margin(15, 15, 15, 15)\n  )\n\n# ÊòæÁ§∫ÂõæË°®\n# Ê≥®ÊÑèÔºöÂ¶ÇÊûúÂú® WebR ‰∏≠ÈÅáÂà∞ PNG ËÆæÂ§áÈîôËØØÔºåÂ∞ùËØï‰ª•‰∏ãÈÄâÈ°πÔºö\n# options(webr.plot.backend = "canvas")  # ‰ΩøÁî® Canvas ÂêéÁ´Ø\nprint(p)\n\n# ==========================================\n# ÈÖçËâ≤ËÆæËÆ°ËØ¥Êòé\n# ==========================================\n# \n# „ÄêÂΩìÂâçËÆæËÆ°„ÄëÁÅ∞Ëâ≤ÊµÅÂä®Â∏¶ + ÂΩ©Ëâ≤ËäÇÁÇπÊ†áÁ≠æ\n# ËÆæËÆ°ÁêÜÂøµÔºö\n#   - ÊµÅÂä®Â∏¶ÔºöÁªü‰∏ÄÁÅ∞Ëâ≤Ôºàgrey70, alpha=0.5ÔºâÔºåÂè†Âä†ÈÉ®ÂàÜËá™Âä®Âä†Ê∑±\n#     ‰ºòÁÇπÔºöÁ™ÅÂá∫ÊµÅÂä®Ë∑ØÂæÑÔºå‰∏çÂπ≤Êâ∞ËäÇÁÇπÈ¢úËâ≤ÔºåËßÜËßâÊ∏ÖÊô∞\n#   \n#   - ËäÇÁÇπÊ†áÁ≠æÔºö‰∏âÂ±ÇÊ∏êÂèòÈÖçËâ≤ÔºàÊ∑±‚Üí‰∏≠‚ÜíÊµÖÔºâ\n#     Á¨¨‰∏ÄÂ±ÇÔºàËÉΩÊ∫êÊù•Ê∫êÔºâÔºöÊ∑±Ëâ≤Á≥ª - 8ÁßçËÉΩÊ∫êÁ±ªÂûã\n#     Á¨¨‰∫åÂ±ÇÔºàËΩ¨Êç¢ËøáÁ®ãÔºâÔºö‰∏≠Ëâ≤Á≥ª - 8ÁßçËΩ¨Êç¢ÊñπÂºè\n#     Á¨¨‰∏âÂ±ÇÔºàÁªàÁ´Ø‰ΩøÁî®ÔºâÔºöÊµÖËâ≤Á≥ª - 5Áßç‰ΩøÁî®Âú∫ÊôØ\n#     ‰ºòÁÇπÔºöÂ±ÇÊ¨°ÂàÜÊòéÔºå‰∏ÄÁúºÁúãÂá∫ËÉΩÈáèÊµÅÂä®ÊñπÂêë\n# \n'},{id:"histogram-ridgeline",name:"Áõ¥ÊñπËÑäÁ∫øÂõæ",description:"‰ΩøÁî® ggridges ÂàõÂª∫ÁöÑÁõ¥ÊñπËÑäÁ∫øÂõæÔºåÈÄÇÂêàÂ±ïÁ§∫Â§ö‰∏™ÂàÜÂ∏ÉÁöÑÂØπÊØîÔºå‰ΩøÁî®Áõ¥ÊñπÂõæËÄåÈùûÂØÜÂ∫¶Êõ≤Á∫ø",category:"È´òÁ∫ßÂõæË°®",requiredPackages:["ggplot2","ggridges","dplyr","forcats"],code:'# Âä†ËΩΩÂåÖ\nlibrary(ggridges)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(forcats)\n\n# ÂàõÂª∫Êï∞ÊçÆ\nset.seed(123)\ndata <- data.frame(\n  text = rep(c("Almost Certainly", "Very Good Chance", "We Believe", "Likely", \n               "About Even", "Little Chance", "Chances Are Slight", "Almost No Chance"), \n             each = 46),\n  value = c(\n    # Almost Certainly (46 values)\n    c(95,95,95,95,98,95,85,97,95,90,90,99,60,88.7,99,95,97,99,95,95,90,92,98,98,90,95,95,98,85,80,98,96,99,85,90,95,98,98,80,95,99,85,90,95,85,95),\n    # Very Good Chance (46 values)\n    c(80,75,85,85,95,99,95,95,95,85,90,97,80,69,98,90,90,95,95,90,80,85,90,92,90,85,90,95,85,15,80,85,85,84,95,85,96,96,90,90,90,80,70,80,90,80),\n    # We Believe (46 values)\n    c(66,51,80,80,65,80,80,75,65,65,80,90,60,50,5,85,75,80,75,50,60,85,85,70,80,50,60,75,50,60,60,80,50,60,60,75,70,45,70,85,90,65,70,100,95,55),\n    # Likely (46 values)\n    c(75,51,70,70,70,90,80,70,70,70,70,75,70,51,85,70,51,60,60,80,75,60,80,85,75,75,60,85,60,65,65,75,80,50,70,64,90,75,80,80,90,70,75,75,65,75),\n    # About Even (46 values)\n    c(50,50,50,50,50,50,45,50,50,52,50,50,50,50,50,50,50,50,50,50,50,50,49,50,50,50,50,50,50,50,50,50,50,50,40,50,50,52,50,48,50,45,50,50,50,49),\n    # Little Chance (46 values)\n    c(20,5,20,20,5,5,20,20,15,20,20,17,10,13,100,15,15,10,25,25,20,7,2,17,20,10,15,10,10,29,15,20,5,20,4,8,8,18,10,15,5,10,5,10,25,17),\n    # Chances Are Slight (46 values)\n    c(25,10,5,5,2,3,20,5,15,6,10,3,5,3,90,5,7,5,5,5,5,3,5,3,10,5,20,5,15,15,8,5,10,15,2,5,5,3,10,5,30,15,10,5,5,10),\n    # Almost No Chance (46 values)\n    c(5,5,1,1,1,1,10,3,5,10,15,2,5,2,95,1,2,1,5,5,5,3,5,2,2,2,5,2,1,7,1,10,0.05,5,2,2,1,7,1,5,1,5,2,1,2,5)\n  )\n)\n\n# ‰ΩøÁî® ggplot2 Âíå ggridges ÂàõÂª∫ÈùôÊÄÅËÑäÁ∫øÂõæ\np <- data %>%\n  mutate(text = fct_reorder(text, value)) %>%\n  ggplot(aes(y=text, x=value, fill=text)) +\n    geom_density_ridges(alpha=0.6, stat="binline", bins=20) +\n    theme_ridges(font_family = getOption("ggplot_chinese_font", "SimSun")) +\n    theme(\n      legend.position="none",\n      panel.spacing = unit(0.1, "lines"),\n      strip.text.x = element_text(size = 8)\n    ) +\n    labs(title = "Áõ¥ÊñπËÑäÁ∫øÂõæ",\n         x = "",\n         y = "ÂàÜÈÖçÊ¶ÇÁéá (%)")\n\n# ‰øùÂ≠ò‰∏∫ PNG Êñá‰ª∂\nprint(p)\n'},{id:"ridgeline-plot",name:"ËÑäÁ∫øÂõæ",description:"‰ΩøÁî® ggridges ÂàõÂª∫ÁöÑÊ∏©Â∫¶ÂàÜÂ∏ÉËÑäÁ∫øÂõæÔºåÂ±ïÁ§∫ÊûóËÇØÂ∏Ç2016Âπ¥ÂêÑÊúàÊ∏©Â∫¶ÂàÜÂ∏ÉÊÉÖÂÜµ",category:"È´òÁ∫ßÂõæË°®",requiredPackages:["ggplot2","ggridges","viridis"],code:'# Âä†ËΩΩÂåÖ\nlibrary(ggridges)\nlibrary(ggplot2)\nlibrary(viridis)\n\n# ‰ΩøÁî® ggridges ÂåÖÂÜÖÁΩÆÁöÑ lincoln_weather Êï∞ÊçÆÈõÜ\n# ËØ•Êï∞ÊçÆÈõÜÂåÖÂê´2016Âπ¥ÁæéÂõΩÂÜÖÂ∏ÉÊãâÊñØÂä†Â∑ûÊûóËÇØÂ∏ÇÁöÑÂ§©Ê∞îÊï∞ÊçÆ\n\n# ÂàõÂª∫ËÑäÁ∫øÂõæ\np <- ggplot(lincoln_weather, aes(x = `Mean Temperature [F]`, y = `Month`, fill = after_stat(x))) +\n  geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +\n  scale_fill_viridis(name = "Ê∏©Â∫¶ [F]", option = "C") +\n  labs(title = \'2016Âπ¥ÊûóËÇØÂ∏ÇÊ∏©Â∫¶ÂàÜÂ∏É\',\n       x = "Âπ≥ÂùáÊ∏©Â∫¶ [ÂçéÊ∞èÂ∫¶]",\n       y = "Êúà‰ªΩ") +\n  theme_minimal(base_family = getOption("ggplot_chinese_font", "SimSun")) +\n  theme(\n    legend.position = "right",\n    panel.spacing = unit(0.1, "lines"),\n    strip.text.x = element_text(size = 8),\n    plot.title = element_text(hjust = 0.5, face = "bold", family = getOption("ggplot_chinese_font", "SimSun")),\n    axis.title = element_text(family = getOption("ggplot_chinese_font", "SimSun")),\n    axis.text = element_text(family = getOption("ggplot_chinese_font", "SimSun")),\n    legend.title = element_text(family = getOption("ggplot_chinese_font", "SimSun"))\n  )\n\n# ÊòæÁ§∫ÂõæË°®\nprint(p)\n'}],He=p("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]),Xe=p("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ye=p("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var Qe=t(72),Ke=t.n(Qe),Je=t(825),Ze=t.n(Je),en=t(659),nn=t.n(en),tn=t(56),rn=t.n(tn),an=t(159),on=t.n(an),ln=t(113),sn=t.n(ln),cn=t(275),dn={};dn.styleTagTransform=sn(),dn.setAttributes=rn(),dn.insert=nn().bind(null,"head"),dn.domAPI=Ze(),dn.insertStyleElement=on(),Ke()(cn.A,dn),cn.A&&cn.A.locals&&cn.A.locals;const un=({onClose:e})=>{const[n,t]=(0,a.useState)(null),[o,i]=(0,a.useState)(!1),{updateCodeAndSync:l,installedPackages:s,isWebRReady:c}=(0,d.useBlockStore)(),u=function(){const e={};return Ge.forEach(n=>{e[n.category]||(e[n.category]=[]),e[n.category].push(n)}),e}();return(0,r.jsx)("div",{className:"template-selector-overlay",onClick:e,children:(0,r.jsxs)("div",{className:"template-selector-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"template-selector-header",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"üìö ÈÄâÊã©‰ª£Á†ÅÊ®°Êùø"}),(0,r.jsx)("p",{className:"template-selector-subtitle",children:"‰ªéÈ¢ÑËÆæÊ®°ÊùøÂø´ÈÄüÂºÄÂßãÂàõÂª∫ÂõæË°®"})]}),(0,r.jsx)("button",{className:"template-close-btn",onClick:e,children:(0,r.jsx)(g,{size:20})})]}),(0,r.jsxs)("div",{className:"template-selector-content",children:[(0,r.jsxs)("div",{className:"template-list",children:[Object.entries(u).map(([e,a])=>(0,r.jsxs)("div",{className:"template-category",children:[(0,r.jsx)("h3",{className:"template-category-title",children:e}),a.map(e=>{const{installed:a,missing:o}={installed:(i=e.requiredPackages).filter(e=>s.includes(e)),missing:i.filter(e=>!s.includes(e))};var i;const l=n?.id===e.id;return(0,r.jsxs)("div",{className:"template-item "+(l?"selected":""),onClick:()=>(e=>{t(e)})(e),children:[(0,r.jsx)("div",{className:"template-item-icon",children:(0,r.jsx)(He,{size:20})}),(0,r.jsxs)("div",{className:"template-item-content",children:[(0,r.jsx)("h4",{className:"template-item-name",children:e.name}),(0,r.jsx)("p",{className:"template-item-description",children:e.description}),(0,r.jsx)("div",{className:"template-packages-status",children:0===o.length?(0,r.jsxs)("span",{className:"packages-status-ready",children:[(0,r.jsx)(Xe,{size:14}),"ÊâÄÊúâÂåÖÂ∑≤ÂÆâË£Ö"]}):(0,r.jsxs)("span",{className:"packages-status-missing",children:[(0,r.jsx)(Ee,{size:14}),"Áº∫Â∞ë ",o.length," ‰∏™ÂåÖ"]})})]})]},e.id)})]},e)),0===Ge.length&&(0,r.jsx)("div",{className:"template-empty",children:(0,r.jsx)("p",{children:"ÊöÇÊó†ÂèØÁî®Ê®°Êùø"})})]}),(0,r.jsx)("div",{className:"template-detail",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"template-detail-header",children:[(0,r.jsx)("h3",{children:n.name}),(0,r.jsx)("span",{className:"template-detail-category",children:n.category})]}),(0,r.jsx)("p",{className:"template-detail-description",children:n.description}),(0,r.jsxs)("div",{className:"template-detail-packages",children:[(0,r.jsxs)("h4",{children:[(0,r.jsx)(Ye,{size:16}),"ÊâÄÈúÄ R ÂåÖ"]}),(0,r.jsx)("div",{className:"template-packages-list",children:n.requiredPackages.map(e=>{const n=s.includes(e);return(0,r.jsxs)("span",{className:"template-package-badge "+(n?"installed":"missing"),children:[n?(0,r.jsx)(Xe,{size:12}):(0,r.jsx)(Ee,{size:12}),e]},e)})})]}),(0,r.jsxs)("div",{className:"template-detail-code",children:[(0,r.jsx)("h4",{children:"‰ª£Á†ÅÈ¢ÑËßà"}),(0,r.jsx)("pre",{className:"template-code-preview",children:(0,r.jsx)("code",{children:n.code})})]}),(0,r.jsxs)("div",{className:"template-detail-actions",children:[(0,r.jsx)("button",{className:"template-load-btn",onClick:async()=>{if(!n)return;const t=n.requiredPackages.filter(e=>!s.includes(e));if(!(t.length>0)||window.confirm(`Ê≠§Ê®°ÊùøÈúÄË¶Å‰ª•‰∏ãÂåÖÔºå‰ΩÜÂ∞öÊú™ÂÆâË£ÖÔºö\n${t.join(", ")}\n\nÊòØÂê¶ÁªßÁª≠Âä†ËΩΩÔºüÔºàÂèØËÉΩÊó†Ê≥ïÊ≠£Â∏∏ËøêË°åÔºâ`)){i(!0);try{window.confirm("Âä†ËΩΩÊ®°ÊùøÂ∞ÜÊ∏ÖÁ©∫ÂΩìÂâçÊâÄÊúâÁßØÊú®ÔºåÁ°ÆÂÆöÁªßÁª≠ÂêóÔºü")&&(await l(n.code),e())}catch(e){console.error("Âä†ËΩΩÊ®°ÊùøÂ§±Ë¥•:",e),alert("Âä†ËΩΩÊ®°ÊùøÂ§±Ë¥•ÔºåËØ∑Êü•ÁúãÊéßÂà∂Âè∞‰∫ÜËß£ËØ¶ÊÉÖ")}finally{i(!1)}}},disabled:o||!c,children:o?"Âä†ËΩΩ‰∏≠...":"Âä†ËΩΩÊ≠§Ê®°Êùø"}),!c&&(0,r.jsxs)("p",{className:"template-warning",children:[(0,r.jsx)(Ee,{size:14}),"WebR Â∞öÊú™Â∞±Áª™ÔºåËØ∑Á≠âÂæÖÂàùÂßãÂåñÂÆåÊàê"]})]})]}):(0,r.jsxs)("div",{className:"template-detail-empty",children:[(0,r.jsx)(He,{size:48}),(0,r.jsx)("p",{children:"ËØ∑‰ªéÂ∑¶‰æßÈÄâÊã©‰∏Ä‰∏™Ê®°ÊùøÊü•ÁúãËØ¶ÊÉÖ"})]})})]})]})})},pn=[{name:"ÂæÆËΩØÈõÖÈªë",value:"Microsoft YaHei",description:"Áé∞‰ª£Êó†Ë°¨Á∫øÂ≠ó‰ΩìÔºåÊ∏ÖÊô∞ÊòìËØªÔºàÊé®ËçêÔºâ"},{name:"ÂÆã‰Ωì",value:"SimSun",description:"ÁªèÂÖ∏Ë°¨Á∫øÂ≠ó‰ΩìÔºåÈÄÇÂêàÊ≠£ÂºèÊñáÊ°£"},{name:"Èªë‰Ωì",value:"SimHei",description:"Êó†Ë°¨Á∫øÂ≠ó‰ΩìÔºåÈÜíÁõÆÁ™ÅÂá∫"},{name:"Ê•∑‰Ωì",value:"KaiTi",description:"‰π¶Ê≥ïÈ£éÊ†ºÔºå‰ºòÈõÖÁæéËßÇ"},{name:"‰ªøÂÆã",value:"FangSong",description:"Âç∞Âà∑‰ΩìÔºåÂè§ÂÖ∏È£éÊ†º"},{name:"Êñ∞ÂÆã‰Ωì",value:"NSimSun",description:"ÂÆã‰ΩìÁöÑÊîπËøõÁâàÊú¨"},{name:"ÂçéÊñáÂÆã‰Ωì",value:"STSong",description:"Ê∏ÖÊô∞ÁöÑË°¨Á∫øÂ≠ó‰Ωì"},{name:"ÂçéÊñáÈªë‰Ωì",value:"STHeiti",description:"Á≤óÈªë‰ΩìÔºåÈÜíÁõÆÁ™ÅÂá∫"},{name:"ÂçéÊñáÊ•∑‰Ωì",value:"STKaiti",description:"ÊµÅÁïÖÁöÑ‰π¶Ê≥ï‰Ωì"}],fn=[{name:"Times Roman",value:"Times",description:"ÁªèÂÖ∏Ë°¨Á∫øÂ≠ó‰ΩìÔºåÂ≠¶ÊúØÊ†áÂáÜ"},{name:"Times New Roman",value:"Times New Roman",description:"ÊîπËøõÁâàTimesÔºåÊõ¥Ê∏ÖÊô∞"},{name:"Arial",value:"Arial",description:"Áé∞‰ª£Êó†Ë°¨Á∫øÂ≠ó‰ΩìÔºåÊ∏ÖÊô∞ÊòìËØª"},{name:"Helvetica",value:"Helvetica",description:"ÁªèÂÖ∏Êó†Ë°¨Á∫øÂ≠ó‰ΩìÔºåÁÆÄÊ¥Å‰∏ì‰∏ö"},{name:"Calibri",value:"Calibri",description:"OfficeÈªòËÆ§Â≠ó‰ΩìÔºåÊ∏©ÂíåÂèãÂ•Ω"},{name:"Georgia",value:"Georgia",description:"Â±èÊòæË°¨Á∫øÂ≠ó‰ΩìÔºå‰ºòÈõÖÂ§ßÊñπ"},{name:"Palatino",value:"Palatino",description:"ÊñáËâ∫Â§çÂÖ¥È£éÊ†ºÔºåÈÄÇÂêàÈòÖËØª"},{name:"Garamond",value:"Garamond",description:"Ê≥ïÂõΩÂè§ÂÖ∏Â≠ó‰ΩìÔºåÁ≤æËá¥‰ºòÈõÖ"},{name:"Courier",value:"Courier",description:"Á≠âÂÆΩÂ≠ó‰ΩìÔºåÈÄÇÂêà‰ª£Á†Å"},{name:"Verdana",value:"Verdana",description:"ÂÆΩÊùæÂ≠óË∑ùÔºåÁΩëÈ°µÂèãÂ•Ω"}],gn=({onClose:e})=>{const{fontConfig:n,setFontConfig:t}=(0,d.useBlockStore)(),[o,i]=a.useState(n);return(0,r.jsxs)("div",{className:"font-selector",children:[(0,r.jsxs)("div",{className:"font-selector-header",children:[(0,r.jsx)("h3",{children:"üî§ Â≠ó‰ΩìÈÖçÁΩÆ"}),(0,r.jsx)("p",{className:"font-selector-subtitle",children:"ÈÄâÊã©Áî®‰∫éÂõæË°®ÁöÑ‰∏≠ÊñáÂíåËã±ÊñáÂ≠ó‰Ωì"}),(0,r.jsxs)("div",{className:"font-selector-tip",children:["üí° ÊèêÁ§∫Ôºö",(0,r.jsxs)("ul",{style:{marginTop:"8px",marginBottom:"0",paddingLeft:"20px"},children:[(0,r.jsx)("li",{children:"‰∏≠ÊñáÂ≠ó‰ΩìÁî®‰∫éÊòæÁ§∫ÊâÄÊúâ‰∏≠ÊñáÊñáÊú¨ÔºàÊ†áÈ¢ò„ÄÅÊ†áÁ≠æ„ÄÅÂõæ‰æãÁ≠âÔºâ"}),(0,r.jsx)("li",{children:"Ëã±ÊñáÂ≠ó‰ΩìÁî®‰∫éÊòæÁ§∫Ëã±ÊñáÊñáÊú¨ÂíåÊï∞Â≠ó"}),(0,r.jsx)("li",{children:"ÈªòËÆ§ÈÖçÁΩÆÔºöÂÆã‰Ωì + Times RomanÔºàÂ≠¶ÊúØËÆ∫ÊñáÊ†áÂáÜÔºâ"}),(0,r.jsx)("li",{children:"Âú®WebRÁéØÂ¢É‰∏≠ÔºåÂ≠ó‰ΩìÊîØÊåÅ‰æùËµñ‰∫éÊµèËßàÂô®ÁöÑÂ≠ó‰ΩìÊ∏≤ÊüìËÉΩÂäõ"})]})]})]}),(0,r.jsxs)("div",{className:"font-selector-content",children:[(0,r.jsxs)("div",{className:"font-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üá®üá≥ ‰∏≠ÊñáÂ≠ó‰Ωì"}),(0,r.jsx)("div",{className:"font-options",children:pn.map(e=>(0,r.jsxs)("label",{className:"font-option "+(o.chineseFont===e.value?"font-option-selected":""),children:[(0,r.jsx)("input",{type:"radio",name:"chinese-font",value:e.value,checked:o.chineseFont===e.value,onChange:()=>(e=>{i({...o,chineseFont:e})})(e.value)}),(0,r.jsxs)("div",{className:"font-info",children:[(0,r.jsx)("span",{className:"font-name",style:{fontFamily:e.value},children:e.name}),(0,r.jsx)("span",{className:"font-desc",children:e.description}),(0,r.jsx)("span",{className:"font-preview",style:{fontFamily:e.value},children:"Á§∫‰æãÔºöÁßëÁ†îÊï∞ÊçÆÂèØËßÜÂåñ"})]})]},e.value))})]}),(0,r.jsxs)("div",{className:"font-category",children:[(0,r.jsx)("h4",{className:"category-title",children:"üî§ Ëã±ÊñáÂ≠ó‰Ωì"}),(0,r.jsx)("div",{className:"font-options",children:fn.map(e=>(0,r.jsxs)("label",{className:"font-option "+(o.englishFont===e.value?"font-option-selected":""),children:[(0,r.jsx)("input",{type:"radio",name:"english-font",value:e.value,checked:o.englishFont===e.value,onChange:()=>(e=>{i({...o,englishFont:e})})(e.value)}),(0,r.jsxs)("div",{className:"font-info",children:[(0,r.jsx)("span",{className:"font-name",style:{fontFamily:e.value},children:e.name}),(0,r.jsx)("span",{className:"font-desc",children:e.description}),(0,r.jsx)("span",{className:"font-preview",style:{fontFamily:e.value},children:"Preview: Scientific Data Visualization"})]})]},e.value))})]}),(0,r.jsxs)("div",{className:"font-preview-box",children:[(0,r.jsx)("h4",{className:"preview-title",children:"üìã ÂΩìÂâçÈÖçÁΩÆÈ¢ÑËßà"}),(0,r.jsxs)("div",{className:"preview-content",children:[(0,r.jsxs)("div",{className:"preview-row",children:[(0,r.jsx)("strong",{children:"‰∏≠ÊñáÂ≠ó‰ΩìÔºö"}),(0,r.jsx)("span",{style:{fontFamily:o.chineseFont},children:pn.find(e=>e.value===o.chineseFont)?.name||o.chineseFont})]}),(0,r.jsxs)("div",{className:"preview-row",children:[(0,r.jsx)("strong",{children:"Ëã±ÊñáÂ≠ó‰ΩìÔºö"}),(0,r.jsx)("span",{style:{fontFamily:o.englishFont},children:fn.find(e=>e.value===o.englishFont)?.name||o.englishFont})]}),(0,r.jsx)("div",{className:"preview-sample",children:(0,r.jsx)("p",{style:{fontFamily:`${o.chineseFont}, ${o.englishFont}`},children:"Ê∑∑ÂêàÁ§∫‰æãÔºöScientific Research ÁßëÂ≠¶Á†îÁ©∂ (123.456)"})})]})]})]}),(0,r.jsxs)("div",{className:"font-selector-footer",children:[(0,r.jsx)("button",{className:"font-btn font-btn-reset",onClick:()=>{i({chineseFont:"Microsoft YaHei",englishFont:"Arial"})},children:"üîÑ ÊÅ¢Â§çÈªòËÆ§"}),(0,r.jsx)("button",{className:"font-btn font-btn-confirm",onClick:async()=>{t(o);try{await Te.webRRunner.updateFontConfig(o.chineseFont,o.englishFont)}catch(e){console.error("Êõ¥Êñ∞Â≠ó‰ΩìÈÖçÁΩÆÂ§±Ë¥•:",e)}e&&e()},children:"‚úì Á°ÆËÆ§Â∫îÁî®"})]}),(0,r.jsx)("style",{children:'\n        .font-selector {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          max-width: 800px;\n          margin: 0 auto;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n        }\n\n        .font-selector-header {\n          margin-bottom: 24px;\n          text-align: center;\n        }\n\n        .font-selector-header h3 {\n          margin: 0 0 8px 0;\n          font-size: 1.5rem;\n          color: #1f2937;\n        }\n\n        .font-selector-subtitle {\n          margin: 0;\n          color: #6b7280;\n          font-size: 0.9rem;\n        }\n\n        .font-selector-tip {\n          margin-top: 12px;\n          padding: 12px;\n          background: #fef3c7;\n          border-left: 4px solid #f59e0b;\n          border-radius: 6px;\n          font-size: 0.9rem;\n          color: #92400e;\n          text-align: left;\n        }\n\n        .font-selector-content {\n          max-height: 500px;\n          overflow-y: auto;\n          margin-bottom: 20px;\n        }\n\n        .font-category {\n          margin-bottom: 32px;\n        }\n\n        .category-title {\n          margin: 0 0 16px 0;\n          font-size: 1.1rem;\n          color: #374151;\n          border-bottom: 2px solid #e5e7eb;\n          padding-bottom: 8px;\n        }\n\n        .font-options {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n          gap: 12px;\n        }\n\n        .font-option {\n          display: flex;\n          align-items: flex-start;\n          padding: 12px;\n          border: 2px solid #e5e7eb;\n          border-radius: 8px;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .font-option:hover {\n          background: #f9fafb;\n          border-color: #3b82f6;\n        }\n\n        .font-option-selected {\n          background: #eff6ff;\n          border-color: #3b82f6;\n          box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2);\n        }\n\n        .font-option input[type="radio"] {\n          margin-right: 12px;\n          margin-top: 4px;\n          width: 18px;\n          height: 18px;\n          cursor: pointer;\n          flex-shrink: 0;\n        }\n\n        .font-info {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .font-name {\n          font-weight: 600;\n          color: #1f2937;\n          font-size: 1rem;\n        }\n\n        .font-desc {\n          font-size: 0.85rem;\n          color: #6b7280;\n        }\n\n        .font-preview {\n          font-size: 0.9rem;\n          color: #4b5563;\n          margin-top: 4px;\n          padding: 6px;\n          background: #f3f4f6;\n          border-radius: 4px;\n        }\n\n        .font-preview-box {\n          margin-top: 24px;\n          padding: 16px;\n          background: #f0f9ff;\n          border: 2px solid #3b82f6;\n          border-radius: 8px;\n        }\n\n        .preview-title {\n          margin: 0 0 12px 0;\n          font-size: 1rem;\n          color: #1e40af;\n        }\n\n        .preview-content {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        .preview-row {\n          display: flex;\n          gap: 8px;\n          align-items: center;\n          font-size: 0.95rem;\n        }\n\n        .preview-row strong {\n          color: #374151;\n          min-width: 90px;\n        }\n\n        .preview-row span {\n          color: #1f2937;\n          font-size: 1.05rem;\n        }\n\n        .preview-sample {\n          margin-top: 8px;\n          padding: 12px;\n          background: white;\n          border-radius: 6px;\n          border: 1px solid #dbeafe;\n        }\n\n        .preview-sample p {\n          margin: 0;\n          font-size: 1.1rem;\n          color: #1f2937;\n          text-align: center;\n        }\n\n        .font-selector-footer {\n          display: flex;\n          gap: 12px;\n          padding-top: 20px;\n          border-top: 1px solid #e5e7eb;\n        }\n\n        .font-btn {\n          flex: 1;\n          padding: 12px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-weight: 600;\n          font-size: 1rem;\n          transition: all 0.2s;\n        }\n\n        .font-btn-reset {\n          background: #6b7280;\n          color: white;\n        }\n\n        .font-btn-reset:hover {\n          background: #4b5563;\n        }\n\n        .font-btn-confirm {\n          background: #10b981;\n          color: white;\n        }\n\n        .font-btn-confirm:hover {\n          background: #059669;\n        }\n      '})]})},mn=p("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),hn=p("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),bn=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var yn=t(249),vn={};vn.styleTagTransform=sn(),vn.setAttributes=rn(),vn.insert=nn().bind(null,"head"),vn.domAPI=Ze(),vn.insertStyleElement=on(),Ke()(yn.A,vn),yn.A&&yn.A.locals&&yn.A.locals,o.createRoot(document.getElementById("root")).render((0,r.jsx)(a.StrictMode,{children:(0,r.jsx)(()=>{const e=a.useRef(null),{clearAll:n,isWebRReady:t,webRInitProgress:o,isDeveloperMode:i,selectedPackages:l}=(0,d.useBlockStore)(),[s,u]=(0,a.useState)(!0),[p,f]=(0,a.useState)(!1),[g,m]=(0,a.useState)(!1),[h,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!y&&!s){const e=async()=>{try{console.log("üöÄ Â∫îÁî®ÂêØÂä®ÔºåÂºÄÂßãÂàùÂßãÂåñ WebR..."),console.log("üì¶ Áî®Êà∑ÈÄâÊã©ÁöÑÂåÖ:",l),await Te.webRRunner.initialize(),console.log("‚úÖ WebR ÂàùÂßãÂåñÂÆåÊàê")}catch(e){console.error("‚ùå WebR ÂàùÂßãÂåñÂ§±Ë¥•:",e)}};v(!0),e()}},[s,y,l]),(0,r.jsxs)("div",{className:"app",children:[p&&(0,r.jsx)(un,{onClose:()=>f(!1)}),g&&(0,r.jsx)("div",{className:"webr-loading-overlay",children:(0,r.jsx)("div",{className:"webr-loading-content",style:{maxWidth:"800px",padding:"20px"},children:(0,r.jsx)(Ve,{onClose:()=>m(!1)})})}),h&&(0,r.jsx)("div",{className:"webr-loading-overlay",children:(0,r.jsx)("div",{className:"webr-loading-content",style:{maxWidth:"900px",padding:"20px"},children:(0,r.jsx)(gn,{onClose:()=>b(!1)})})}),s&&!t&&(0,r.jsx)("div",{className:"webr-loading-overlay",children:(0,r.jsx)("div",{className:"webr-loading-content",style:{maxWidth:"800px",padding:"20px"},children:(0,r.jsx)(Ve,{onClose:()=>u(!1)})})}),!s&&!t&&(0,r.jsx)("div",{className:"webr-loading-overlay",children:(0,r.jsxs)("div",{className:"webr-loading-content",children:[(0,r.jsx)("div",{className:"webr-loading-spinner"}),(0,r.jsx)("h2",{children:"Ê≠£Âú®ÂáÜÂ§á WebR ÁéØÂ¢É..."}),(0,r.jsx)("p",{className:"webr-loading-progress",children:o}),(0,r.jsxs)("p",{className:"webr-loading-tips",children:["üí° È¶ñÊ¨°Âä†ËΩΩÈúÄË¶Å‰∏ãËΩΩÁ∫¶ 10-20MB ÁöÑÊñá‰ª∂ÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖ",(0,r.jsx)("br",{}),"‚ö° Â∑≤ÂêØÁî®ÁºìÂ≠òÂäüËÉΩÔºöÈáçÂêØÂêéÂ∞ÜÂø´ÈÄüÂä†ËΩΩÔºåÊó†ÈúÄÈáçÂ§ç‰∏ãËΩΩ"]})]})}),(0,r.jsxs)("header",{className:"app-header",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsxs)("h1",{className:"app-title",children:[(0,r.jsx)("span",{className:"logo",children:"üé®"}),"GGplotChim"]}),(0,r.jsx)("p",{className:"app-subtitle",children:"ÂèØËßÜÂåñ ggplot2 ÁºñÁ®ãÂ∑•ÂÖ∑"})]}),(0,r.jsxs)("div",{className:"header-actions",children:[(0,r.jsxs)("button",{className:"header-btn package-btn",onClick:()=>{m(!0)},title:"ÁÆ°ÁêÜ R ÂåÖ",children:[(0,r.jsx)(Ye,{size:18}),"ÂåÖÁÆ°ÁêÜ"]}),(0,r.jsxs)("button",{className:"header-btn font-btn",onClick:()=>{b(!0)},title:"ÈÖçÁΩÆÂ≠ó‰Ωì",children:[(0,r.jsx)(mn,{size:18}),"Â≠ó‰Ωì"]}),(0,r.jsxs)("button",{className:"header-btn template-btn",onClick:()=>{f(!0)},title:"ÈÄâÊã©‰ª£Á†ÅÊ®°Êùø",children:[(0,r.jsx)(He,{size:18}),"Ê®°Êùø"]}),(0,r.jsxs)("button",{className:"header-btn",onClick:()=>{alert("È°πÁõÆÂØºÂÖ•ÂäüËÉΩÂºÄÂèë‰∏≠...")},title:"ÂØºÂÖ•È°πÁõÆ",children:[(0,r.jsx)(hn,{size:18}),"ÂØºÂÖ•"]}),(0,r.jsxs)("button",{className:"header-btn",onClick:()=>{alert("È°πÁõÆÂØºÂá∫ÂäüËÉΩÂºÄÂèë‰∏≠...")},title:"ÂØºÂá∫È°πÁõÆ",children:[(0,r.jsx)(ke,{size:18}),"ÂØºÂá∫"]}),(0,r.jsxs)("button",{className:"header-btn danger",onClick:()=>{confirm("Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÁßØÊú®ÂêóÔºü")&&n()},title:"Ê∏ÖÁ©∫ÊâÄÊúâ",children:[(0,r.jsx)(bn,{size:18}),"Ê∏ÖÁ©∫"]}),(0,r.jsx)(qe,{})]})]}),(0,r.jsxs)("main",{className:"app-main",children:[(0,r.jsx)("div",{className:"main-left",children:(0,r.jsx)(c,{onBlockDragStart:(n,t)=>{e.current&&e.current.handleBlockDragStart&&e.current.handleBlockDragStart(n,t)}})}),(0,r.jsx)("div",{className:"main-center",children:(0,r.jsx)(w,{ref:e})}),(0,r.jsx)("div",{className:"main-right",children:(0,r.jsx)(Ae,{})}),t&&i&&(0,r.jsx)("div",{className:"main-developer",children:(0,r.jsx)(Fe,{webR:Te.webRRunner.getWebR()})})]}),(0,r.jsxs)("footer",{className:"app-footer",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Âø´Êç∑ÈîÆÔºö"}),(0,r.jsx)("span",{style:{marginLeft:"0.5rem",fontSize:"0.85rem"},children:"Ê°ÜÈÄâÂ§öÈÄâ | Ctrl+ÁÇπÂáªÂàáÊç¢ÈÄâÊã© | Ctrl+AÂÖ®ÈÄâ | DeleteÂà†Èô§ | ESCÂèñÊ∂àÈÄâÊã©"})]}),(0,r.jsxs)("p",{style:{marginTop:"0.3rem",fontSize:"0.8rem",color:"#9ca3af"},children:[(0,r.jsx)("strong",{children:"ÊèêÁ§∫Ôºö"}),"Âú®Á©∫ÁôΩÂå∫ÂüüÊãñÂä®Èº†Ê†áÂèØ‰ª•Ê°ÜÈÄâÂ§ö‰∏™ÁßØÊú®ÔºåÊâπÈáèÁßªÂä®"]})]}),(0,r.jsx)("p",{className:"footer-info",children:"GGplotChim v1.0.0 | Âü∫‰∫é React 18 + TypeScript"})]})]})},{})}))})();