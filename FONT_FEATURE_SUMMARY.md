# 字体配置功能使用说明

## 🎯 功能概述

GGplotChim 现已支持自定义字体配置！您可以为图表选择合适的中文和英文字体。

## 🚀 快速开始

### 1. 打开字体选择器

点击顶部工具栏的 **"🔤 字体"** 按钮，打开字体配置界面。

### 2. 选择字体

- **中文字体**：支持宋体、黑体、楷体、仿宋、微软雅黑等8种常用字体
- **英文字体**：支持Times Roman、Arial、Helvetica、Calibri等10种常用字体

### 3. 应用配置

- 点击 **"✓ 确认应用"** 保存配置
- 配置会实时更新到 WebR 环境，无需重启
- 重新运行代码即可看到字体变化

## 📝 在代码中使用

所有示例代码已自动支持动态字体配置：

```r
# 系统会自动使用您选择的字体
ggplot(data, aes(x, y)) +
  geom_point() +
  theme_minimal(base_family = getOption("ggplot_chinese_font", "SimSun")) +
  labs(title = "我的图表")
```

## 🎨 默认配置

- **中文字体**：宋体 (SimSun) - 学术论文标准
- **英文字体**：Times Roman (Times) - 学术论文标准

## 💡 推荐组合

| 使用场景 | 中文字体 | 英文字体 |
|---------|---------|---------|
| 学术论文 | 宋体 | Times Roman |
| 商业报告 | 微软雅黑 | Arial |
| 演示文稿 | 黑体 | Helvetica |
| 技术文档 | 黑体 | Courier |

## ✨ 主要特性

1. **实时生效**：更改字体后立即生效，无需重启应用
2. **持久化保存**：配置保存在浏览器中，刷新页面后保持
3. **全局应用**：所有新运行的代码都会使用新字体配置
4. **智能回退**：如果字体不可用，自动回退到默认字体
5. **可视化预览**：选择字体时可以看到实时预览效果

## 🔧 技术实现

- 字体配置存储在 Zustand store 中
- 通过 R 的 `options()` 全局选项传递给 ggplot2
- 所有主题函数的 `base_family` 参数都支持动态配置

## 📚 详细文档

查看 [FONT_CONFIGURATION.md](./FONT_CONFIGURATION.md) 获取完整的字体配置指南。

## 🐛 已知限制

1. WebR 在浏览器中运行，字体支持依赖于系统字体
2. 某些特殊字体可能在不同操作系统上显示不同
3. 推荐使用常见系统字体以确保最佳兼容性

---

**更新日期**: 2025-10-05  
**版本**: v1.1.0

